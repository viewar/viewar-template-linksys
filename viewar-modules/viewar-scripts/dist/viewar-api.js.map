{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 91b6b103ce3202652b63","webpack:///./~/bluebird/js/browser/bluebird.js","webpack:///./src/dependencies.js","webpack:///./~/stampit/compose.js","webpack:///./src/utils/utils.js","webpack:///./src/constants.js","webpack:///./~/component-emitter/index.js","webpack:///./~/lodash/isArray.js","webpack:///./~/lodash/isObject.js","webpack:///./src/interface/core-interface.js","webpack:///./~/lodash/cloneDeep.js","webpack:///./src/utils/namespace.js","webpack:///./~/lodash/_root.js","webpack:///./~/lodash/defaults.js","webpack:///./src/components/identifiable/identifiable.js","webpack:///./~/lodash/isObjectLike.js","webpack:///./~/lodash/_arrayMap.js","webpack:///./~/lodash/_baseGetTag.js","webpack:///./~/lodash/_baseRest.js","webpack:///./~/lodash/_copyObject.js","webpack:///./~/lodash/_getNative.js","webpack:///./~/lodash/_Symbol.js","webpack:///./~/lodash/_castPath.js","webpack:///./~/lodash/_toKey.js","webpack:///./~/lodash/eq.js","webpack:///./~/lodash/isArrayLike.js","webpack:///./~/lodash/isEqual.js","webpack:///./~/lodash/toString.js","webpack:///./~/lodash/isArrayLikeObject.js","webpack:///./~/lodash/isSymbol.js","webpack:///./~/lodash/keys.js","webpack:///./~/lodash/keysIn.js","webpack:///./src/models/model-manager.js","webpack:///./src/scene/scene-manager.js","webpack:///./~/semver/semver.js","webpack:///./src/components/emitter.js","webpack:///./src/components/scene-node/scene-node.js","webpack:///./~/lodash/_ListCache.js","webpack:///./~/lodash/_SetCache.js","webpack:///./~/lodash/_Stack.js","webpack:///./~/lodash/_assocIndexOf.js","webpack:///./~/lodash/_baseFlatten.js","webpack:///./~/lodash/_baseGet.js","webpack:///./~/lodash/_cacheHas.js","webpack:///./~/lodash/_getMapData.js","webpack:///./~/lodash/_isIndex.js","webpack:///./~/lodash/_nativeCreate.js","webpack:///./~/lodash/_setToArray.js","webpack:///./~/lodash/isArguments.js","webpack:///./~/lodash/isBuffer.js","webpack:///./~/lodash/isFunction.js","webpack:///./src/storage/cloud.js","webpack:///./src/storage/local.js","webpack:///./src/utils/logger.js","webpack:///./src/utils/version-info.js","webpack:///./src/cameras/camera-common.js","webpack:///./src/components/tree/leaf.js","webpack:///./src/scene/configuration/option/option.js","webpack:///./~/lodash/_Map.js","webpack:///./~/lodash/_MapCache.js","webpack:///./~/lodash/_apply.js","webpack:///./~/lodash/_arrayFilter.js","webpack:///./~/lodash/_arrayIncludes.js","webpack:///./~/lodash/_arrayIncludesWith.js","webpack:///./~/lodash/_arrayPush.js","webpack:///./~/lodash/_assignValue.js","webpack:///./~/lodash/_baseAssignValue.js","webpack:///./~/lodash/_baseIndexOf.js","webpack:///./~/lodash/_baseIsEqual.js","webpack:///./~/lodash/_baseUnary.js","webpack:///./~/lodash/_cloneArrayBuffer.js","webpack:///./~/lodash/_getPrototype.js","webpack:///./~/lodash/_getSymbols.js","webpack:///./~/lodash/_isKey.js","webpack:///./~/lodash/_isPrototype.js","webpack:///./~/lodash/deburr.js","webpack:///./~/lodash/identity.js","webpack:///./~/lodash/isLength.js","webpack:///./~/lodash/isPlainObject.js","webpack:///./~/lodash/isString.js","webpack:///./~/lodash/isTypedArray.js","webpack:///./~/lodash/mergeWith.js","webpack:///./~/node-libs-browser/~/process/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/projects/project-manager.js","webpack:///./src/scene/room-manager.js","webpack:///./src/utils/app-utils.js","webpack:///./package.json","webpack:///./src/components/catalog-item/catalog-item.js","webpack:///./src/components/taggable/taggable.js","webpack:///./src/components/tree/node.js","webpack:///./src/models/model.js","webpack:///./src/scene/container.js","webpack:///./src/tracking/mesh.js","webpack:///./src/tracking/tracking-target.js","webpack:///./~/lodash/_Set.js","webpack:///./~/lodash/_Uint8Array.js","webpack:///./~/lodash/_arrayLikeKeys.js","webpack:///./~/lodash/_arrayReduce.js","webpack:///./~/lodash/_assignMergeValue.js","webpack:///./~/lodash/_baseClone.js","webpack:///./~/lodash/_baseDifference.js","webpack:///./~/lodash/_baseFor.js","webpack:///./~/lodash/_baseGetAllKeys.js","webpack:///./~/lodash/_baseMerge.js","webpack:///./~/lodash/_baseProperty.js","webpack:///./~/lodash/_baseSlice.js","webpack:///./~/lodash/_baseTimes.js","webpack:///./~/lodash/_baseToString.js","webpack:///./~/lodash/_baseUniq.js","webpack:///./~/lodash/_cloneBuffer.js","webpack:///./~/lodash/_cloneTypedArray.js","webpack:///./~/lodash/_copyArray.js","webpack:///./~/lodash/_createAssigner.js","webpack:///./~/lodash/_defineProperty.js","webpack:///./~/lodash/_equalArrays.js","webpack:///./~/lodash/_flatRest.js","webpack:///./~/lodash/_freeGlobal.js","webpack:///./~/lodash/_getAllKeys.js","webpack:///./~/lodash/_getAllKeysIn.js","webpack:///./~/lodash/_getSymbolsIn.js","webpack:///./~/lodash/_getTag.js","webpack:///./~/lodash/_initCloneObject.js","webpack:///./~/lodash/_isStrictComparable.js","webpack:///./~/lodash/_mapToArray.js","webpack:///./~/lodash/_matchesStrictComparable.js","webpack:///./~/lodash/_overArg.js","webpack:///./~/lodash/_overRest.js","webpack:///./~/lodash/_setToString.js","webpack:///./~/lodash/_toSource.js","webpack:///./~/lodash/flatMap.js","webpack:///./~/lodash/hasIn.js","webpack:///./~/lodash/stubArray.js","webpack:///./~/lodash/uniq.js","webpack:///./src/authentication/authentication-manager.js","webpack:///./src/cameras/cameras.js","webpack:///./src/screenshots/screenshot-manager.js","webpack:///./src/sync/sync-manager.js","webpack:///./src/tracking/trackers.js","webpack:///./src/utils/http.js","webpack:///./src/utils/ui.js","webpack:///./src/cameras/augmented-reality-camera.js","webpack:///./src/cameras/freeze-frame.js","webpack:///./src/cameras/perspective-camera.js","webpack:///./src/cameras/walk-camera.js","webpack:///./src/components/has-data.js","webpack:///./src/components/highlightable/highlightable.js","webpack:///./src/components/instantiable/instantiable.js","webpack:///./src/components/interactive/interactive.js","webpack:///./src/components/locatable/locatable.js","webpack:///./src/components/visible/visible.js","webpack:///./src/index.js","webpack:///./src/interface/adapters/android-adapter.js","webpack:///./src/interface/adapters/emscripten-adapter.js","webpack:///./src/interface/adapters/ios-adapter.js","webpack:///./src/interface/adapters/mock-adapter.js","webpack:///./src/interface/adapters/mock-calls.js","webpack:///./src/interface/adapters/resolve-adapter.js","webpack:///./src/interface/adapters/windows-adapter.js","webpack:///./src/interface/uwp/coherent.js","webpack:///./src/interface/uwp/uwp-interface.js","webpack:///./src/models/assembly-model.js","webpack:///./src/models/basic-model.js","webpack:///./src/models/category.js","webpack:///./src/models/configurable-model.js","webpack:///./src/models/reference-model.js","webpack:///./src/projects/project.js","webpack:///./src/scene/assembly.js","webpack:///./src/scene/configuration/configuration.js","webpack:///./src/scene/configuration/parser/parser.js","webpack:///./src/scene/configuration/parser/pattern.js","webpack:///./src/scene/configuration/parser/range.js","webpack:///./src/scene/configuration/property/by-options/categorized-property.js","webpack:///./src/scene/configuration/property/by-options/enumerated-property.js","webpack:///./src/scene/configuration/property/by-options/range-property.js","webpack:///./src/scene/configuration/property/by-type/geometric-property.js","webpack:///./src/scene/configuration/property/by-type/material-property.js","webpack:///./src/scene/configuration/property/by-type/null-property.js","webpack:///./src/scene/configuration/property/by-type/part-property.js","webpack:///./src/scene/configuration/property/constant.js","webpack:///./src/scene/configuration/property/property.factory.js","webpack:///./src/scene/configuration/property/property.js","webpack:///./src/scene/configuration/value-combination-iterator.js","webpack:///./src/scene/model-instance.js","webpack:///./src/scene/playable/animation.js","webpack:///./src/scene/playable/video.js","webpack:///./src/scene/update-scene.js","webpack:///./src/tracking/arkit-provider.js","webpack:///./src/tracking/google-tango-provider.js","webpack:///./src/tracking/kudan-provider.js","webpack:///./src/tracking/mock-provider.js","webpack:///./src/tracking/realsense-provider.js","webpack:///./src/tracking/structure-provider.js","webpack:///./src/tracking/vision-lib-provider.js","webpack:///./src/tracking/vuforia-provider.js","webpack:///./src/tracking/wikitude-provider.js","webpack:///./src/utils/if-core.js","webpack:///./src/utils/shared.js","webpack:///./src/utils/ui-styles.js","webpack:///./src/scene/configuration/parser/grammar.ne","webpack:///./~/dependency-injector/index.js","webpack:///./~/lodash/_DataView.js","webpack:///./~/lodash/_Hash.js","webpack:///./~/lodash/_Promise.js","webpack:///./~/lodash/_WeakMap.js","webpack:///./~/lodash/_addMapEntry.js","webpack:///./~/lodash/_addSetEntry.js","webpack:///./~/lodash/_arrayEach.js","webpack:///./~/lodash/_arraySome.js","webpack:///./~/lodash/_asciiToArray.js","webpack:///./~/lodash/_baseAssign.js","webpack:///./~/lodash/_baseAssignIn.js","webpack:///./~/lodash/_baseCreate.js","webpack:///./~/lodash/_baseEach.js","webpack:///./~/lodash/_baseFindIndex.js","webpack:///./~/lodash/_baseForOwn.js","webpack:///./~/lodash/_baseHasIn.js","webpack:///./~/lodash/_baseIntersection.js","webpack:///./~/lodash/_baseIsArguments.js","webpack:///./~/lodash/_baseIsEqualDeep.js","webpack:///./~/lodash/_baseIsMatch.js","webpack:///./~/lodash/_baseIsNaN.js","webpack:///./~/lodash/_baseIsNative.js","webpack:///./~/lodash/_baseIsTypedArray.js","webpack:///./~/lodash/_baseIteratee.js","webpack:///./~/lodash/_baseKeys.js","webpack:///./~/lodash/_baseKeysIn.js","webpack:///./~/lodash/_baseMap.js","webpack:///./~/lodash/_baseMatches.js","webpack:///./~/lodash/_baseMatchesProperty.js","webpack:///./~/lodash/_baseMergeDeep.js","webpack:///./~/lodash/_basePick.js","webpack:///./~/lodash/_basePickBy.js","webpack:///./~/lodash/_basePropertyDeep.js","webpack:///./~/lodash/_basePropertyOf.js","webpack:///./~/lodash/_baseSet.js","webpack:///./~/lodash/_baseSetToString.js","webpack:///./~/lodash/_baseUnset.js","webpack:///./~/lodash/_baseXor.js","webpack:///./~/lodash/_castArrayLikeObject.js","webpack:///./~/lodash/_castSlice.js","webpack:///./~/lodash/_charsEndIndex.js","webpack:///./~/lodash/_charsStartIndex.js","webpack:///./~/lodash/_cloneDataView.js","webpack:///./~/lodash/_cloneMap.js","webpack:///./~/lodash/_cloneRegExp.js","webpack:///./~/lodash/_cloneSet.js","webpack:///./~/lodash/_cloneSymbol.js","webpack:///./~/lodash/_copySymbols.js","webpack:///./~/lodash/_copySymbolsIn.js","webpack:///./~/lodash/_coreJsData.js","webpack:///./~/lodash/_createBaseEach.js","webpack:///./~/lodash/_createBaseFor.js","webpack:///./~/lodash/_createSet.js","webpack:///./~/lodash/_customDefaultsAssignIn.js","webpack:///./~/lodash/_customDefaultsMerge.js","webpack:///./~/lodash/_customOmitClone.js","webpack:///./~/lodash/_deburrLetter.js","webpack:///./~/lodash/_equalByTag.js","webpack:///./~/lodash/_equalObjects.js","webpack:///./~/lodash/_getMatchData.js","webpack:///./~/lodash/_getRawTag.js","webpack:///./~/lodash/_getValue.js","webpack:///./~/lodash/_hasPath.js","webpack:///./~/lodash/_hasUnicode.js","webpack:///./~/lodash/_hashClear.js","webpack:///./~/lodash/_hashDelete.js","webpack:///./~/lodash/_hashGet.js","webpack:///./~/lodash/_hashHas.js","webpack:///./~/lodash/_hashSet.js","webpack:///./~/lodash/_initCloneArray.js","webpack:///./~/lodash/_initCloneByTag.js","webpack:///./~/lodash/_isFlattenable.js","webpack:///./~/lodash/_isIterateeCall.js","webpack:///./~/lodash/_isKeyable.js","webpack:///./~/lodash/_isMasked.js","webpack:///./~/lodash/_listCacheClear.js","webpack:///./~/lodash/_listCacheDelete.js","webpack:///./~/lodash/_listCacheGet.js","webpack:///./~/lodash/_listCacheHas.js","webpack:///./~/lodash/_listCacheSet.js","webpack:///./~/lodash/_mapCacheClear.js","webpack:///./~/lodash/_mapCacheDelete.js","webpack:///./~/lodash/_mapCacheGet.js","webpack:///./~/lodash/_mapCacheHas.js","webpack:///./~/lodash/_mapCacheSet.js","webpack:///./~/lodash/_memoizeCapped.js","webpack:///./~/lodash/_nativeKeys.js","webpack:///./~/lodash/_nativeKeysIn.js","webpack:///./~/lodash/_nodeUtil.js","webpack:///./~/lodash/_objectToString.js","webpack:///./~/lodash/_parent.js","webpack:///./~/lodash/_setCacheAdd.js","webpack:///./~/lodash/_setCacheHas.js","webpack:///./~/lodash/_shortOut.js","webpack:///./~/lodash/_stackClear.js","webpack:///./~/lodash/_stackDelete.js","webpack:///./~/lodash/_stackGet.js","webpack:///./~/lodash/_stackHas.js","webpack:///./~/lodash/_stackSet.js","webpack:///./~/lodash/_strictIndexOf.js","webpack:///./~/lodash/_stringToArray.js","webpack:///./~/lodash/_stringToPath.js","webpack:///./~/lodash/_unicodeToArray.js","webpack:///./~/lodash/assignInWith.js","webpack:///./~/lodash/castArray.js","webpack:///./~/lodash/compact.js","webpack:///./~/lodash/constant.js","webpack:///./~/lodash/defaultsDeep.js","webpack:///./~/lodash/difference.js","webpack:///./~/lodash/flatten.js","webpack:///./~/lodash/get.js","webpack:///./~/lodash/intersection.js","webpack:///./~/lodash/isInteger.js","webpack:///./~/lodash/isNil.js","webpack:///./~/lodash/isUndefined.js","webpack:///./~/lodash/last.js","webpack:///./~/lodash/map.js","webpack:///./~/lodash/memoize.js","webpack:///./~/lodash/noop.js","webpack:///./~/lodash/omit.js","webpack:///./~/lodash/pick.js","webpack:///./~/lodash/property.js","webpack:///./~/lodash/stubFalse.js","webpack:///./~/lodash/toFinite.js","webpack:///./~/lodash/toInteger.js","webpack:///./~/lodash/toNumber.js","webpack:///./~/lodash/toPlainObject.js","webpack:///./~/lodash/trim.js","webpack:///./~/lodash/unzip.js","webpack:///./~/lodash/xor.js","webpack:///./~/lodash/zip.js","webpack:///./~/nearley/lib/nearley.js","webpack:///./~/setimmediate/setImmediate.js","webpack:///./~/stampit/dist/stampit.full.js","webpack:///./~/timers-browserify/main.js"],"names":["wireFactory","injector","Object","assign","$","factory","dependencies","props","resolveDictionary","CoreInterface","Symbol","AuthenticationManager","AppUtils","ModelManager","SceneManager","RoomManager","LocalStorage","CloudStorage","ProjectManager","SyncManager","Logger","Http","Window","Date","Config","AppConfig","sanitizePose","toValueObject","dictionarize","clamp","sanitizeSimpleModelDescription","sanitizeModelDescription","compileMaterialInfo","sanitizeModelTree","parseScenarioConfig","sanitizeCameraInteraction","sanitizeCameraPose","parse","emscriptenParse","format","createAssignMembers","generateId","testEnvironment","generateIdSingle","generateIdConcat","Math","random","toString","substring","length","pose","JSON","stringify","position","sanitize3DVector","orientation","sanitizeQuaternion","scale","quaternion","Array","w","x","y","z","vector","valueArray","reduce","object","part","name","value","array","propertyName","number","min","max","description","id","foreignKey","foreign_key","version","type","tags","resources","map","data","info","modelInfo","modelinfo","images","galleryImages","url","animations","videos","materialDescription","materials","resourcePackId","resource_pack","options","materialSystem","material_system","materialList","extractMaterialIds","parameterDescription","parameters","configurationDescription","configuration","references","UID","scaleReferencePose","Number","parseInt","minimap","desc","defaultInteraction","interactionPlane","translation","moveable","move","rotation","rotate","scaling","scalable","materialIds","forEach","surface","push","mapping","coreInterface","material","option","imageUrl","satisfies","core","resolveUrl","thumb","resource","scaledPose","rawNode","sub","models","children","category","rawConfig","environment","stages","uiConfig","config","modes","tracking","pk_id","Error","appId","app","host","pkId","stageList","storageKey","storage","mode","deviceOS","deviceName","deviceType","fakedBundle","trackerList","trackingInfo","initiallyActive","autostart","_raw","INTERACTION_PROPERTY_NAMES","INTERACTION_PROPERTY_VALUES","newInteraction","sanitizedInteraction","keys","includes","lookAt","newPose","convertUInt8ArrayToStr","convertStringToUInt8Array","str","Uint8Array","ArrayBuffer","i","strLen","charCodeAt","out","len","c","char2","char3","String","fromCharCode","_","assignMembers","members","public","shared","private","SYNC_CALLS","ASYNC_CALLS","HTTPS_PROXY_URL","MEDIUM_MEMORY_LIMIT","LOW_MEMORY_LIMIT","REFERENCE_POSE_SCALE_FACTOR","DEFAULT_SYNC","pollInterval","send","receive","DEFAULT_SYNC_URL","DEFAULT_API_CONFIG","debug","checkForUpdate","waitForDebugger","fallbackBundleId","exportToGlobal","logCoreCalls","PATH_SEPARATOR","KEY_SEPARATOR","DEFAULT_INTERACTION","manipulationPlane","DEFAULT_POSITION","DEFAULT_ORIENTATION","DEFAULT_SCALE","DEFAULT_POSE","DEFAULT_VISIBLE","DEFAULT_HIGHLIGHT_INFO","visible","AR_CAMERA_DEFAULTS","WALK_CAMERA_DEFAULTS","PERSPECTIVE_CAMERA_DEFAULTS","interaction","MATERIAL_MODEL_FOREIGN_KEY","MATERIAL_MODEL_FALLBACK_ID","WALLOBJECT_MODEL_FALLBACK_IDS","createCoreInterface","register","specification","resolveAdapter","window","logger","initialized","adapter","on","handleResult","handleError","handleRegisterEvent","handleUnregisterEvent","initialize","then","call","emitter","eventHandlers","resolvers","callHistory","nextRequestId","engine","AddOrRemoveOnHandler","once","off","emit","platform","callName","messageArguments","resolve","reject","onCancel","requestId","logCall","sendMessage","isAsyncCall","triggerEvent","relativeUrl","response","errors","error","second","eventName","trigger","args","logEntry","arguments","timestamp","trace","stack","replace","shift","createNamespace","namespaces","WeakSet","WeakMap","add","get","has","set","Identifiable","initializers","defineProperty","enumerable","configurable","staticProperties","createModelManager","createModel","createCategory","modelsById","downloadDescription","result","model","modelsByForeignKey","provideDescription","downloadedModelsById","getModelFromRepository","handleModelDownloadProgress","bind","appendRoomModels","modelManager","total","current","currentDownloadItem","download","downloadAll","roomMaterialModel","findModelByForeignKey","wallObjectModels","filter","hasAnyTag","treeModelsById","rootCategory","findModelById","stopDownloadAll","values","init","modelTree","parseModelTree","node","walkCamera","addChild","child","stopDownload","createSceneManager","SCENE_ID","createContainer","instanceProps","insertionParams","parent","scene","instantiate","instance","nodeRegistry","insertModel","actualNode","findNodeById","unregisterNodeRecursively","removeNode","newSceneState","sceneManager","calls","addNode","updateNode","moveNode","updateSceneThunk","getSceneState","sceneStateMutex","setSceneState","insertContainer","container","selection","select","clearSelection","clearScene","getSceneStateSafe","sceneObjectPoseChangedHandler","selectionChangedHandler","touchRayHandler","objectTouchedHandler","objectSnappedHandler","objectUnsnappedHandler","backgroundRestoreStartedHandler","backgroundRestoreCompletedHandler","createScene","unregisterAllInstances","insert","unregisterInstance","removeChild","getSceneStateThunk","setParent","oldSceneNode","newSceneNode","setPose","setInteraction","setVisible","propertyValues","setPropertyValues","nodeId","updatePose","objectId","touchResult","meshId","snappingInfoJson","snappingInfo","snap","object1","findObjectById","plug","object2","socket","createEmitter","awaitEvent","ProtectedEmitter","event","methods","SceneNode","newParent","newValues","callRecursively","fn","createCloudStorage","authenticationManager","appConfig","http","serverUrl","createUrl","action","password","provider","key","read","write","remove","checkPermission","path","token","match","RegExp","post","uid","content","createLocalStorage","createLogger","logFn","document","body","appendChild","createTextNode","text","createElement","domOutput","log","warn","serverOutput","outputs","console","onerror","__","___","____","errorObject","time","timeEnd","output","label","api","mixinStateUpdate","mixinHmdMode","mixinPoseInDirection","camera","updateCall","intervalId","startPoseUpdate","intervalInMs","setInterval","stopPoseUpdate","clearInterval","enableHmdMode","disableHmdMode","getPoseInViewingDirection","distance","projectToFloor","Leaf","_parent","SceneChild","Option","isNull","null","isValid","properties","createProjectManager","localStorage","cloudStorage","fetchProjectById","usePublicCloudIndex","backup","projects","cloud","projectIndex","getCloudIndexPath","online","project","localScreenshotUrl","cloudScreenshotUrl","storedToCloud","storedLocally","updateCloudProjectIndex","flags","projectId","all","createNewProject","setFlags","readCloudProjectIndex","local","updateLocalProjectIndex","readLocalProjectIndex","projectManager","updateCloudIndex","newValue","createRoomManager","ROOM_ID","treeModel","wallObjectModel","initResources","newRoomDescription","removeRoomFromScene","roomDescription","Windows","Doors","modelIds","modelID","modelId","modelToDownload","materialsModelId","addRoomToScene","roomVisible","roomManager","roomMaterialDescription","setRoomVisible","newVisible","createAppUtils","appUtils","closeApp","pauseRenderLoop","resumeRenderLoop","getAuthentication","setAuthentication","httpPost","openUrl","prepareCustomImage","sendEmail","setCollisionMode","setTextureQuality","getSecureUrl","getCachedUrl","jobId","httpPostResultHandler","incomingId","success","getDeviceRamInfo","quality","reloadScene","collisionMode","fileName","emailObject","httpsProxyUrl","startsWith","authKey","encodeURIComponent","fullsize","downloadImage","CatalogItem","defineProperties","Taggable","deepProperties","hasAllTags","hasExactTags","Node","Infinity","clampedPosition","splice","childIndex","indexOf","SceneParent","instantiateModel","sanitizeParams","complete","completeModel","downloadStopped","downloadJob","cancel","downloaded","downloadAssets","jobs","handler","progress","job","startJob","runDownloadJobs","thunk","Model","createModelInstance","createConfiguration","createVideo","createAnimation","createProperty","createAssembly","createConstant","active","highlight","compileInsertionParams","Container","toJSON","TYPE_GROUPED","TYPE_UNGROUPED","targetContainerId","shouldBeGrouped","undefined","createMesh","collision","wireframeMode","visibility","numVertices","mesh","setMeshMaterial","setMeshVisibility","setMeshCollision","setMeshWireframeMode","vertexCount","newMaterialName","newVisibility","newCollision","newWireframeMode","TrackingTarget","createTrackingTarget","tracked","_setTracked","_info","createAuthenticationManager","logIn","logOut","createCameras","stageCameraMap","cameraName","cameraFactory","freezeFrameInfo","freezeFrames","parseFreezeFrames","sharedCameraState","activeCamera","cameras","stageName","cameraInfo","createFreezeFrame","createScreenshotManager","takeScreenshot","saveScreenshot","deleteScreenshot","emailScreenshot","shareScreenshot","saveScreenshotToGallery","promise","subFolder","socialMediaService","screenshotPath","createSyncManager","sessionId","params","syncParams","syncing","stopLiveSync","syncId","syncManager","initial","emitConnectionIssuesEvent","sync","startLiveSync","syncUrl","noop","unregister","getter","setter","getValue","setValue","getValues","entries","property","promises","setValues","now","round","payload","updated","roundFloats","sync_id","receivedPayload","catch","isInteger","createTrackingProviders","trackingProviderFactories","createTrackers","trackers","method","timeout","xhr","XMLHttpRequest","open","toUpperCase","setRequestHeader","onreadystatechange","readyState","status","responseText","ontimeout","e","pair","join","waitForAppUpdate","showFakedBundleOverlay","waitForSwitchBundleId","requireMockEngine","appContainer","getElementsByTagName","element","classList","style","innerHTML","checkClickThrough","onclick","handleTap","ontouchstart","stopImmediatePropagation","preventDefault","update","forceUpdate","updateText","forceText","recommendedText","updatePopup","updateLabel","detailLabel","confirmButton","handleConfirmTap","line1","lineWidth","top","left","zIndex","width","height","opacity","pointerEvents","transform","borderBottom","line2","cloneNode","bundleId","bundlePopup","bundlePopupButtons","inputLabel","input","backgroundColor","fontSize","textAlign","padding","borderRadius","lineHeight","paddingRight","color","display","marginTop","margin","background","float","whiteSpace","switchButton","switchBundle","handleSwitchTap","blur","createAugmentedRealityCamera","STATE_LIVE","STATE_FROZEN","STATE_FRAME_VISIBLE","state","unfreeze","freezeFrame","activeFreezeFrame","showFreezeFrame","downloadFreezeFrame","activate","freeze","frozen","removeFreezeFrame","saveFreezeFrame","index","thumbnailUrl","createPerspectiveCamera","perspectiveCamera","disableSceneInteraction","enableSceneInteraction","setBackgroundMaterial","zoomToFit","lookAtSceneCenter","materialId","minX","maxX","minY","maxY","minZ","maxZ","corner","boundingBox","sceneCenter","createWalkCamera","gyroscopeActive","enableGyroscope","disableGyroscope","translate","controllerInputVector","HasData","Highlightable","DEFAULT_HIGHLIGHT","_highlight","setHighlighted","staticPropertyDescriptors","Instantiable","instances","Set","registerInstance","delete","clear","Interactive","_interaction","updateInteraction","Locatable","_pose","Visible","_visible","updateVisible","apiConfig","global","createDummyAppConfig","startTime","coreVersion","screenshotManager","deviceRam","toFixed","longStackTraces","cancellation","viewarApi","fetchAppConfig","tree","initializedAppConfig","createAndroidAdapter","query","__couiAndroid","initCoui","Function","_trigger","bindingsReady","setupCoherentForAndroid","addEventListener","sendViaIframe","setTimeout","pageX","pageY","consumedByUi","createSimpleEventTrigger","src","frame","documentElement","parentNode","elem","elementFromPoint","contains","couiInputCallback","couiAndroid","createTouchListener","location","href","phase","touches","changedTouches","inputState","touch","addTouchEvent","identifier","screenX","screenY","consumed","createEmscriptenAdapter","urlCache","callInterface","resolveMutex","rejectMutex","mutexPromise","Module","EmscriptenUIImplementation","addProgressFeedback","prototype","registerEvents","enqueue","isConsumed","results","exec","URL","relativePath","blob","getBlob","createObjectURL","FS","Blob","findObject","contents","buffer","fields","formData","prepareFormData","onload","handleLoad","statusText","_callbacks","$httpPostResult","callback","FormData","$0","$1","$2","$3","append","resolveValue","getFile","rawPath","File","filename","isCurlFilePath","module","readAsync","onLoad","onError","responseType","onprogress","lengthComputable","percentComplete","loaded","createIosAdapter","SendMessage","createMockAdapter","mockCalls","mockCallHandler","mock","instanceId","modelContainer","getOrCreateModelContainer","modelExisting","getElementById","modelImage","border","parentContainer","onClick","currentMode","intersection","selectModelImage","stopPropagation","insertedObj","insertedModelImages","insertModelImage","addMockCalls","customFiles","customStageBackgrounds","thumbPath","structureConnected","structureBattery","downloadCache","customImages","selectedId","Map","insertedContainers","modelContainerDisplayBlacklist","meshScanInProgress","meshVertices","addCustomStageBackgrounds","addCustomFiles","addMockEvents","addSimulatorPanel","showBackground","activateStage","switchToMode","getScenarioConfig","readCustomFile","saveCustomFile","getSDKVersionNumber","getInstancePose","getCameraPose","getGridCameraPose","getCameraPosition","getCameraOrientation","getFreezeFrameList","getCameraLookAt","getColorAtCoordinates","getSceneBoundingBox","customTrackingCommand","deleteInstance","pluginCommand","saveScreenshotToSubfolder","selectObject","colorizeMesh","fillMeshHoles","getMeshList","setAuthKey","getAuthKey","startVideo","startAnimation","setObjectInteraction","startMeshScan","stopMeshScan","resetMeshScan","adjustContainerCenterToContent","setNodeVisibility","scriptingLayerReady","stage","showStageText","existing","backgroundElement","backgroundSize","avail","bundleIdentifier","bundleidentifier","fallbackId","getData","coordinates","radius","includeInvisible","providerName","command","retParams","sensorBatteryLevel","sensorConnected","isStreaming","childId","pluginName","commandName","count","json","meshList","videoName","timeInMs","loop","animationName","subfolder","containerId","assemblyPart","insertContainerImage","floor","scan","getPose","stopFeatureTracking","startFeatureTracking","setInstancePose","confirmGroundPosition","saveMeshAsObj","applyMaterialOption","groupId","materialOption","loadMeshFromObj","deleteMeshObj","freezeFrameName","transferType","resourceType","percent","simulateTransfer","prepareResourcePack","getModelDescription","prepareModelDescription","prepareModelImage","events","insertModelNew","prepareModelResources","prepareAllModelAssets","prepareCategoryImage","prepareAppData","getMaterialDescription","openInExternalBrowser","openInInternalBrowser","deleteCustomFile","deleteSelectedModel","appData","files","saveToGallery","prepareIFrame","div","bottom","right","toggleStructureButton","toggleStructureBatteryButton","toggleTrackingButton","toggleMarkerFoundButton","toggleTrackingSpeedbutton","holdDeviceStill","markerFound","connectionButton","req","zindex","freezeExisting","freezeContainer","webkitTransform","msTransform","mozTransform","containerExisting","containerImage","substr","maxWidth","maxHeight","overflowY","title","currentId","adapters","createWindowsAdapter","BindingsReady","apply","TriggerEvent","createEngine","hasOnLoad","VERSION","Emitter","_createClear","handlers","wasInCPP","RemoveOnHandler","context","Handler","reg","code","isAttached","merge","lhs","rhs","slice","prevEvent","prevHandler","concatArguments","concat","allArguments","_BindingsReady","_WindowLoaded","_RequestId","_ActiveRequests","deferred","_Errors","_ForEachError","first","_MapErrors","_TriggerError","message","_OnError","_eventHandles","_Register","eventArguments","_removeEventThunk","handle","_Unregister","_OnReady","_OnWindowLoaded","_ThrowError","prependTab","s","errorString","split","_Result","resultArguments","createUwpInterface","onceHandler","callAsync","mixinAssemblyModel","completeAssemblyModel","containerProxy","assembly","instantiateAssemblyModel","downloadAssemblyAssets","downloadJobs","item","mixinBasicModel","completeBasicModel","instantiationParams","prepareSpecification","instantiateBasicModel","downloadBasicAssets","transferId","defaultPropertyValues","getDefaultPropertyValues","playableObjects","preparePlayableObjects","compileProperties","displayTemplate","compileDisplayTemplate","parameter","default","materialProperties","optionType","geometricProperties","realValue","mangledValue","widget","getWidgetType","valueType","duration","Category","mixinConfigurableModel","prepareProperties","preset","dataSource","foreignKeys","prop","parts","resourcePacks","basicModel","matList","completeConfigurableModel","instantiateConfigurableModel","downloadConfigurableAssets","copyImageUrls","valueKey","find","oldKey","alias","aliases","mixinReferenceModel","completeReferenceModel","instantiateReferenceModel","downloadReferenceAssets","reference","Project","defaultSpecification","screenshotUrl","storedInCloud","modified","interval","createProject","fetchData","sceneState","loadState","storeLocally","removeLocally","storeToCloud","removeFromCloud","clone","saveState","setRoomDescription","setTimestamp","newName","newInfo","newSpecification","newTimestamp","insertContent","childSpecification","Assembly","propertyDescriptors","getProperties","getPropertyValues","propertyId","partsByKey","oldInstances","instancesByModelId","previousInstances","usedSnappingPoints","plugPoint","getFirstSnappingPoint","getMatchingSnappingPoint","socketInstance","socketPoint","pop","connectionName","plugs","connection","unusedInstance","updateInstances","Configuration","newPropertyValues","resolveValues","resolvedValues","resolvedValue","forceRebuild","keyPrefixes","applyPropertyValues","getCurrentParts","updateParams","oldValues","modifiedProperties","assignValues","every","hasValidValue","orderedProperties","unshift","valueCombination","snappingpoints","point","sockets","getInsertionParams","objValue","srcValue","createParser","ParserRules","ParserStart","SEGMENT_WILDCARD","REGEXP_DELIMITER","Pattern","expression","matches","isPrefix","segmentMatchesPattern","pathSegment","expressionSegment","isRegExp","parseRegExpSegment","patternSegment","Range","initializer","EXPRESSION_REGEXP","fromRangeExpression","lowerBound","upperBound","includeLowerBound","includeUpperBound","compareLowerBound","compareUpperBound","trim","lowerBoundSymbol","upperBoundSymbol","castValue","parseFloat","createRange","getValueIterator","CategorizedProperty","rules","rootOption","createOptions","optionsOrRootOption","createOptionsRecursively","parentPath","createValidator","allRules","rule","evaluate","EnumeratedProperty","iterator","RangeProperty","MAX_SAFE_INTEGER","step","_rules","ranges","getRanges","_optionCache","_ranges","hasValue","startValues","start","end","rangeMin","rangeMax","compactValues","range","keyOrValue","numericKey","GeometricProperty","parameterName","MaterialProperty","materialName","NullProperty","PartProperty","Constant","jsonSpecification","getPropertyByType","getPropertyByValueType","createRule","evaluatorMap","parseCondition","condition","parser","feed","finish","invert","matcherType","matcher","pattern","Property","keyPattern","_value","createValueCombinationIterator","currentProperty","otherProperties","fixedValues","combination","fixedValue","snapTo","ModelInstance","updatePropertyValues","changedProperties","updateMaterialProperties","updateGeometricProperties","currentPropertyValues","changedPropertyValues","materialPropNames","compilePropertyParams","materialPickerInfo","optionId","compileParameterInfo","applyMapping","axis","offset","uvOffsetInfo","mappings","group","param","textureOffset","Animation","remainingDuration","animation","pause","resume","stop","setAnimationState","updateAnimationStatus","newState","Video","video","setVideoState","playableEnded","avRegistry","updateScene","analyzeNodes","oldScene","newScene","nodesToAdd","nodesToUpdate","nodesToRemove","nodesToMove","totalCount","currentItem","updateCount","compareNodes","oldChild","newChild","createARKitProvider","targetName","arKitProvider","handleTrackingTargetStatusChanged","groundConfirmed","deactivate","reset","createGoogleTangoProvider","defaults","areaDefinitionName","saveAreaDefinition","areaDefinitionsJSON","areaDefinitions","readAreaDefinitions","$privileged","supportsSlam","googleTangoProvider","resetAreaDefintion","loadAreaDefinition","deleteAreaDefinition","targets","createKudanProvider","floorOffset","getFloorOffset","kudanProvider","setFloorOffset","createMockProvider","setScanVolume","getStatus","getTrackingQuality","meshScanning","scanVolume","sensorStatus","createRealSenseProvider","handleTrackingFeedback","realSenseProvider","meshInfo","createStructureProvider","handleTrackingStatusUpdate","scanningMesh","scanInfo","connected","batteryLow","movingTooFast","structureProvider","scanning","newScanInfo","resetTracking","size","resolution","target","createVisionLibProvider","rawTargets","visionLibProvider","captureUserTarget","removeUserTarget","some","trackedTargets","untrackedTargets","createVuforiaProvider","vuforiaProvider","createWikitudeProvider","wikitudeProvider","ifCore","versionQuery","WAIT_FOR_DEBUGGER_BUTTON_STYLE","UPDATE_POPUP_STYLE","UPDATE_POPUP_LABEL_STYLE","textDecoration","UPDATE_POPUP_UPDATE_LABEL_STYLE","CONFIRM_BUTTON_STYLE","backgroundRepeat","textShadow","borderColor","boxShadow","mergeInfo","objects","parseUnary","op","r","parseBinary","l","parseComparison","mapComparison","propertyToProperty","comparisons","otherPropertyName","propertyToNumber","propertyToValue","propertyToList","propertyToPattern","propertyToRange","unwrap","expr","trueConst","falseConst","grammar","Lexer","joiner","d","arrpush","createPattern","rest","last","list","il","lb","ub","iu","symbol","minus","digits","a","b","exports","Grammar"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,2BAA2E,2DAA2D,KAAK,MAAM,0HAA0H,YAAY,0BAA0B,0BAA0B,gBAAgB,UAAU,UAAU,0CAA0C,wBAAwB,oBAAoB,8CAA8C,kCAAkC,YAAY,YAAY,mCAAmC,iBAAiB,gBAAgB,sBAAsB,oBAAoB,0CAA0C,YAAY,WAAW,YAAY,SAAS,GAAG;AACjwB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA,KAAK,kBAAkB,EAAE,YAAY;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,WAAW;AACrC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,yCAAyC;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA,SAAS,yCAAyC;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,eAAe;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA,kCAAkC;AAClC,4CAA4C;AAC5C,yBAAyB;AACzB,uDAAuD;AACvD,gEAAgE;AAChE,yEAAyE;AACzE,gDAAgD;AAChD;AACA,2DAA2D;AAC3D,aAAa;AACb,UAAU;AACV;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB,gCAAgC;AAChC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,uBAAuB;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,SAAS;AACT;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,cAAc;;AAE3C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qDAAqD,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,uBAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;;AAEA,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,mBAAmB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC,sBAAsB,mBAAmB;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;;AAEA;AACA;AACA;AACA,wCAAwC,eAAe;AACvD;;AAEA;AACA;AACA;AACA,4CAA4C,eAAe;AAC3D,KAAK;AACL;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA6C,aAAa;AAC1D,KAAK;AACL;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uBAAuB;AAC1B;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB,gBAAgB;AAChB,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,CAAC,EAAE,+BAA+B;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,kCAAkC;AAClC,0CAA0C;AAC1C;AACA;;AAEA;AACA;AACA,yBAAyB;AACzB,oCAAoC;AACpC;AACA;;AAEA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA,sDAAsD;AACtD,2CAA2C;AAC3C;AACA,uCAAuC;AACvC,iDAAiD;AACjD,qCAAqC;AACrC,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;;;AAGA,yEAAyE;AACzE,yBAAyB;AACzB,oCAAoC;AACpC;AACA,6BAA6B;AAC7B,wCAAwC;AACxC,6BAA6B;AAC7B,aAAa;AACb;AACA,mEAAmE;AACnE,uCAAuC;AACvC,kEAAkE;AAClE,sCAAsC;AACtC,uCAAuC;AACvC,0DAA0D;AAC1D,iBAAiB,OAAO;AACxB,kDAAkD;AAClD,iBAAiB;AACjB,cAAc;AACd;AACA,sEAAsE;AACtE,qCAAqC;AACrC,yCAAyC;AACzC,2CAA2C;AAC3C,wEAAwE;AACxE,qBAAqB,OAAO;AAC5B,oDAAoD;AACpD,qBAAqB;AACrB;AACA,iBAAiB;AACjB,cAAc;AACd;AACA,+DAA+D;AAC/D;AACA,cAAc;AACd;AACA,6BAA6B;AAC7B,SAAS,qCAAqC;AAC9C;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,yBAAyB;AACzB;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,qCAAqC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,0BAA0B;AAC1B,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mC;AACA,6C;AACA,+B;AACA,sC;AACA,uC;AACA,qC;AACA,4B;AACA,6B;AACA,K;AACA;AACA;AACA,eAAe,KAAK,E;AACpB,eAAe,KAAK,E;AACpB,eAAe,KAAK,E;AACpB,iB;AACA,0BAA0B,E;AAC1B,yB;AACA,qB;AACA,qC;AACA,8D;AACA,mB;;AAEA;;AAEA,CAAC,EAAE,0gBAA0gB;AAC7gB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC,UAAU;AAClD;AACA;AACA,wCAAwC,QAAQ;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,+CAA+C,MAAM,YAAY,OAAO;AACxE,SAAS;AACT;AACA,oCAAoC,MAAM,YAAY,OAAO;AAC7D,mDAAmD,MAAM,YAAY,OAAO;AAC5E;AACA,8BAA8B,MAAM;AACpC;;AAEA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;;AAEA;AACA;AACA,0CAA0C;AAC1C,sBAAsB;AACtB,2BAA2B,SAAS,OAAO;AAC3C,sCAAsC;AACtC,aAAa;AACb,+BAA+B;AAC/B;AACA,kBAAkB;AAClB;AACA,oEAAoE;AACpE,wEAAwE;AACxE;AACA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B,yCAAyC;AACzC,yBAAyB;AACzB,uCAAuC;AACvC,gDAAgD;AAChD,yCAAyC;AACzC,0EAA0E;AAC1E,oBAAoB;AACpB,uDAAuD;AACvD,yBAAyB;AACzB;AACA,aAAa;AACb,mCAAmC;AACnC,6EAA6E;AAC7E,aAAa;AACb,wEAAwE;AACxE,2BAA2B;AAC3B,UAAU;AACV,0DAA0D;AAC1D,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,CAAC,EAAE,0CAA0C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uBAAuB;AAC1B;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE,gCAAgC,mCAAmC;AACnE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,yBAAyB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,uCAAuC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,wCAAwC,gBAAgB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,SAAS;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,+BAA+B;AACtD;AACA;;AAEA;AACA;AACA,+BAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,mCAAmC,+BAA+B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa;AACb;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,KAAK,kBAAkB,EAAE,YAAY;AACrC;;AAEA,CAAC,EAAE,WAAW,EAAE,GAAG;AACnB,CAAC,EAAE,qBAAqB,uDAAuD,yDAAyD,sDAAsD,yDAAyD,mDAAmD,0D;;;;;;;;;;;;;;;;;QCl+K1RA,W,GAAAA,W;;AAhBhB;;;;;;;;;;AAEA;AACA;AACA;;AAEO,IAAMC,8BAAWC,OAAOC,MAAP,CAAc,mCAAd,EAAgC;AACtDH;AADsD,CAAhC,CAAjB;;QAIAI,C;;AAEP;AACA;AACA;;AAEO,SAASJ,WAAT,CAAqBK,OAArB,EAAoD;AAAA,MAAtBC,YAAsB,uEAAP,KAAO;;AACzD,SAAO,YAAsB;AAAA,QAAZC,KAAY,uEAAJ,EAAI;;AAC3B,WAAOF,qBAAYE,KAAZ,EAAsBN,SAASO,iBAAT,CAA2BF,gBAAgBD,QAAQC,YAAnD,CAAtB,EAAP;AACD,GAFD;AAGD;;AAED;AACA;AACA;;AAEO,IAAMG,wCAAgBC,OAAO,eAAP,CAAtB;AACA,IAAMC,wDAAwBD,OAAO,uBAAP,CAA9B;AACA,IAAME,8BAAWF,OAAO,UAAP,CAAjB;AACA,IAAMG,sCAAeH,OAAO,cAAP,CAArB;AACA,IAAMI,sCAAeJ,OAAO,cAAP,CAArB;AACA,IAAMK,oCAAcL,OAAO,aAAP,CAApB;AACA,IAAMM,sCAAeN,OAAO,cAAP,CAArB;AACA,IAAMO,sCAAeP,OAAO,cAAP,CAArB;AACA,IAAMQ,0CAAiBR,OAAO,gBAAP,CAAvB;AACA,IAAMS,oCAAcT,OAAO,aAAP,CAApB;AACA,IAAMU,0BAASV,OAAO,QAAP,CAAf;AACA,IAAMW,sBAAOX,OAAO,MAAP,CAAb;;AAEP;AACA;AACA;;AAEO,IAAMY,0BAASZ,OAAO,QAAP,CAAf;;AAEA,IAAMa,sBAAOb,OAAO,MAAP,CAAb;;AAEA,IAAMc,0BAASd,OAAO,QAAP,CAAf;AACA,IAAMe,gCAAYf,OAAO,WAAP,CAAlB,C;;;;;;;AChDP;;AAEA,8CAA8C,cAAc;;AAE5D;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;AAKA;AACA,2BAA2B,QAAQ;;AAEnC;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,uCAAuC,QAAQ;AAC/C,uCAAuC,0BAA0B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,0BAA0B,YAAY;;AAEtC;AACA;AACA,qBAAqB,8CAA8C;;AAEnE;AACA;AACA,4BAA4B,YAAY;;AAExC;AACA;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qEAAqE;;AAErE,2EAA2E,YAAY;;AAEvF,gCAAgC,cAAc;AAC9C;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,WAAW,0DAA0D;AACrE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW,eAAe;AACrC,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,2EAA2E;;AAE3E;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA,iCAAiC,sBAAsB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;;;AAGA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,MAAM;AACnB,cAAc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EA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,OAAO,WAAW;AAC7B,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA,wBAAwB;;AAExB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvCA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAA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AAhB;AACAqR,qBAAa/F,IAAb,CAAkB,eAAlB,EAAmC6I,OAAnC,EAA4CG,OAA5C;AACD;AAN6C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO/C;;AAED,WAAS5B,sBAAT,CAAgCuB,YAAhC,EAA8C;AAC5C5C,iBAAa/F,IAAb,CAAkB,iBAAlB,EAAqChN,KAAKd,KAAL,CAAWyW,YAAX,CAArC;AACD;;AAED,WAAStB,+BAAT,GAA2C;AACzCtB,iBAAa/F,IAAb,CAAkB,0BAAlB;AACD;;AAED,WAASsH,iCAAT,GAA6C;AAC3CvB,iBAAa/F,IAAb,CAAkB,4BAAlB;AACD;AAEF;;AAED;;;;;;;AAOA;;;;;;;AAOA;;;;;;;;;;;ACnXA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,sCAAsC;AACtC,oCAAoC;AACpC,sCAAsC;AACtC,oCAAoC;AACpC,sCAAsC;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,2BAA2B;AAC3B,4CAA4C;AAC5C;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,2BAA2B;AAC3B,2CAA2C;AAC3C;AACA;AACA;AACA;AACA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AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrCA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,EAAE;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA,8CAA8C,kBAAkB,EAAE;AAClE;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACrCA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;ACpCA;;;;;yBAWS7Y,Y;;;QAaO8Y,kB,GAAAA,kB;;;AApBhB,uBAASpL,QAAT,6BAAgCoL,kBAAhC,EAAoD;AAClDC,4DADkD;AAElDC,oCAFkD;AAGlD9Q,8BAHkD;AAIlD+Q;AAJkD,CAApD;;AASA;;;;;AAMA;;;;;AAKO,SAASH,kBAAT,CAA4BnL,aAA5B,EAA2C;AAAA,MACxCoL,qBADwC,GACWpL,aADX,CACxCoL,qBADwC;AAAA,MACjB7Q,MADiB,GACWyF,aADX,CACjBzF,MADiB;AAAA,MACT8Q,SADS,GACWrL,aADX,CACTqL,SADS;AAAA,MACEC,IADF,GACWtL,aADX,CACEsL,IADF;;;AAGhD,MAAMxQ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AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa,YAAY;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7DA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA,UAAU;AACV;AACA;AACA;AACA,CAAC;;AAED;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;ACvLtC;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACrBA;;;;;yBAyBSjd,c;;;QACOmd,oB,GAAAA,oB;;AAxBhB;;AAGA;;AACA;;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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,QAAQ;AACnB;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACxJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;ACxCA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;ACpCA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;ACVA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;;;;;;;;ACHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;;;;;;;ACbA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA,0BAA0B,gBAAgB,SAAS,GAAG;AACtD;AA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M;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACNA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACXA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,aAAa;AAC1B;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7DA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACXA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oCAAoC;;AAEpC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5FA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;AClBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9CA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnCA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,aAAa;AAC1B;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACnBA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,WAAW;AAC7B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO,WAAW;AAC7B,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC5BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3BA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;;AAEA;;;;;;;ACtEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/GA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxFA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC/EA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AClBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;ACzBA;;AAEA;AACA;;AAEA;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACfA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,EAAE;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;;;;;;;ACvCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS,GAAG,SAAS,GAAG,SAAS;AAC9C,UAAU;AACV;AACA;AACA;AACA,CAAC;;AAED;;;;;;;ACrCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA,gBAAgB,SAAS;AACzB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB,aAAa,OAAO;AACpB;AACA;AACA;AACA,mBAAmB,OAAO,SAAS,EAAE,GAAG,OAAO,iBAAiB,EAAE;AAClE,UAAU,OAAO,iBAAiB;AAClC;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;AC7BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;AChCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;AC7BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACnBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU,iBAAiB;AAC3B;AACA;AACA;AACA,MAAM,mBAAmB;AACzB,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpDA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,qBAAqB;AAChC,aAAa,OAAO;AACpB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;ACxDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,qBAAqB;AAChC,aAAa,OAAO;AACpB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,UAAU;AACV;AACA;AACA,4BAA4B;AAC5B,CAAC;;AAED;;;;;;;ACxBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,aAAa,SAAS;AACtB;AACA;AACA;AACA,MAAM,OAAO,SAAS,EAAE;AACxB,MAAM,OAAO,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjBA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACnCA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACjEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA,aAAa,SAAS;AACtB,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;;;;;AC/BA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AChDA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;AC5CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;AC3BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,qCAAqC;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,wBAAwB;AACxB,wBAAwB;AACxB;;;AAGA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB,OAAO;AAC7C;;AAEA;AACA;AACA;AACA;AACA;AACA,6CAA6C,KAAK,IAAI;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,qDAAqD,EAAE;AAC/F;AACA,oBAAoB;AACpB;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,2DAA2D;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,2CAA2C,cAAc,EAAE;AAC3D;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;ACxYD;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;;ACzLD;;AAEA,8CAA8C,cAAc;;AAE5D;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,0BAA0B,YAAY;;AAEtC;AACA;AACA,qBAAqB,8CAA8C;;AAEnE;AACA;AACA,4BAA4B,YAAY;;AAExC;AACA;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B,QAAQ;;AAEnC;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA,uCAAuC,QAAQ;AAC/C,uCAAuC,0BAA0B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb,yCAAyC;AACzC;;AAEA;AACA,aAAa;;AAEb,4CAA4C;AAC5C;;AAEA;AACA,aAAa;;AAEb,wCAAwC;AACxC;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,8BAA8B;AAC9C,UAAU,2BAA2B;AACrC,WAAW,8BAA8B;AACzC,WAAW,gCAAgC;AAC3C,WAAW,kCAAkC;AAC7C,gBAAgB,8BAA8B;AAC9C,YAAY,uCAAuC;AACnD,4BAA4B,sDAAsD;AAClF,kCAAkC,kEAAkE;AACpG,UAAU,8BAA8B;AACxC,WAAW,mCAAmC;;AAE9C;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qEAAqE;;AAErE,2EAA2E,YAAY;;AAEvF,gCAAgC,cAAc;AAC9C;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,WAAW,0DAA0D;AACrE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW,eAAe;AACrC,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA,2EAA2E;;AAE3E;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB;AACA,aAAa,WAAW;AACxB;AACA;AACA;AACA,iCAAiC,sBAAsB;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;;;AAGA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB,cAAc,gBAAgB;AAC9B,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,cAAc,WAAW;AACzB;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;;AAEA;AACA;AACA,WAAW,EAAE;AACb,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oEAAoE,2CAA2C;AAC/G;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,UAAU;AACV,YAAY;AACZ;AACA;AACA,GAAG,+BAA+B;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,gBAAgB;AAC3B,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,yBAAyB,wDAAwD,EAAE;;AAEnF;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAwB,2BAA2B;AACnD,qBAAqB,8BAA8B;AACnD;AACA,sCAAsC,uCAAuC;AAC7E;AACA;AACA;;AAEA;AACA;;AAEA,qCAAqC;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvfA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA","file":"viewar-api.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"viewarApi\"] = factory();\n\telse\n\t\troot[\"viewarApi\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 151);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 91b6b103ce3202652b63","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2017 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.0\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.0\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bluebird/js/browser/bluebird.js\n// module id = 0\n// module chunks = 0","import createInjector from 'dependency-injector';\n\n//======================================================================================================================\n// SINGLETON\n//======================================================================================================================\n\nexport const injector = Object.assign(createInjector(), {\n  wireFactory,\n});\n\nexport $ from './utils/shared';\n\n//======================================================================================================================\n// CUSTOM WIRING\n//======================================================================================================================\n\nexport function wireFactory(factory, dependencies = false) {\n  return function (props = {}) {\n    return factory({...props, ...injector.resolveDictionary(dependencies || factory.dependencies)});\n  }\n}\n\n//======================================================================================================================\n// SYMBOLS\n//======================================================================================================================\n\nexport const CoreInterface = Symbol('CoreInterface');\nexport const AuthenticationManager = Symbol('AuthenticationManager');\nexport const AppUtils = Symbol('AppUtils');\nexport const ModelManager = Symbol('ModelManager');\nexport const SceneManager = Symbol('SceneManager');\nexport const RoomManager = Symbol('RoomManager');\nexport const LocalStorage = Symbol('LocalStorage');\nexport const CloudStorage = Symbol('CloudStorage');\nexport const ProjectManager = Symbol('ProjectManager');\nexport const SyncManager = Symbol('SyncManager');\nexport const Logger = Symbol('Logger');\nexport const Http = Symbol('Http');\n\n//======================================================================================================================\n// UNSORTED DEPENDENCIES\n//======================================================================================================================\n\nexport const Window = Symbol('Window');\n\nexport const Date = Symbol('Date');\n\nexport const Config = Symbol('Config');\nexport const AppConfig = Symbol('AppConfig');\n\n\n\n// WEBPACK FOOTER //\n// ./src/dependencies.js","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction isObject(obj) {\n  var type = typeof obj;\n  return !!obj && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(obj) {\n  return typeof obj === 'function';\n}\n\nvar assign = Object.assign || function assign(to) {\n  var args = arguments;\n  for (var s = 1; s < args.length; s += 1) {\n    var from = args[s];\n    if (from) {\n      var keys = Object.keys(from);\n      for (var i = 0; i < keys.length; i += 1) {\n        var key = keys[i];\n        to[key] = from[key];\n      }\n    }\n  }\n\n  return to;\n};\n\nvar isArray = Array.isArray;\n\nfunction isPlainObject(value) {\n  return !!value && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n}\n\n\n\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) { return; }\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) { return; }\n  if (!isObject(dstObject[propName])) { dstObject[propName] = {}; }\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst\n * @param src\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) { return dst; }\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) { return (isArray(dst) ? dst : []).concat(src); }\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) { return src; }\n\n  // See if 'dst' is allowed to be mutated. If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nvar merge = function (dst) {\n  var srcs = [], len = arguments.length - 1;\n  while ( len-- > 0 ) srcs[ len ] = arguments[ len + 1 ];\n\n  return srcs.reduce(mergeOne, dst);\n};\n\n/**\n * Creates new factory instance.\n * @param {Descriptor} descriptor The information about the object the factory will be creating.\n * @returns {Function} The new factory function.\n */\nfunction createFactory(descriptor) {\n  return function Stamp(options) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = Object.create(descriptor.methods || null);\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) { return obj; }\n\n    if (options === undefined) { options = {}; }\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: [options].concat(args)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory(descriptor);\n\n  merge(Stamp, descriptor.staticDeepProperties);\n  assign(Stamp, descriptor.staticProperties);\n  Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors || {});\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return composeImplementation.apply(this, args);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n * @returns {Descriptor} Returns the dstDescriptor argument.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n  if (!isObject(srcDescriptor)) { return dstDescriptor; }\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n\n  return dstDescriptor;\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [composables] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nfunction compose() {\n  var composables = [], len = arguments.length;\n  while ( len-- ) composables[ len ] = arguments[ len ];\n\n  var descriptor = [this]\n    .concat(composables)\n    .filter(isObject)\n    .reduce(mergeComposable, {});\n  return createStamp(descriptor, compose);\n}\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\nexports['default'] = compose;\nmodule.exports = exports['default'];\n//# sourceMappingURL=compose.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stampit/compose.js\n// module id = 2\n// module chunks = 0","import deepCopy from 'lodash/cloneDeep';\nimport toString from 'lodash/toString';\nimport isString from 'lodash/isString';\nimport omit from 'lodash/omit';\nimport isPlainObject from 'lodash/isPlainObject';\nimport isArray from 'lodash/isArray';\nimport semver from 'semver';\n\nimport versionInfo from './version-info';\n\nimport { REFERENCE_POSE_SCALE_FACTOR } from '../constants';\n\nexport const generateId = testEnvironment() ? generateIdSingle : generateIdConcat;\n\nfunction testEnvironment() {\n  return Math.random().toString(36).substring(2).length >= 16;\n}\n\nfunction generateIdSingle() {\n  return Math.random().toString(36).substring(2, 18);\n}\n\nfunction generateIdConcat() {\n  return Math.random().toString(36).substring(2, 10) + Math.random().toString(36).substring(2, 10);\n}\n\nexport function sanitizePose(pose = {}) {\n  return JSON.parse(JSON.stringify({\n    position: pose.position && sanitize3DVector(pose.position),\n    orientation: pose.orientation && sanitizeQuaternion(pose.orientation),\n    scale: pose.scale && sanitize3DVector(pose.scale),\n  }));\n}\n\nfunction sanitizeQuaternion(quaternion) {\n  if (quaternion instanceof Array) {\n    const [w, x, y, z] = quaternion;\n    return {w, x, y, z};\n  } else {\n    const {w, x, y, z} = quaternion;\n    return {w, x, y, z};\n  }\n}\n\nfunction sanitize3DVector(vector) {\n  if (vector instanceof Array) {\n    const [x, y, z] = vector;\n    return {x, y, z};\n  } else {\n    const {x, y, z} = vector;\n    return {x, y, z};\n  }\n}\n\nexport function toValueObject(valueArray) {\n  return valueArray.reduce((object, part) => Object.assign(object, {[part.name]: part.value}), {});\n}\n\nexport function dictionarize(array, propertyName) {\n  return array.reduce((object, part) => Object.assign(object, {[part[propertyName]]: part}), {});\n}\n\nexport function clamp(number, min, max) {\n  return Math.max(min, Math.min(max, number));\n}\n\nexport function sanitizeSimpleModelDescription(description) {\n  return {\n    id: description.id,\n    foreignKey: description.foreignKey || description.foreign_key || '',\n    version: description.version,\n    name: description.name || '',\n    type: description.type,\n    tags: [...description.tags || []],\n    resources: ([...description.resources || []]).map(({id, version}) => ({id: toString(id), version})),\n  };\n}\n\nexport function sanitizeModelDescription(description) {\n  const data = description.data || {};\n  return {\n    ...sanitizeSimpleModelDescription(description),\n\n    data,\n\n    info: deepCopy(description.modelInfo || description.modelinfo || {}),\n    images: (data.galleryImages || []).map(url => ({name: '', url, tags: []})),\n\n    animations: deepCopy(data.animations || {}),\n    videos: deepCopy(data.videos || {}),\n\n    materialDescription: [...description.materials || []].map(({id, name, resource_pack: resourcePackId, options, material_system: materialSystem}) => ({id, name, resourcePackId, options, materialSystem})),\n    materialList: extractMaterialIds([...description.materials || []]),\n    parameterDescription: deepCopy(data.parameters || []),\n    configurationDescription: deepCopy(data.configuration || null),\n\n    references: (data.references && data.references.map(({UID, name, pose, version}) => ({id: UID, name, pose: scaleReferencePose(pose), version: Number.parseInt(version)}))) || null,\n    minimap: deepCopy(description.minimap || null),\n\n    desc: description.desc,\n\n    defaultInteraction: {\n      interactionPlane: description.orientation || 'horizontal',\n      translation: description.moveable || description.move,\n      rotation: description.rotate === 'y',\n      scaling: description.scalable,\n    },\n\n  };\n}\n\nfunction extractMaterialIds(materials) {\n  const materialIds = [];\n  materials.forEach(surface => {\n    surface.material_system === '2.0' && surface.materials.forEach(mapping => materialIds.push(...mapping.options))\n  });\n  return materialIds;\n}\n\nexport function compileMaterialInfo(coreInterface, materials) {\n  return (materials || []).map(material => ({\n    id: material.id,\n    name: material.name,\n    options: material.options.map(option => ({\n      id: option.id,\n      name: option.name,\n      get imageUrl() {\n        if (material.materialSystem === '2.0') {\n          if (semver.satisfies(versionInfo.core, \"^5.3.0\")) {\n            return coreInterface.resolveUrl(`/ResourceThumbnails/${option.thumb}`);\n          } else {\n            return coreInterface.resolveUrl(`/Models/Resources/${option.resource}/${option.thumb}`);\n          }\n        } else {\n          return coreInterface.resolveUrl(`/Models/Resources/${material.resourcePackId}/${option.thumb}`);\n        }\n      }\n    }))\n  }));\n}\n\nfunction scaleReferencePose(pose) {\n  const scaledPose = deepCopy(pose);\n  scaledPose.position.x *= REFERENCE_POSE_SCALE_FACTOR;\n  scaledPose.position.y *= REFERENCE_POSE_SCALE_FACTOR;\n  scaledPose.position.z *= REFERENCE_POSE_SCALE_FACTOR;\n  return scaledPose;\n}\n\nexport function sanitizeModelTree(rawNode) {\n  if (rawNode.sub || rawNode.models || rawNode.children) {\n    const category = omit(rawNode, ['sub', 'models', 'modelcount']);\n    category.children = (rawNode.sub || rawNode.models || rawNode.children).map(sanitizeModelTree);\n    category.data = isPlainObject(category.data) ? category.data : {};\n    return category;\n  } else {\n    return sanitizeSimpleModelDescription(rawNode);\n  }\n}\n\nexport function parseScenarioConfig(rawConfig) {\n  const {environment = {}, stages = [], uiConfig = {}, config = {}, modes = [], tracking = [], pk_id} = rawConfig;\n\n  if (!stages.length) throw new Error('This app has no available stages!');\n\n  return {\n    appId: environment.app,\n    host: config.host,\n    pkId: pk_id,\n    stageList: stages,\n    uiConfig,\n    storageKey: config.storage,\n    modes: modes.map(mode => mode.type),\n    deviceOS: environment.deviceOS || 'Browser',\n    deviceName: environment.deviceName || 'iPad',\n    deviceType: environment.deviceType || 'tablet',\n    fakedBundle: environment.fakedBundle || false,\n    version: environment.version || 'Unknown',\n    trackerList: tracking.map(trackingInfo => Object.assign(trackingInfo, {initiallyActive: trackingInfo.config.autostart})),\n    _raw: rawConfig,\n  };\n\n}\n\nexport const INTERACTION_PROPERTY_NAMES = [\n  'primaryDrag',\n  'secondaryDrag',\n  'rotate',\n  'pinch'\n];\n\nexport const INTERACTION_PROPERTY_VALUES = [\n  'disabled',\n  'translationScreenSpace',\n  'translationScreenSpaceWithoutPivotPointUpdate',\n  'translationWorldSpaceHorizontal',\n  'translationWorldSpaceHorizontalWithoutPivotPointUpdate',\n  'rotationAroundPivot',\n  'rotationAroundCameraCenter',\n  'translationDolly',\n  'angleOfView'\n];\n\nexport function sanitizeCameraInteraction(newInteraction) {\n  let sanitizedInteraction = {};\n  Object.keys(newInteraction).forEach(function (propertyName) {\n    if (INTERACTION_PROPERTY_NAMES.includes(propertyName)) {\n      if (INTERACTION_PROPERTY_VALUES.includes(newInteraction[propertyName])) {\n        sanitizedInteraction[propertyName] = newInteraction[propertyName];\n      }\n    }\n  });\n  return sanitizedInteraction;\n}\n\nexport function sanitizeCameraPose(pose) {\n  return JSON.parse(JSON.stringify({\n    position: pose.position && sanitize3DVector(pose.position),\n    orientation: pose.orientation && sanitizeQuaternion(pose.orientation),\n    lookAt: pose.lookAt && sanitize3DVector(pose.lookAt),\n  }));\n\n  return deepCopy(newPose);\n}\n\nexport function parse(value) {\n  if (isString(value) &&\n      (value[0] === '{' || value[0] === '[' || value[0] === '\"' ||\n      value === 'null' || value === 'true' || value === 'false')) return JSON.parse(value);\n  return value;\n}\n\nexport function emscriptenParse(value) {\n  if (isString(value) &&\n      (value[0] === '{' || value[0] === '[' || value[0] === '\"' ||\n      value === 'null' || value === 'true' || value === 'false')) {\n\n    return JSON.parse(convertUInt8ArrayToStr(convertStringToUInt8Array(value)));\n  }\n  return value;\n}\n\nfunction convertStringToUInt8Array(str) {\n  var array = new Uint8Array(new ArrayBuffer(str.length));\n  for (var i=0, strLen = str.length; i < strLen; i++) {\n    array[i] = str.charCodeAt(i);\n  }\n  return array;\n}\n\nfunction convertUInt8ArrayToStr(array) {\n  var out, i, len, c;\n  var char2, char3;\n  out = \"\";\n  len = array.length;\n  i = 0;\n  while(i < len) {\n    c = array[i++];\n    switch(c >> 4)\n    {\n      case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\n      // 0xxxxxxx\n      out += String.fromCharCode(c);\n      break;\n      case 12: case 13:\n      // 110x xxxx   10xx xxxx\n      char2 = array[i++];\n      out += String.fromCharCode(((c & 0x1F) << 6) | (char2 & 0x3F));\n      break;\n      case 14:\n        // 1110 xxxx  10xx xxxx  10xx xxxx\n        char2 = array[i++];\n        char3 = array[i++];\n        out += String.fromCharCode(((c & 0x0F) << 12) |\n            ((char2 & 0x3F) << 6) |\n            ((char3 & 0x3F) << 0));\n        break;\n    }\n  }\n  return out;\n}\n\nexport function format(value) {\n  if (isPlainObject(value) || isArray(value)) return JSON.stringify(value);\n  return value;\n}\n\nexport function createAssignMembers(_, $) {\n  return function assignMembers(members) {\n    Object.assign(this, members.public);\n    Object.assign($(this), members.shared);\n    Object.assign(_(this), members.private);\n    return this;\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utils.js","//======================================================================================================================\n// OLD CONSTANTS\n//======================================================================================================================\n\nexport const SYNC_CALLS = [];\nexport const ASYNC_CALLS = [\n  'prepareAppData',\n  'prepareModelResources',\n  'prepareResourcePack',\n  'prepareModelImage',\n  'prepareModelImageLarge',\n  'prepareCategoryImage',\n  'prepareCustomImage',\n  'prepareMaterialImage',\n  'prepareAllModelAssets',\n  'prepareModelDescription',\n  'applyMaterialOptions',\n  'insertModel',\n  'insertModelNew',\n  'downloadFreezeFrameFromServer'\n];\n\n//======================================================================================================================\n// NEW CONSTANTS\n//======================================================================================================================\n\nexport const HTTPS_PROXY_URL = 'https://www.viewar.com/proxy2.php?url=';\n\nexport const MEDIUM_MEMORY_LIMIT = 1.5 * 1024 * 1024 * 1024;\nexport const LOW_MEMORY_LIMIT = 1 * 1024 * 1024 * 1024;\n\nexport const REFERENCE_POSE_SCALE_FACTOR = 10;\n\nexport const DEFAULT_SYNC = {\n  pollInterval: 33,\n  send: true,\n  receive: true,\n};\n\nexport const DEFAULT_SYNC_URL = 'https://api.viewar.com/sync/sync';\n\nexport const DEFAULT_API_CONFIG = {\n  debug: false,\n  checkForUpdate: false,\n  waitForDebugger: false,\n  fallbackBundleId: 'com.viewar.demo',\n  exportToGlobal: true,\n  logCoreCalls: false,\n};\n\nexport const PATH_SEPARATOR = '::';\n\nexport const KEY_SEPARATOR = '_';\n\n/**\n * @typedef Interaction\n * @type {object}\n * @property {string} manipulationPlane\n * @property {boolean} translation\n * @property {boolean} rotation\n * @property {boolean} scaling\n */\nexport const DEFAULT_INTERACTION = {\n  manipulationPlane: 'horizontal',\n  translation: true,\n  rotation: true,\n  scaling: false,\n};\n\n/**\n * @typedef Vector3d\n * @type {object}\n * @property {number} x\n * @property {number} y\n * @property {number} z\n */\nexport const DEFAULT_POSITION = { x: 0, y: 0, z: 0 };\n\n/**\n * @typedef Quaternion\n * @type {object}\n * @property {number} w\n * @property {number} x\n * @property {number} y\n * @property {number} z\n */\nexport const DEFAULT_ORIENTATION = { w: 1, x: 0, y: 0, z: 0 };\n\nexport const DEFAULT_SCALE = { x: 1, y: 1, z: 1 };\n\n/**\n * @typedef Pose\n * @type {object}\n * @property {Vector3d} position\n * @property {Quaternion} orientation\n * @property {Vector3d} scale\n */\nexport const DEFAULT_POSE = {\n  position: DEFAULT_POSITION,\n  orientation: DEFAULT_ORIENTATION,\n  scale: DEFAULT_SCALE,\n};\n\nexport const DEFAULT_VISIBLE = true;\n\n/**\n * @typedef HighlightInfo\n * @type {object}\n * @property {string} type\n * @property {boolean} visible\n */\nexport const DEFAULT_HIGHLIGHT_INFO = {\n  type: 'wireframe',\n  visible: false\n}\n\n\n/**\n * @typedef ContainerInsertionParams\n * @type {object}\n * @property {Pose} pose\n * @property {Interaction} interaction\n * @property {boolean} visible\n * @property {string} type\n */\n\n/**\n * @typedef ModelInsertionParams\n * @type {object}\n * @property {Pose} pose\n * @property {Interaction} interaction\n * @property {boolean} visible\n */\n\n\nexport const AR_CAMERA_DEFAULTS = {\n  name: 'AugmentedRealityStageCamera',\n  pose: {\n    position: {x: 0, y: 0, z: 0},\n    orientation: {w: 1, x: 0, y: 0, z: 0},\n  },\n};\n\nexport const WALK_CAMERA_DEFAULTS = {\n  name: 'ExperienceStageCamera',\n  pose: {\n    position: {x: 0, y: 0, z: 0},\n    orientation: {w:1, x: 0, y: 0, z: 0},\n  },\n};\n\nexport const PERSPECTIVE_CAMERA_DEFAULTS = {\n  name: 'GridStageCamera',\n  pose: {\n    position: {x: 0, y: 4000, z: 4000},\n    lookAt: {x: 0, y: 0, z: 0},\n  },\n  interaction: {\n    \"primaryDrag\": \"rotationAroundPivot\",\n    \"secondaryDrag\": \"translationScreenSpace\",\n    \"rotate\": \"disabled\",\n    \"pinch\": \"translationDolly\",\n  },\n};\n\nexport const MATERIAL_MODEL_FOREIGN_KEY = 'floor_wall_dummy';\nexport const MATERIAL_MODEL_FALLBACK_ID = '24068';\nexport const WALLOBJECT_MODEL_FALLBACK_IDS = ['39919', '39923', '39922', '39921', '39920'];\n\n\n\n// WEBPACK FOOTER //\n// ./src/constants.js","\r\n/**\r\n * Expose `Emitter`.\r\n */\r\n\r\nif (typeof module !== 'undefined') {\r\n  module.exports = Emitter;\r\n}\r\n\r\n/**\r\n * Initialize a new `Emitter`.\r\n *\r\n * @api public\r\n */\r\n\r\nfunction Emitter(obj) {\r\n  if (obj) return mixin(obj);\r\n};\r\n\r\n/**\r\n * Mixin the emitter properties.\r\n *\r\n * @param {Object} obj\r\n * @return {Object}\r\n * @api private\r\n */\r\n\r\nfunction mixin(obj) {\r\n  for (var key in Emitter.prototype) {\r\n    obj[key] = Emitter.prototype[key];\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Listen on the given `event` with `fn`.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.on =\r\nEmitter.prototype.addEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\r\n    .push(fn);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Adds an `event` listener that will be invoked a single\r\n * time then automatically removed.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.once = function(event, fn){\r\n  function on() {\r\n    this.off(event, on);\r\n    fn.apply(this, arguments);\r\n  }\r\n\r\n  on.fn = fn;\r\n  this.on(event, on);\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the given callback for `event` or all\r\n * registered callbacks.\r\n *\r\n * @param {String} event\r\n * @param {Function} fn\r\n * @return {Emitter}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.off =\r\nEmitter.prototype.removeListener =\r\nEmitter.prototype.removeAllListeners =\r\nEmitter.prototype.removeEventListener = function(event, fn){\r\n  this._callbacks = this._callbacks || {};\r\n\r\n  // all\r\n  if (0 == arguments.length) {\r\n    this._callbacks = {};\r\n    return this;\r\n  }\r\n\r\n  // specific event\r\n  var callbacks = this._callbacks['$' + event];\r\n  if (!callbacks) return this;\r\n\r\n  // remove all handlers\r\n  if (1 == arguments.length) {\r\n    delete this._callbacks['$' + event];\r\n    return this;\r\n  }\r\n\r\n  // remove specific handler\r\n  var cb;\r\n  for (var i = 0; i < callbacks.length; i++) {\r\n    cb = callbacks[i];\r\n    if (cb === fn || cb.fn === fn) {\r\n      callbacks.splice(i, 1);\r\n      break;\r\n    }\r\n  }\r\n  return this;\r\n};\r\n\r\n/**\r\n * Emit `event` with the given args.\r\n *\r\n * @param {String} event\r\n * @param {Mixed} ...\r\n * @return {Emitter}\r\n */\r\n\r\nEmitter.prototype.emit = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  var args = [].slice.call(arguments, 1)\r\n    , callbacks = this._callbacks['$' + event];\r\n\r\n  if (callbacks) {\r\n    callbacks = callbacks.slice(0);\r\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\r\n      callbacks[i].apply(this, args);\r\n    }\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Return array of callbacks for `event`.\r\n *\r\n * @param {String} event\r\n * @return {Array}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.listeners = function(event){\r\n  this._callbacks = this._callbacks || {};\r\n  return this._callbacks['$' + event] || [];\r\n};\r\n\r\n/**\r\n * Check if this emitter has `event` handlers.\r\n *\r\n * @param {String} event\r\n * @return {Boolean}\r\n * @api public\r\n */\r\n\r\nEmitter.prototype.hasListeners = function(event){\r\n  return !! this.listeners(event).length;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/component-emitter/index.js\n// module id = 5\n// module chunks = 0","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArray.js\n// module id = 6\n// module chunks = 0","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObject.js\n// module id = 7\n// module chunks = 0","import toString from 'lodash/toString';\nimport castArray from 'lodash/castArray';\nimport createEmitter from 'component-emitter';\n\nimport { parse, format } from '../utils/utils';\nimport { injector, Window, Config } from '../dependencies';\nimport { Logger } from '../utils/logger';\nimport { CoreInterface } from '../dependencies';\nimport { SYNC_CALLS, ASYNC_CALLS } from '../constants';\nimport { resolveAdapter } from './adapters/resolve-adapter';\nimport { createUwpInterface } from './uwp/uwp-interface';\n\ninjector.register(CoreInterface,\n    specification => createCoreInterface({...specification, resolveAdapter}),\n    {window: Window, logger: Logger, config: Config});\n\nexport { CoreInterface } from '../dependencies';\nexport function createCoreInterface({window, logger, config, resolveAdapter}) {\n  let initialized = false;\n  let adapter = null;\n\n  const emitter = createEmitter({});\n  const eventHandlers = {};\n  const resolvers = [];\n  const callHistory = [];\n  let nextRequestId = 0;\n\n  const coreInterface = (window.engine && window.engine.AddOrRemoveOnHandler) ? createUwpInterface({window, logger}) : {\n    initialize,\n    call,\n    resolveUrl,\n    on: ::emitter.on,\n    once: ::emitter.once,\n    off: ::emitter.off,\n    emit: ::emitter.emit,\n\n    get platform() { return adapter && adapter.platform },\n    get callHistory() { return callHistory; },\n  };\n\n  return coreInterface;\n\n//======================================================================================================================\n// INITIALIZATION\n//======================================================================================================================\n\n  async function initialize() {\n    if (!initialized) {\n      adapter = await resolveAdapter(window, coreInterface);\n\n      coreInterface.on('_Result', handleResult);\n      coreInterface.on('_OnError', handleError);\n      coreInterface.on('_Register', handleRegisterEvent);\n      coreInterface.on('_Unregister', handleUnregisterEvent);\n\n      await adapter.initialize();\n      await Promise.resolve().then(() => call('scriptingLayerReady'));\n\n      initialized = true;\n    }\n  }\n\n//======================================================================================================================\n// CALL\n//======================================================================================================================\n\n  function call(callName, ...messageArguments) {\n    return new Promise((resolve, reject, onCancel = () => {}) => {\n      const requestId = ++nextRequestId;\n\n      config.logCoreCalls && logCall(callName, requestId, messageArguments);\n\n      onCancel(() => {\n        adapter.sendMessage('abortDownload', toString(requestId));\n        reject(new Promise.CancellationError('Download aborted'));\n      });\n\n      resolvers[requestId] = {resolve, reject};\n\n      return isAsyncCall(callName) ?\n          adapter.triggerEvent(callName, requestId, ...messageArguments.map(format)) :\n          adapter.sendMessage(callName, requestId, ...messageArguments.map(format));\n    }).then(parse);\n  }\n\n  function isAsyncCall(callName) {\n    return ASYNC_CALLS.includes(callName) || (eventHandlers[callName] && !SYNC_CALLS.includes(callName));\n  }\n\n  function resolveUrl(relativeUrl) {\n    return adapter && adapter.resolveUrl(relativeUrl);\n  }\n\n//======================================================================================================================\n// EVENT HANDLERS\n//======================================================================================================================\n\n  function handleResult(requestId, response) {\n    resolvers[requestId] && resolvers[requestId].resolve(response);\n    delete resolvers[requestId];\n  }\n\n  function handleError(requestId, errors) {\n    if (!requestId) {\n      castArray(errors).forEach(error => logger.error(new Error(error.second || error)));\n    } else {\n      resolvers[requestId] && resolvers[requestId].reject(new Error(toString(castArray(errors)[0].second || castArray(errors)[0])));\n      delete resolvers[requestId];\n    }\n  }\n\n  function handleRegisterEvent(eventName) {\n    const trigger = (eventName => (...args) => adapter.triggerEvent(eventName, ...args.map(format)))(eventName);\n    eventHandlers[eventName] = coreInterface.on(eventName, trigger);\n  }\n\n  function handleUnregisterEvent(eventName) {\n    castArray(eventName).forEach(eventName => {\n      coreInterface.off(eventName, eventHandlers[eventName]);\n      delete eventHandlers[eventName];\n    });\n  }\n\n//======================================================================================================================\n// DEBUG\n//======================================================================================================================\n\n  function logCall(callName, requestId, messageArguments) {\n    const logEntry = {\n      id: requestId,\n      name: callName,\n      arguments: messageArguments,\n      timestamp: new Date(),\n      trace: new Error().stack.replace(/Error\\s+/, '\\t')\n    };\n\n    if (coreInterface.callHistory.push(logEntry) === 100) {\n      coreInterface.callHistory.shift();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/core-interface.js","var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/cloneDeep.js\n// module id = 9\n// module chunks = 0","const namespaces = new WeakSet();\n\nexport default function createNamespace() {\n  const map = new WeakMap();\n\n  namespaces.add(map);\n\n  return function get(object) {\n    !map.has(object) && map.set(object, {});\n    return map.get(object);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/namespace.js","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_root.js\n// module id = 11\n// module chunks = 0","var apply = require('./_apply'),\n    assignInWith = require('./assignInWith'),\n    baseRest = require('./_baseRest'),\n    customDefaultsAssignIn = require('./_customDefaultsAssignIn');\n\n/**\n * Assigns own and inherited enumerable string keyed properties of source\n * objects to the destination object for all destination properties that\n * resolve to `undefined`. Source objects are applied from left to right.\n * Once a property is set, additional values of the same property are ignored.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaultsDeep\n * @example\n *\n * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar defaults = baseRest(function(args) {\n  args.push(undefined, customDefaultsAssignIn);\n  return apply(assignInWith, undefined, args);\n});\n\nmodule.exports = defaults;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/defaults.js\n// module id = 12\n// module chunks = 0","import compose from 'stampit/compose';\n\nimport { generateId } from '../../utils/utils';\n\n/**\n * Assigns a globally unique ID to the object.\n *\n * @interface Identifiable\n */\nexport const Identifiable = compose({\n\n  initializers: [function ({id = Identifiable.generateId()}) {\n    /**\n     * system-wide unique identifier\n     * @member {string} id\n     * @memberOf Identifiable#\n     */\n    Object.defineProperty(this, 'id', {\n      value: id,\n      enumerable: true,\n      configurable: false\n    });\n  }],\n\n  staticProperties: {\n    generateId\n  }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/identifiable/identifiable.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isObjectLike.js\n// module id = 14\n// module chunks = 0","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayMap.js\n// module id = 15\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetTag.js\n// module id = 16\n// module chunks = 0","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseRest.js\n// module id = 17\n// module chunks = 0","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_copyObject.js\n// module id = 18\n// module chunks = 0","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getNative.js\n// module id = 19\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Symbol.js\n// module id = 20\n// module chunks = 0","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_castPath.js\n// module id = 21\n// module chunks = 0","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_toKey.js\n// module id = 22\n// module chunks = 0","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/eq.js\n// module id = 23\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArrayLike.js\n// module id = 24\n// module chunks = 0","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isEqual.js\n// module id = 25\n// module chunks = 0","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toString.js\n// module id = 26\n// module chunks = 0","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArrayLikeObject.js\n// module id = 27\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isSymbol.js\n// module id = 28\n// module chunks = 0","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/keys.js\n// module id = 29\n// module chunks = 0","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/keysIn.js\n// module id = 30\n// module chunks = 0","import mixinEmitter from 'component-emitter';\nimport toString from 'lodash/toString';\n\nimport { sanitizeModelDescription } from '../utils/utils';\n\nimport { createModel } from './model.js';\nimport { createCategory } from './category.js';\n\nimport { injector, $ } from '../dependencies';\nimport { ModelManager } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { MATERIAL_MODEL_FOREIGN_KEY, MATERIAL_MODEL_FALLBACK_ID, WALLOBJECT_MODEL_FALLBACK_IDS } from '../constants';\n\ninjector.register(ModelManager, specification => createModelManager({...specification, createModel, createCategory}),\n    { coreInterface: CoreInterface });\n\nexport { ModelManager } from '../dependencies';\n\n/**\n * Object responsible for handling models, model catalog and categories, and communication with the model repository.\n *\n * @namespace modelManager\n * @implements ProtectedEmitter\n */\n\n/**\n * @private\n * @returns modelManager\n */\nexport function createModelManager(specification) {\n  const { coreInterface, createModel, createCategory } = specification;\n\n  const emitter = mixinEmitter({});\n  const modelsById = {};\n  const modelsByForeignKey = {};\n  const treeModelsById = {};\n  const downloadedModelsById = {};\n\n  let rootCategory = null;\n  let currentDownloadItem = null;\n\n  const modelManager = {\n    on: ::emitter.on,\n    off: ::emitter.off,\n    once: ::emitter.once,\n\n    findModelById,\n    findModelByForeignKey,\n\n    getModelFromRepository,\n\n    downloadAll,\n    stopDownloadAll,\n\n    /**\n     * Collection of all models known to ViewAR instance. Includes all catalog models and any model downloaded from repository.\n     * @member {Array<Model>} models\n     * @memberof modelManager#\n     */\n    get models() { return Object.values(modelsById); },\n    /**\n     * Root category of the model catalog.\n     * @member {Category} rootCategory\n     * @memberof modelManager#\n     */\n    get rootCategory() { return rootCategory; },\n\n    init,\n  };\n\n  return modelManager;\n\n  function init(modelTree) {\n    ['transferBegin', 'transferProgress', 'transferEnd'].forEach(eventName =>\n        coreInterface.on(eventName, emitter.emit.bind(emitter, eventName)));\n\n    rootCategory = parseModelTree(modelTree);\n  }\n\n  /** @private */\n  function parseModelTree(node, walkCamera) {\n    if (node.children) {\n      const category = createCategory(node);\n      node.children.forEach(child => $(category).addChild(parseModelTree(child)));\n      return category;\n    } else {\n      const model = createModel(node, walkCamera);\n      modelsById[model.id] = model;\n      model.foreignKey && (modelsByForeignKey[model.foreignKey] = model);\n      treeModelsById[model.id] = model;\n      return model;\n    }\n  }\n\n  /**\n   * Downloads the full model description to the device's permanent storage.\n   *\n   * Once the promise is resolved the model is accessible via getModelById function. Successive calls to this function\n   * will not trigger any further downloads unless the model is updated on the server in the meantime.\n   * @method\n   * @param {string} id - model id\n   * @returns {Promise.<Model>} requested model\n   * @memberof modelManager#\n   */\n  async function getModelFromRepository(id) {\n    if (modelsById[id]) {\n      await modelsById[id].downloadDescription();\n      return modelsById[id];\n    }\n\n    const result = await coreInterface.call('prepareModelDescription', toString(id));\n    const description = sanitizeModelDescription(result || {});\n\n    if (description.id) {\n      const { id, foreignKey } = description;\n      const model = modelsById[id] || (foreignKey && modelsByForeignKey[foreignKey]) || createModel(description);\n      await $(model).provideDescription(description);\n\n      modelsById[id] = model;\n      foreignKey && (modelsByForeignKey[foreignKey] = model);\n      downloadedModelsById[id] = model;\n\n      return model;\n    } else {\n      return null;\n    }\n  }\n\n  /**\n   * Retrieves the model with the given ID.\n   * @param {string} id - ID of the requested model\n   * @returns {Model} requested model if found; null otherwise\n   * @memberof modelManager#\n   */\n  function findModelById(id) {\n    return modelsById[id];\n  }\n\n  /**\n   * Retrieves the model with the given foreign key.\n   * @param {string} foreignKey - foreign key of the requested model\n   * @returns {Model} requested model if found; null otherwise\n   * @memberof modelManager#\n   */\n  function findModelByForeignKey(foreignKey) {\n    return modelsByForeignKey[foreignKey];\n  }\n\n  /**\n   * Begins the downloading all model assets assigned to the app. Can be interrupted at any time by calling\n   * {@link stopDownloadAll}.\n   * @function\n   * @returns {Promise} fulfilled when completed.\n   * @memberof modelManager#\n   */\n  async function downloadAll() {\n    const handleModelDownloadProgress = emitter.emit.bind(emitter, 'downloadProgress');\n\n    try {\n      await appendRoomModels();\n\n      const models = modelManager.models;\n      const total = models.length;\n\n      let current = -1;\n\n      emitter.emit('downloadAllProgress', ++current, total, null);\n\n      for (const model of models) {\n        currentDownloadItem = model;\n        emitter.emit('downloadAllProgress', ++current, total, currentDownloadItem);\n\n        model.on('downloadProgress', handleModelDownloadProgress);\n        await model.download();\n        model.off('downloadProgress', handleModelDownloadProgress);\n      }\n\n      emitter.emit('downloadAllProgress', ++current, total, null);\n\n    } finally {\n      currentDownloadItem.off('downloadProgress', handleModelDownloadProgress);\n      currentDownloadItem = null;\n    }\n  }\n\n  /**\n   * Interrupts the process of downloading all model assets.\n   * @returns {Promise} fulfilled when completed.\n   * @memberof modelManager\n   */\n  function stopDownloadAll() {\n    return Promise.resolve().then(() => currentDownloadItem && currentDownloadItem.stopDownload());\n  }\n\n  /** @private */\n  async function appendRoomModels() {\n    const roomMaterialModel = modelManager.findModelByForeignKey(MATERIAL_MODEL_FOREIGN_KEY);\n    if (!roomMaterialModel) {\n      await modelManager.getModelFromRepository(MATERIAL_MODEL_FALLBACK_ID);\n    }\n\n    const wallObjectModels = modelManager.models.filter(model => model.hasAnyTag(['window', 'door']));\n    if (!wallObjectModels.length) {\n      for (const id of WALLOBJECT_MODEL_FALLBACK_IDS) {\n        await modelManager.getModelFromRepository(id);\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/model-manager.js","import isObject from 'lodash/isObject';\nimport isEqual from 'lodash/isEqual';\n\nimport createEmitter from 'component-emitter';\nimport { createContainer } from './container';\nimport { updateScene } from './update-scene';\n\nimport { injector, Logger, $ } from '../dependencies'\nimport { SceneManager } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { ModelManager } from '../models/model-manager';\nimport { DEFAULT_POSE } from '../constants';\n\nimport ifCore from '../utils/if-core';\n\nconst SCENE_ID = 'DefaultLayer';\n\ninjector.register(SceneManager,\n    specification => createSceneManager({...specification, createContainer}),\n    {coreInterface: CoreInterface, modelManager: ModelManager, logger: Logger});\n\n//======================================================================================================================\n\n/**\n * Object responsible for scene content management.\n *\n * @namespace sceneManager\n * @implements ProtectedEmitter\n * @fires sceneManager#sceneObjectPoseChanged\n * @fires sceneManager#selectionChanged\n * @fires sceneManager#objectTouched\n */\nexport { SceneManager } from '../dependencies';\nexport function createSceneManager(specification) {\n  const { coreInterface, modelManager, createContainer } = specification;\n\n  let nodeRegistry = {};\n  let sceneStateMutex = Promise.resolve();\n  let scene = null;\n  let selection = null;\n\n  const sceneManager = createEmitter({\n    init,\n\n    insertContainer,\n    insertModel,\n\n    removeNode,\n\n    select,\n    clearSelection,\n\n    findNodeById,\n\n    clearScene,\n    getSceneState,\n    getSceneStateSafe,\n    setSceneState,\n\n    /**\n     * Container representing the whole scene.\n     * @type {Container}\n     * @memberOf sceneManager#\n     */\n    get scene() { return scene; },\n    /**\n     * Currently selected scene node. Is null if no node is selected.\n     * @type {SceneNode | null}\n     * @memberOf sceneManager#\n     */\n    get selection() { return selection; },\n  });\n\n  return sceneManager;\n\n//======================================================================================================================\n\n  function init() {\n    coreInterface.on('loadingBegin', sceneManager.emit.bind(sceneManager, 'loadingBegin'));\n    coreInterface.on('loadingEnd', sceneManager.emit.bind(sceneManager, 'loadingEnd'));\n    coreInterface.on('sceneObjectPoseChanged', sceneObjectPoseChangedHandler);\n    coreInterface.on('selectionChanged', selectionChangedHandler);\n    coreInterface.on('touchRay', touchRayHandler);\n    coreInterface.on('objectTouched', objectTouchedHandler);\n    coreInterface.on('objectSnapped', objectSnappedHandler);\n    coreInterface.on('objectUnsnapped', objectUnsnappedHandler);\n    coreInterface.on('backgroundRestoreStarted', backgroundRestoreStartedHandler);\n    coreInterface.on('backgroundRestoreCompleted', backgroundRestoreCompletedHandler);\n\n    scene = createScene();\n    selection = null;\n  }\n\n//======================================================================================================================\n\n  // FIXME: this is potentially leaky\n  function createScene() {\n    return (nodeRegistry[SCENE_ID] = createContainer({id: SCENE_ID, type: 'ungrouped'}));\n  }\n\n  /**\n   * Clears the scene completely, removing every scene node apart from the scene itself. Also removes any rooms.\n   * @returns {Promise} Promise that resolves when the scene is cleared.\n   * @memberof sceneManager#\n   */\n  function clearScene() {\n    return Promise.resolve()\n        .then(() => coreInterface.call('clearScene'))\n        .then(() => coreInterface.call('clearModelPreviews'))\n        .then(() => {\n          Object.values(nodeRegistry).map(node => node.model && $(node.model).unregisterAllInstances());\n          nodeRegistry = {};\n          scene = createScene();\n          selection = null;\n        });\n  }\n\n  /**\n   * Selects the scene node. Selected nodes can be interacted with to change their pose.\n   * @param {SceneNode} node scene node to be selected\n   * @returns {Promise} Promise that resolves when the object is selected.\n   * @memberof sceneManager#\n   */\n  function select(node) {\n    return Promise.resolve().then(() => {\n      if (node && findNodeById(node.id)) {\n        coreInterface.off('selectionChanged', selectionChangedHandler);\n        return coreInterface.call('selectObject', node.id)\n            .then(() => coreInterface.on('selectionChanged', selectionChangedHandler))\n            .then(() => selection = node);\n      } else {\n        return clearSelection();\n      }\n    });\n  }\n\n  /**\n   * Deselects the currently selected object. Does nothing is nothing is selected.\n   * @returns {Promise} Promise that resolves when the object is deselected.\n   * @memberof sceneManager#\n   */\n  function clearSelection() {\n    return Promise.resolve()\n        .then(() => coreInterface.off('selectionChanged', selectionChangedHandler))\n        .then(() => coreInterface.call('clearSelection'))\n        .then(() => coreInterface.on('selectionChanged', selectionChangedHandler))\n        .then(() => selection = null);\n  }\n\n  /**\n   * Searches the scene for a node by id.\n   * @param {string} id unique id of the scene node\n   * @returns {SceneNode | null} scene node, if found; null otherwise.\n   * @memberof sceneManager#\n   */\n  function findNodeById(id) {\n    return nodeRegistry[id] || null;\n  }\n\n  /**\n   * Inserts a container into the scene according to given parameters.\n   * @param {ContainerInsertionParams} insertionParams insertion parameters for the container\n   * @returns {Promise.<Container>} Promise that resolves with the inserted container.\n   * @memberof sceneManager#\n   */\n  function insertContainer(insertionParams = {}) {\n    const container = createContainer(insertionParams);\n\n    nodeRegistry[container.id] = container;\n\n    $(insertionParams.parent || scene).addChild(container);\n\n    return $(container).insert();\n  }\n\n  /**\n   * Inserts a model into the scene according to given parameters.\n   * @function\n   * @param {Model} model model to be inserted\n   * @param {ModelInsertionParams} instanceProps properties of the new instance\n   * @param {Object} insertionParams insertion setting for snapping\n   * @returns {Promise.<ModelInstance|Configuration>} Promise that resolves with the inserted instance of the model.\n   * @memberof sceneManager#\n   */\n  async function insertModel(model, instanceProps = {}, insertionParams = {}) {\n    const { parent = scene } = instanceProps;\n    await ifCore({\n      \"^5.3.0\": () => Promise.resolve(),\n      \"*\": () => model.download(),\n    });\n    const instance = await $(model).instantiate({...instanceProps, parent}, insertionParams);\n\n    nodeRegistry[instance.id] = instance;\n\n    (instance.children || []).forEach(child => nodeRegistry[child.id] = child);\n\n    return instance;\n  }\n\n  /**\n   * Removes given scene node. Attempting to remove the scene will throw an error.\n   * @function\n   * @param {SceneNode} node scene node to be removed\n   * @returns {Promise} Promise that resolves when the object is removed.\n   * @throws {Error} when attempting to remove the scene\n   * @memberof sceneManager#\n   */\n  async function removeNode(node) {\n    const actualNode = findNodeById(node.id);\n\n    if (node === scene) {\n      throw new Error('Scene Manager: cannot remove the scene!');\n    } else if (actualNode && node.id === actualNode.id) {\n      // await $(node).remove();\n      await coreInterface.call('deleteInstance', node.id);    // TODO: $(node) not existing when restoring scene state!\n      unregisterNodeRecursively(actualNode);                  // TODO: maybe this should be in the container?\n\n    }\n  }\n\n  function unregisterNodeRecursively(object) {\n    (object.children || []).map(unregisterNodeRecursively);\n    object.model && $(object.model).unregisterInstance(object);\n    $(object.parent).removeChild(object);\n    delete nodeRegistry[object.id];\n  }\n\n  /**\n   * Returns a serializable (JSON) representation of the whole scene, including the room description. Modifications of\n   * the returned objects have no effect on the actual scene state.\n   * @returns {Object} serializable representation of the scene.\n   * @memberof sceneManager#\n   */\n  function getSceneState() {\n    return JSON.parse(JSON.stringify(scene));\n  }\n\n  /**\n   * Same as {@link sceneManager.getSceneState}, but returns a Promise that resolves with the scene state after all\n   * scene updates have been made.\n   * @returns {Promise.<Object>} Promise that resolves with serializable representation of the scene.\n   * @memberof sceneManager#\n   */\n  function getSceneStateSafe() {\n    const getSceneStateThunk = () => getSceneState();\n    return sceneStateMutex = sceneStateMutex.then(getSceneStateThunk, getSceneStateThunk);\n  }\n\n  /**\n   * Same as {@link sceneManager.getSceneState}, but returns a Promise that resolves with the scene state after all\n   * scene updates have been made.\n   * @function\n   * @param {Object} newSceneState scene state, obtained using {@link sceneManager.getSceneState} or {@link sceneManager.getSceneStateSafe}\n   * @returns {Promise} Promise that resolves once the scene is updated.\n   * @memberof sceneManager#\n   */\n  async function setSceneState(newSceneState) {\n    const emit = ::sceneManager.emit;\n    const calls = {\n      addNode,\n      updateNode,\n      moveNode,\n      removeNode,\n    };\n\n    const updateSceneThunk = () => updateScene(getSceneState(), JSON.parse(JSON.stringify(newSceneState)), calls, emit);\n    \n    await (sceneStateMutex = sceneStateMutex.then(updateSceneThunk, updateSceneThunk));\n  }\n\n  async function addNode(parent, specification) {\n    if (specification.children) {\n      const container = await sceneManager.insertContainer({...specification, parent: findNodeById(parent.id)});\n\n      for (const child of specification.children) {\n        await addNode(container, child);\n      }\n    } else {\n      const model = modelManager.findModelByForeignKey(specification.model) ||\n          modelManager.findModelById(specification.model) ||\n          await modelManager.getModelFromRepository(specification.model);\n\n      specification.pose = specification.pose || DEFAULT_POSE;\n      await ifCore({\n        \"^5.3.0\": () => Promise.resolve(),\n        \"*\": () => model.download(),\n      });\n      const instance = await $(model).instantiate({...specification, parent: findNodeById(parent.id)});\n\n      nodeRegistry[instance.id] = instance;\n\n      (instance.children || []).forEach(child => nodeRegistry[child.id] = child);\n    }\n  }\n\n  function moveNode({node, parent}) {\n    return findNodeById(node.id).setParent(findNodeById(parent.id));\n  }\n\n  function updateNode({oldSceneNode, newSceneNode}) {\n    return Promise.resolve()\n      .then(() => findNodeById(oldSceneNode.id))\n      .then(node => Promise.all([\n        isEqual(node.pose, newSceneNode.pose) || !newSceneNode.pose ? Promise.resolve() : node.setPose(newSceneNode.pose),\n        isEqual(node.interaction, newSceneNode.interaction) || !newSceneNode.interaction ? Promise.resolve() : node.setInteraction(newSceneNode.interaction),\n        isEqual(node.visible, newSceneNode.visible) || !newSceneNode.visible ? Promise.resolve() : node.setVisible(newSceneNode.visible),\n        isEqual(node.propertyValues, newSceneNode.propertyValues) || !newSceneNode.propertyValues ? Promise.resolve() : node.setPropertyValues(newSceneNode.propertyValues),\n      ]));\n  }\n\n//======================================================================================================================\n\n  function sceneObjectPoseChangedHandler(nodeId, newPose) {\n    const node = findNodeById(nodeId);\n\n    if (node) {\n      $(node).updatePose(newPose);\n      sceneManager.emit('sceneObjectPoseChanged', node);\n    }\n  }\n\n  function selectionChangedHandler(objectId) {\n    selection = nodeRegistry[objectId];\n    sceneManager.emit('selectionChanged', selection);\n  }\n\n  function touchRayHandler(touchResult) {\n    sceneManager.emit('sceneTouched', touchResult);\n  }\n\n  function objectTouchedHandler(objectId, meshId) {\n    sceneManager.emit('objectTouched', nodeRegistry[objectId], meshId);\n  }\n\n  function objectSnappedHandler(snappingInfoJson) {\n    const snappingInfo = JSON.parse(snappingInfoJson);\n    for (const snap of snappingInfo) {\n      const object1 = findObjectById(snap.plug.id);\n      const object2 = findObjectById(snap.socket.id);\n      sceneManager.emit('objectSnapped', object1, object2);\n    }\n  }\n\n  function objectUnsnappedHandler(snappingInfo) {\n    sceneManager.emit('objectUnsnapped', JSON.parse(snappingInfo));\n  }\n\n  function backgroundRestoreStartedHandler() {\n    sceneManager.emit('backgroundRestoreStarted');\n  }\n\n  function backgroundRestoreCompletedHandler() {\n    sceneManager.emit('backgroundRestoreCompleted');\n  }\n\n}\n\n/**\n * Event that is emitted when an scene node is moved manually\n *\n * @event sceneManager#sceneObjectPoseChanged\n * @param {SceneNode} node - node whose pose was changed\n */\n\n/**\n * Event that is emitted when selection changes\n *\n * @event sceneManager#selectionChanged\n * @param {SceneNode|null} selection - new selection\n */\n\n/**\n * Event that is emitted when an scene node is touched\n *\n * @event sceneManager#objectTouched\n * @param {SceneNode} node - node that was touched\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/scene-manager.js","exports = module.exports = SemVer;\n\n// The debug function is excluded entirely from the minified version.\n/* nomin */ var debug;\n/* nomin */ if (typeof process === 'object' &&\n    /* nomin */ process.env &&\n    /* nomin */ process.env.NODE_DEBUG &&\n    /* nomin */ /\\bsemver\\b/i.test(process.env.NODE_DEBUG))\n  /* nomin */ debug = function() {\n    /* nomin */ var args = Array.prototype.slice.call(arguments, 0);\n    /* nomin */ args.unshift('SEMVER');\n    /* nomin */ console.log.apply(console, args);\n    /* nomin */ };\n/* nomin */ else\n  /* nomin */ debug = function() {};\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0';\n\nvar MAX_LENGTH = 256;\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\n\n// The actual regexps go on exports.re\nvar re = exports.re = [];\nvar src = exports.src = [];\nvar R = 0;\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++;\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\nvar NUMERICIDENTIFIERLOOSE = R++;\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+';\n\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++;\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*';\n\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++;\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')';\n\nvar MAINVERSIONLOOSE = R++;\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')';\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++;\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')';\n\nvar PRERELEASEIDENTIFIERLOOSE = R++;\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')';\n\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++;\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n\nvar PRERELEASELOOSE = R++;\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))';\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++;\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+';\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++;\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))';\n\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++;\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?';\n\nsrc[FULL] = '^' + FULLPLAIN + '$';\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?';\n\nvar LOOSE = R++;\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$';\n\nvar GTLT = R++;\nsrc[GTLT] = '((?:<|>)?=?)';\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++;\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\nvar XRANGEIDENTIFIER = R++;\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n\nvar XRANGEPLAIN = R++;\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?';\n\nvar XRANGEPLAINLOOSE = R++;\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?';\n\nvar XRANGE = R++;\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\nvar XRANGELOOSE = R++;\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$';\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++;\nsrc[LONETILDE] = '(?:~>?)';\n\nvar TILDETRIM = R++;\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\nvar tildeTrimReplace = '$1~';\n\nvar TILDE = R++;\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\nvar TILDELOOSE = R++;\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$';\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++;\nsrc[LONECARET] = '(?:\\\\^)';\n\nvar CARETTRIM = R++;\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\nvar caretTrimReplace = '$1^';\n\nvar CARET = R++;\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\nvar CARETLOOSE = R++;\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$';\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++;\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\nvar COMPARATOR = R++;\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$';\n\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++;\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')';\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\nvar comparatorTrimReplace = '$1$2$3';\n\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++;\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$';\n\nvar HYPHENRANGELOOSE = R++;\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$';\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++;\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*';\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i]);\n  if (!re[i])\n    re[i] = new RegExp(src[i]);\n}\n\nexports.parse = parse;\nfunction parse(version, loose) {\n  if (version instanceof SemVer)\n    return version;\n\n  if (typeof version !== 'string')\n    return null;\n\n  if (version.length > MAX_LENGTH)\n    return null;\n\n  var r = loose ? re[LOOSE] : re[FULL];\n  if (!r.test(version))\n    return null;\n\n  try {\n    return new SemVer(version, loose);\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.valid = valid;\nfunction valid(version, loose) {\n  var v = parse(version, loose);\n  return v ? v.version : null;\n}\n\n\nexports.clean = clean;\nfunction clean(version, loose) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), loose);\n  return s ? s.version : null;\n}\n\nexports.SemVer = SemVer;\n\nfunction SemVer(version, loose) {\n  if (version instanceof SemVer) {\n    if (version.loose === loose)\n      return version;\n    else\n      version = version.version;\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version);\n  }\n\n  if (version.length > MAX_LENGTH)\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n\n  if (!(this instanceof SemVer))\n    return new SemVer(version, loose);\n\n  debug('SemVer', version, loose);\n  this.loose = loose;\n  var m = version.trim().match(loose ? re[LOOSE] : re[FULL]);\n\n  if (!m)\n    throw new TypeError('Invalid Version: ' + version);\n\n  this.raw = version;\n\n  // these are actually numbers\n  this.major = +m[1];\n  this.minor = +m[2];\n  this.patch = +m[3];\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0)\n    throw new TypeError('Invalid major version')\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0)\n    throw new TypeError('Invalid minor version')\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0)\n    throw new TypeError('Invalid patch version')\n\n  // numberify any prerelease numeric ids\n  if (!m[4])\n    this.prerelease = [];\n  else\n    this.prerelease = m[4].split('.').map(function(id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id;\n        if (num >= 0 && num < MAX_SAFE_INTEGER)\n          return num;\n      }\n      return id;\n    });\n\n  this.build = m[5] ? m[5].split('.') : [];\n  this.format();\n}\n\nSemVer.prototype.format = function() {\n  this.version = this.major + '.' + this.minor + '.' + this.patch;\n  if (this.prerelease.length)\n    this.version += '-' + this.prerelease.join('.');\n  return this.version;\n};\n\nSemVer.prototype.toString = function() {\n  return this.version;\n};\n\nSemVer.prototype.compare = function(other) {\n  debug('SemVer.compare', this.version, this.loose, other);\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return this.compareMain(other) || this.comparePre(other);\n};\n\nSemVer.prototype.compareMain = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch);\n};\n\nSemVer.prototype.comparePre = function(other) {\n  if (!(other instanceof SemVer))\n    other = new SemVer(other, this.loose);\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length)\n    return -1;\n  else if (!this.prerelease.length && other.prerelease.length)\n    return 1;\n  else if (!this.prerelease.length && !other.prerelease.length)\n    return 0;\n\n  var i = 0;\n  do {\n    var a = this.prerelease[i];\n    var b = other.prerelease[i];\n    debug('prerelease compare', i, a, b);\n    if (a === undefined && b === undefined)\n      return 0;\n    else if (b === undefined)\n      return 1;\n    else if (a === undefined)\n      return -1;\n    else if (a === b)\n      continue;\n    else\n      return compareIdentifiers(a, b);\n  } while (++i);\n};\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function(release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor = 0;\n      this.major++;\n      this.inc('pre', identifier);\n      break;\n    case 'preminor':\n      this.prerelease.length = 0;\n      this.patch = 0;\n      this.minor++;\n      this.inc('pre', identifier);\n      break;\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0;\n      this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0)\n        this.inc('patch', identifier);\n      this.inc('pre', identifier);\n      break;\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0)\n        this.major++;\n      this.minor = 0;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0)\n        this.minor++;\n      this.patch = 0;\n      this.prerelease = [];\n      break;\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0)\n        this.patch++;\n      this.prerelease = [];\n      break;\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0)\n        this.prerelease = [0];\n      else {\n        var i = this.prerelease.length;\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++;\n            i = -2;\n          }\n        }\n        if (i === -1) // didn't increment anything\n          this.prerelease.push(0);\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1]))\n            this.prerelease = [identifier, 0];\n        } else\n          this.prerelease = [identifier, 0];\n      }\n      break;\n\n    default:\n      throw new Error('invalid increment argument: ' + release);\n  }\n  this.format();\n  this.raw = this.version;\n  return this;\n};\n\nexports.inc = inc;\nfunction inc(version, release, loose, identifier) {\n  if (typeof(loose) === 'string') {\n    identifier = loose;\n    loose = undefined;\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version;\n  } catch (er) {\n    return null;\n  }\n}\n\nexports.diff = diff;\nfunction diff(version1, version2) {\n  if (eq(version1, version2)) {\n    return null;\n  } else {\n    var v1 = parse(version1);\n    var v2 = parse(version2);\n    if (v1.prerelease.length || v2.prerelease.length) {\n      for (var key in v1) {\n        if (key === 'major' || key === 'minor' || key === 'patch') {\n          if (v1[key] !== v2[key]) {\n            return 'pre'+key;\n          }\n        }\n      }\n      return 'prerelease';\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return key;\n        }\n      }\n    }\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers;\n\nvar numeric = /^[0-9]+$/;\nfunction compareIdentifiers(a, b) {\n  var anum = numeric.test(a);\n  var bnum = numeric.test(b);\n\n  if (anum && bnum) {\n    a = +a;\n    b = +b;\n  }\n\n  return (anum && !bnum) ? -1 :\n         (bnum && !anum) ? 1 :\n         a < b ? -1 :\n         a > b ? 1 :\n         0;\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers;\nfunction rcompareIdentifiers(a, b) {\n  return compareIdentifiers(b, a);\n}\n\nexports.major = major;\nfunction major(a, loose) {\n  return new SemVer(a, loose).major;\n}\n\nexports.minor = minor;\nfunction minor(a, loose) {\n  return new SemVer(a, loose).minor;\n}\n\nexports.patch = patch;\nfunction patch(a, loose) {\n  return new SemVer(a, loose).patch;\n}\n\nexports.compare = compare;\nfunction compare(a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose));\n}\n\nexports.compareLoose = compareLoose;\nfunction compareLoose(a, b) {\n  return compare(a, b, true);\n}\n\nexports.rcompare = rcompare;\nfunction rcompare(a, b, loose) {\n  return compare(b, a, loose);\n}\n\nexports.sort = sort;\nfunction sort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.compare(a, b, loose);\n  });\n}\n\nexports.rsort = rsort;\nfunction rsort(list, loose) {\n  return list.sort(function(a, b) {\n    return exports.rcompare(a, b, loose);\n  });\n}\n\nexports.gt = gt;\nfunction gt(a, b, loose) {\n  return compare(a, b, loose) > 0;\n}\n\nexports.lt = lt;\nfunction lt(a, b, loose) {\n  return compare(a, b, loose) < 0;\n}\n\nexports.eq = eq;\nfunction eq(a, b, loose) {\n  return compare(a, b, loose) === 0;\n}\n\nexports.neq = neq;\nfunction neq(a, b, loose) {\n  return compare(a, b, loose) !== 0;\n}\n\nexports.gte = gte;\nfunction gte(a, b, loose) {\n  return compare(a, b, loose) >= 0;\n}\n\nexports.lte = lte;\nfunction lte(a, b, loose) {\n  return compare(a, b, loose) <= 0;\n}\n\nexports.cmp = cmp;\nfunction cmp(a, op, b, loose) {\n  var ret;\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a === b;\n      break;\n    case '!==':\n      if (typeof a === 'object') a = a.version;\n      if (typeof b === 'object') b = b.version;\n      ret = a !== b;\n      break;\n    case '': case '=': case '==': ret = eq(a, b, loose); break;\n    case '!=': ret = neq(a, b, loose); break;\n    case '>': ret = gt(a, b, loose); break;\n    case '>=': ret = gte(a, b, loose); break;\n    case '<': ret = lt(a, b, loose); break;\n    case '<=': ret = lte(a, b, loose); break;\n    default: throw new TypeError('Invalid operator: ' + op);\n  }\n  return ret;\n}\n\nexports.Comparator = Comparator;\nfunction Comparator(comp, loose) {\n  if (comp instanceof Comparator) {\n    if (comp.loose === loose)\n      return comp;\n    else\n      comp = comp.value;\n  }\n\n  if (!(this instanceof Comparator))\n    return new Comparator(comp, loose);\n\n  debug('comparator', comp, loose);\n  this.loose = loose;\n  this.parse(comp);\n\n  if (this.semver === ANY)\n    this.value = '';\n  else\n    this.value = this.operator + this.semver.version;\n\n  debug('comp', this);\n}\n\nvar ANY = {};\nComparator.prototype.parse = function(comp) {\n  var r = this.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var m = comp.match(r);\n\n  if (!m)\n    throw new TypeError('Invalid comparator: ' + comp);\n\n  this.operator = m[1];\n  if (this.operator === '=')\n    this.operator = '';\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2])\n    this.semver = ANY;\n  else\n    this.semver = new SemVer(m[2], this.loose);\n};\n\nComparator.prototype.toString = function() {\n  return this.value;\n};\n\nComparator.prototype.test = function(version) {\n  debug('Comparator.test', version, this.loose);\n\n  if (this.semver === ANY)\n    return true;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  return cmp(version, this.operator, this.semver, this.loose);\n};\n\nComparator.prototype.intersects = function(comp, loose) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required');\n  }\n\n  var rangeTmp;\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, loose);\n    return satisfies(this.value, rangeTmp, loose);\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, loose);\n    return satisfies(comp.semver, rangeTmp, loose);\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>');\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<');\n  var sameSemVer = this.semver.version === comp.semver.version;\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=');\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, loose) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'));\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, loose) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'));\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n};\n\n\nexports.Range = Range;\nfunction Range(range, loose) {\n  if (range instanceof Range) {\n    if (range.loose === loose) {\n      return range;\n    } else {\n      return new Range(range.raw, loose);\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, loose);\n  }\n\n  if (!(this instanceof Range))\n    return new Range(range, loose);\n\n  this.loose = loose;\n\n  // First, split based on boolean or ||\n  this.raw = range;\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function(range) {\n    return this.parseRange(range.trim());\n  }, this).filter(function(c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length;\n  });\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range);\n  }\n\n  this.format();\n}\n\nRange.prototype.format = function() {\n  this.range = this.set.map(function(comps) {\n    return comps.join(' ').trim();\n  }).join('||').trim();\n  return this.range;\n};\n\nRange.prototype.toString = function() {\n  return this.range;\n};\n\nRange.prototype.parseRange = function(range) {\n  var loose = this.loose;\n  range = range.trim();\n  debug('range', range, loose);\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n  range = range.replace(hr, hyphenReplace);\n  debug('hyphen replace', range);\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n  debug('comparator trim', range, re[COMPARATORTRIM]);\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace);\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace);\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ');\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n  var set = range.split(' ').map(function(comp) {\n    return parseComparator(comp, loose);\n  }).join(' ').split(/\\s+/);\n  if (this.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function(comp) {\n      return !!comp.match(compRe);\n    });\n  }\n  set = set.map(function(comp) {\n    return new Comparator(comp, loose);\n  });\n\n  return set;\n};\n\nRange.prototype.intersects = function(range, loose) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required');\n  }\n\n  return this.set.some(function(thisComparators) {\n    return thisComparators.every(function(thisComparator) {\n      return range.set.some(function(rangeComparators) {\n        return rangeComparators.every(function(rangeComparator) {\n          return thisComparator.intersects(rangeComparator, loose);\n        });\n      });\n    });\n  });\n};\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators;\nfunction toComparators(range, loose) {\n  return new Range(range, loose).set.map(function(comp) {\n    return comp.map(function(c) {\n      return c.value;\n    }).join(' ').trim().split(' ');\n  });\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator(comp, loose) {\n  debug('comp', comp);\n  comp = replaceCarets(comp, loose);\n  debug('caret', comp);\n  comp = replaceTildes(comp, loose);\n  debug('tildes', comp);\n  comp = replaceXRanges(comp, loose);\n  debug('xrange', comp);\n  comp = replaceStars(comp, loose);\n  debug('stars', comp);\n  return comp;\n}\n\nfunction isX(id) {\n  return !id || id.toLowerCase() === 'x' || id === '*';\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceTilde(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceTilde(comp, loose) {\n  var r = loose ? re[TILDELOOSE] : re[TILDE];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p))\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    else if (pr) {\n      debug('replaceTilde pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      ret = '>=' + M + '.' + m + '.' + p + pr +\n            ' <' + M + '.' + (+m + 1) + '.0';\n    } else\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0';\n\n    debug('tilde return', ret);\n    return ret;\n  });\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets(comp, loose) {\n  return comp.trim().split(/\\s+/).map(function(comp) {\n    return replaceCaret(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceCaret(comp, loose) {\n  debug('caret', comp, loose);\n  var r = loose ? re[CARETLOOSE] : re[CARET];\n  return comp.replace(r, function(_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr);\n    var ret;\n\n    if (isX(M))\n      ret = '';\n    else if (isX(m))\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    else if (isX(p)) {\n      if (M === '0')\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n      else\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n    } else if (pr) {\n      debug('replaceCaret pr', pr);\n      if (pr.charAt(0) !== '-')\n        pr = '-' + pr;\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p + pr +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p + pr +\n              ' <' + (+M + 1) + '.0.0';\n    } else {\n      debug('no pr');\n      if (M === '0') {\n        if (m === '0')\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1);\n        else\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0';\n      } else\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0';\n    }\n\n    debug('caret return', ret);\n    return ret;\n  });\n}\n\nfunction replaceXRanges(comp, loose) {\n  debug('replaceXRanges', comp, loose);\n  return comp.split(/\\s+/).map(function(comp) {\n    return replaceXRange(comp, loose);\n  }).join(' ');\n}\n\nfunction replaceXRange(comp, loose) {\n  comp = comp.trim();\n  var r = loose ? re[XRANGELOOSE] : re[XRANGE];\n  return comp.replace(r, function(ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr);\n    var xM = isX(M);\n    var xm = xM || isX(m);\n    var xp = xm || isX(p);\n    var anyX = xp;\n\n    if (gtlt === '=' && anyX)\n      gtlt = '';\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0';\n      } else {\n        // nothing is forbidden\n        ret = '*';\n      }\n    } else if (gtlt && anyX) {\n      // replace X with 0\n      if (xm)\n        m = 0;\n      if (xp)\n        p = 0;\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>=';\n        if (xm) {\n          M = +M + 1;\n          m = 0;\n          p = 0;\n        } else if (xp) {\n          m = +m + 1;\n          p = 0;\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<';\n        if (xm)\n          M = +M + 1;\n        else\n          m = +m + 1;\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p;\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n    }\n\n    debug('xRange return', ret);\n\n    return ret;\n  });\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars(comp, loose) {\n  debug('replaceStars', comp, loose);\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '');\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace($0,\n                       from, fM, fm, fp, fpr, fb,\n                       to, tM, tm, tp, tpr, tb) {\n\n  if (isX(fM))\n    from = '';\n  else if (isX(fm))\n    from = '>=' + fM + '.0.0';\n  else if (isX(fp))\n    from = '>=' + fM + '.' + fm + '.0';\n  else\n    from = '>=' + from;\n\n  if (isX(tM))\n    to = '';\n  else if (isX(tm))\n    to = '<' + (+tM + 1) + '.0.0';\n  else if (isX(tp))\n    to = '<' + tM + '.' + (+tm + 1) + '.0';\n  else if (tpr)\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n  else\n    to = '<=' + to;\n\n  return (from + ' ' + to).trim();\n}\n\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function(version) {\n  if (!version)\n    return false;\n\n  if (typeof version === 'string')\n    version = new SemVer(version, this.loose);\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version))\n      return true;\n  }\n  return false;\n};\n\nfunction testSet(set, version) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version))\n      return false;\n  }\n\n  if (version.prerelease.length) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (var i = 0; i < set.length; i++) {\n      debug(set[i].semver);\n      if (set[i].semver === ANY)\n        continue;\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver;\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch)\n          return true;\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false;\n  }\n\n  return true;\n}\n\nexports.satisfies = satisfies;\nfunction satisfies(version, range, loose) {\n  try {\n    range = new Range(range, loose);\n  } catch (er) {\n    return false;\n  }\n  return range.test(version);\n}\n\nexports.maxSatisfying = maxSatisfying;\nfunction maxSatisfying(versions, range, loose) {\n  var max = null;\n  var maxSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!max || maxSV.compare(v) === -1) { // compare(max, v, true)\n        max = v;\n        maxSV = new SemVer(max, loose);\n      }\n    }\n  })\n  return max;\n}\n\nexports.minSatisfying = minSatisfying;\nfunction minSatisfying(versions, range, loose) {\n  var min = null;\n  var minSV = null;\n  try {\n    var rangeObj = new Range(range, loose);\n  } catch (er) {\n    return null;\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) { // satisfies(v, range, loose)\n      if (!min || minSV.compare(v) === 1) { // compare(min, v, true)\n        min = v;\n        minSV = new SemVer(min, loose);\n      }\n    }\n  })\n  return min;\n}\n\nexports.validRange = validRange;\nfunction validRange(range, loose) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, loose).range || '*';\n  } catch (er) {\n    return null;\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr;\nfunction ltr(version, range, loose) {\n  return outside(version, range, '<', loose);\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr;\nfunction gtr(version, range, loose) {\n  return outside(version, range, '>', loose);\n}\n\nexports.outside = outside;\nfunction outside(version, range, hilo, loose) {\n  version = new SemVer(version, loose);\n  range = new Range(range, loose);\n\n  var gtfn, ltefn, ltfn, comp, ecomp;\n  switch (hilo) {\n    case '>':\n      gtfn = gt;\n      ltefn = lte;\n      ltfn = lt;\n      comp = '>';\n      ecomp = '>=';\n      break;\n    case '<':\n      gtfn = lt;\n      ltefn = gte;\n      ltfn = gt;\n      comp = '<';\n      ecomp = '<=';\n      break;\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, loose)) {\n    return false;\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i];\n\n    var high = null;\n    var low = null;\n\n    comparators.forEach(function(comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator;\n      low = low || comparator;\n      if (gtfn(comparator.semver, high.semver, loose)) {\n        high = comparator;\n      } else if (ltfn(comparator.semver, low.semver, loose)) {\n        low = comparator;\n      }\n    });\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false;\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false;\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexports.prerelease = prerelease;\nfunction prerelease(version, loose) {\n  var parsed = parse(version, loose);\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null;\n}\n\nexports.intersects = intersects;\nfunction intersects(r1, r2, loose) {\n  r1 = new Range(r1, loose)\n  r2 = new Range(r2, loose)\n  return r1.intersects(r2)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/semver/semver.js\n// module id = 33\n// module chunks = 0","import compose from 'stampit/compose';\nimport createBaseEmitter from 'component-emitter';\n\nimport { $ } from '../dependencies';\n\nexport default createEmitter;\n\nfunction createEmitter() {\n\n  const emitter = createBaseEmitter({awaitEvent});\n\n  return emitter;\n\n  /**\n   * Wraps an event handler set on the object into a promise. The promise is resolved when the event gets triggered.\n   * @param {string} eventName - name of the event\n   * @returns {Promise}\n   * @memberOf Emitter\n   */\n  function awaitEvent(eventName) {\n    return new Promise(function (resolve) {\n      emitter.once(eventName, resolve);\n    });\n  }\n}\n\nexport const ProtectedEmitter = compose({\n\n  initializers: [function () {\n    const emitter = createBaseEmitter({});\n\n    Object.assign(this, {\n      on(...args) { emitter.on(...args) },\n      off(...args) { emitter.off(...args) },\n      once(...args) { emitter.once(...args) },\n    });\n\n    Object.assign($(this), {\n      emit(event, ...args) { emitter.emit(event, ...args) }\n    });\n  }],\n\n  methods: {\n\n  },\n\n});\n\n\n/**\n * @interface ProtectedEmitter\n */\n\n/**\n * @method on\n * @param {string} eventName\n * @param {function} eventHandler\n * @memberof ProtectedEmitter#\n */\n\n/**\n * @method off\n * @param {string} eventName\n * @param {function} eventHandler\n * @memberof ProtectedEmitter#\n */\n\n/**\n * @method once\n * @param {string} eventName\n * @param {function} eventHandler\n * @memberof ProtectedEmitter#\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/emitter.js","import compose from 'stampit/compose';\nimport createNamespace from '../../utils/namespace';\nimport { $ } from '../../dependencies';\n\nimport { Identifiable } from '../identifiable/identifiable';\nimport { Highlightable } from '../highlightable/highlightable';\nimport { Locatable } from '../locatable/locatable';\nimport { Visible } from '../visible/visible';\nimport { Interactive } from '../interactive/interactive';\nimport { Leaf } from '../tree/leaf';\nimport { ProtectedEmitter } from '../emitter';\n\nconst _ = createNamespace();\n\n//======================================================================================================================\n\n/**\n * Provides getters and setters for common properties of scene nodes ({@link ModelInstance} {@link Container})\n *\n * @interface SceneNode\n * @extends Identifiable\n * @extends Highlightable\n * @extends Locatable\n * @extends Visible\n * @extends Interactive\n * @extends Leaf\n * @extends Emitter\n */\nexport const SceneNode = compose(Identifiable, Locatable, Visible, Interactive, Highlightable, Leaf, ProtectedEmitter, {\n  initializers: [function ({coreInterface}) {\n    Object.assign(_(this), {\n      coreInterface\n    });\n  }],\n\n  methods: {\n    setParent,\n    setPropertyValues\n  },\n});\n\n/**\n * Moves the node to a new container.\n * @param {Container} newParent\n * @returns {Promise} resolved when done.\n *\n * @memberof SceneNode#\n */\nfunction setParent(newParent) {\n  return _(this).coreInterface.call('setParentContainer', this.id, newParent.id).then(() => {\n    $(this.parent).removeChild(this);\n    $(newParent).addChild(this);\n  })\n}\n\nfunction setPropertyValues(newValues) {\n  return this::callRecursively(node => node.setPropertyValues(newValues));\n}\n\nfunction callRecursively(fn) {\n  return Promise.resolve().then(() => this.children && Promise.all(this.children.map(fn)));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/scene-node/scene-node.js","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_ListCache.js\n// module id = 36\n// module chunks = 0","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_SetCache.js\n// module id = 37\n// module chunks = 0","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Stack.js\n// module id = 38\n// module chunks = 0","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_assocIndexOf.js\n// module id = 39\n// module chunks = 0","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFlatten.js\n// module id = 40\n// module chunks = 0","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGet.js\n// module id = 41\n// module chunks = 0","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cacheHas.js\n// module id = 42\n// module chunks = 0","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getMapData.js\n// module id = 43\n// module chunks = 0","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isIndex.js\n// module id = 44\n// module chunks = 0","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeCreate.js\n// module id = 45\n// module chunks = 0","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setToArray.js\n// module id = 46\n// module chunks = 0","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isArguments.js\n// module id = 47\n// module chunks = 0","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isBuffer.js\n// module id = 48\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isFunction.js\n// module id = 49\n// module chunks = 0","import { CloudStorage } from '../dependencies';\n\nimport { injector, AuthenticationManager, Config, AppConfig, Http } from '../dependencies';\n\ninjector.register(CloudStorage, createCloudStorage, {\n  authenticationManager: AuthenticationManager,\n  appConfig: AppConfig,\n  config: Config,\n  http: Http,\n});\n\nexport { CloudStorage } from '../dependencies';\n\n/**\n * @interface CloudStorage\n * @extends Storage\n */\n\n\n/**\n * @private\n * @returns CloudStorage\n */\n\nexport function createCloudStorage(specification) {\n  const { authenticationManager, config, appConfig, http } = specification;\n\n  const host = appConfig.host;\n  let storageKey = appConfig.storageKey;\n  const serverUrl = config.serverUrl || host;\n  const createUrl = action => `${serverUrl}/appstorage/${action}/storage:${storageKey}`;\n\n  const password = config.password || '';\n\n  const provider = {\n    get storageKey() { return storageKey; },\n    set storageKey(key) { storageKey = key; },\n    createUrl,\n    read,\n    write,\n    remove,\n  };\n\n  return provider;\n\n  function checkPermission(path) {\n    const token = authenticationManager.token;\n\n    if (!(path.match(/^\\/public\\//) || (token && path.match(new RegExp(`^/${token}/`))))) {\n      throw new Error('Access violation! Restricted access to unauthorized users!');\n    }\n  }\n\n  function read(path) {\n    return Promise.resolve()\n        .then(() => checkPermission(path))\n        .then(() => http.post(createUrl('query'), { password, uid: path }))\n        .then(result => result ? JSON.parse(result) : null);\n  }\n\n  function write(path, content, format) {\n    return Promise.resolve()\n        .then(() => checkPermission(path))\n        .then(() => http.post(createUrl('save'), { password, uid: path, data: content }));\n  }\n\n  function remove(path) {\n    return Promise.resolve()\n        .then(() => checkPermission(path))\n        .then(() => http.post(createUrl('delete'), { password, uid: path }));\n  }\n}\n\n/**\n * @interface Storage\n */\n\n/**\n * Reads file contents from storage. Resolves to null if file doesn't exist.\n * @function\n * @name Storage#read\n * @params {string} path file path\n * @returns {Promise.<string|null>} file contents\n */\n\n/**\n * Writes file contents from storage.\n * @function\n * @name Storage#write\n * @params {string} path file path\n * @params {string} content content to write\n * @params {string} format content format\n * @returns {Promise} resolved on completion\n */\n\n/**\n * Removes file from storage.\n * @function\n * @name Storage#remove\n * @params {string} path file path\n * @returns {Promise} resolved on completion\n */\n\n/**\n * @namespace storage\n */\n\n/**\n * @member {LocalStorage} local\n * @memberof storage#\n */\n\n/**\n * @member {CloudStorage} cloud\n * @memberof storage#\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/storage/cloud.js","import { LocalStorage } from '../dependencies';\n\nimport { injector } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\n\ninjector.register(LocalStorage, createLocalStorage, {coreInterface: CoreInterface});\n\nexport { LocalStorage } from '../dependencies';\n\n\n/**\n * @interface LocalStorage\n * @extends Storage\n */\n\n\n/**\n * @private\n * @returns LocalStorage\n */\nexport function createLocalStorage(specification) {\n  const { coreInterface } = specification;\n\n  const provider = {\n    read,\n    write,\n    remove\n  };\n\n  return provider;\n\n\n  function read(name) {\n    return coreInterface.call('readCustomFile', name.replace(/\\//g, '_'));\n  }\n\n  function write(name, content, format = '') {\n    return coreInterface.call('saveCustomFile', name.replace(/\\//g, '_'), content, format);\n  }\n\n  function remove(name) {\n    coreInterface.emit('deleteCustomFile', name.replace(/\\//g, '_'));\n    return Promise.resolve();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/storage/local.js","import { Logger } from '../dependencies';\nimport { injector, Config, Http, Window, AppConfig } from '../dependencies';\n\ninjector.register(Logger, createLogger, {window: Window, http: Http, config: Config, appConfig: AppConfig});\n\nconst logFn = text => {\n  window.document.body.appendChild(document.createTextNode(text));\n  window.document.body.appendChild(document.createElement('br'));\n};\n\nconst domOutput = {\n  log: logFn,\n  error: logFn,\n  warn: logFn,\n  info: logFn,\n};\n\nexport { Logger } from '../dependencies';\nexport function createLogger({window, http, config, appConfig}) {\n\n  const serverOutput = {\n    info: () => {},\n    warn: () => {},\n    log: () => {},\n    error(error) {\n      return http.post(`${appConfig.host}/api30/log/`, {\n        type: 'Exception',\n        app: config.appId,\n        data: JSON.stringify(error, ['message', 'stack']),\n      });\n    },\n  };\n\n  const outputs = [\n    window.console,\n    //serverOutput,\n    //domOutput,\n  ];\n\n  if (Promise.onPossiblyUnhandledRejection) {\n    Promise.onPossiblyUnhandledRejection(error);\n  }\n\n  window.onerror = (_, __, ___, ____, errorObject) => error(errorObject);\n\n  return {\n    error,\n    log,\n    warn,\n    info,\n    debug: config.debug && log || (() => {}),\n\n    register,\n\n    time,\n    timeEnd,\n  };\n\n//======================================================================================================================\n\n  function register(output) {\n    outputs.push(output);\n  }\n\n  function log(...args) {\n    outputs.forEach(output => output.log(...args));\n  }\n\n  function warn(...args) {\n    outputs.forEach(output => output.warn(...args));\n  }\n\n  function error(...args) {\n    outputs.forEach(output => output.error(...args));\n  }\n\n  function info(...args) {\n    outputs.forEach(output => output.info(...args));\n  }\n\n  function time(label) {\n    outputs.forEach(output => output.time && output.time(label));\n  }\n\n  function timeEnd(label) {\n    outputs.forEach(output => output.timeEnd && output.timeEnd(label));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/logger.js","export default {\n  app: \"\",\n  api: \"\",\n  core: \"\",\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/version-info.js","\n\n\nexport function mixinStateUpdate(camera, updateCall, pose) {\n  let intervalId = null;\n\n  /**\n   * Starts the automatic camera pose update, which is by default turned off for performance reasons. The pose returned\n   * is relative to the initialized virtual space origin.\n   * @param {number} intervalInMs update interval\n   * @memberof Camera#\n   */\n  function startPoseUpdate(intervalInMs) {\n    intervalId = setInterval(updatePose, intervalInMs);\n  }\n\n  /**\n   * Stops the automatic pose update.\n   * @memberof Camera#\n   */\n  function stopPoseUpdate() {\n    if (intervalId) {\n      clearInterval(intervalId);\n      intervalId = null;\n    }\n  }\n\n  /**\n   * Updates the camera pose once.\n   * @returns {Promise.<ControllableCameraPose>} current camera pose\n   * @memberof Camera#\n   */\n  function updatePose() {\n    return updateCall().then(newPose => Object.assign(pose, newPose));\n  }\n\n  Object.assign(camera, {\n    startPoseUpdate,\n    updatePose,\n    stopPoseUpdate,\n  });\n}\n\nexport function mixinHmdMode(camera, name, coreInterface) {\n\n\n  /**\n   * Switches to stereoscopic rendering mode for use in HMDs.\n   * @returns {Promise} resolved on completion.\n   * @memberof Camera#\n   */\n  function enableHmdMode() {\n    return coreInterface.call('setRigType', name, 'StereoParallel');\n  }\n\n  /**\n   * Switches to regular rendering mode for handheld devices.\n   * @returns {Promise} resolved on completion.\n   * @memberof Camera#\n   */\n  function disableHmdMode() {\n    return coreInterface.call('setRigType', name, 'Single');\n  }\n\n  Object.assign(camera, {\n    enableHmdMode,\n    disableHmdMode,\n  });\n}\n\nexport function mixinPoseInDirection(camera, coreInterface) {\n\n  /**\n   * Calculates a point in 3d space in front of the camera at specified distance.\n   * @param {number} distance distance from camera\n   * @param {boolean?} projectToFloor if true, projects the resulting point onto the xz plain\n   * @returns {Promise.<Vector3d>} resulting position\n   * @memberOf Camera#\n   */\n  function getPoseInViewingDirection(distance, projectToFloor = false) {\n    return coreInterface.call('getPoseInViewingDirection', distance, !!projectToFloor);\n  }\n\n  Object.assign(camera, {\n    getPoseInViewingDirection,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cameras/camera-common.js","import compose from 'stampit/compose';\n\nimport { $ } from '../../dependencies';\n\n/**\n * @interface Leaf\n */\nexport const Leaf = compose({\n\n  initializers: [function ({parent = null}) {\n    let _parent = parent;\n\n    /**\n     * Node's parent\n     * @member {Node}\n     * @memberof Leaf#\n     */\n    Object.defineProperty(this, 'parent', {\n      get: () => _parent,\n      enumerable: true,\n      configurable: false\n    });\n\n    Object.assign($(this), {\n      setParent(newParent) {\n        _parent = newParent;\n      }\n    })\n  }],\n\n});\n\nexport const SceneChild = Leaf;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree/leaf.js","import compose from 'stampit/compose';\n\nimport { Taggable } from '../../../components/taggable/taggable';\n\nexport const Option = compose(Taggable, {\n\n  initializers: [function ({name, null: isNull, key, foreignKey, isValid, imageUrl}) {\n    this.name = name || this.name;\n    this.null = isNull || this.null;\n    this.key = key || this.name;\n    this.foreignKey = foreignKey || null;\n    this.isValid = isValid || this.isValid;\n    this.imageUrl = imageUrl || this.imageUrl;\n  }],\n\n  properties: {\n    name: '',\n    key: '',\n    imageUrl: '',\n    null: false,\n    isValid: () => true,\n  },\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/option/option.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Map.js\n// module id = 57\n// module chunks = 0","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_MapCache.js\n// module id = 58\n// module chunks = 0","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_apply.js\n// module id = 59\n// module chunks = 0","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayFilter.js\n// module id = 60\n// module chunks = 0","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayIncludes.js\n// module id = 61\n// module chunks = 0","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayIncludesWith.js\n// module id = 62\n// module chunks = 0","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayPush.js\n// module id = 63\n// module chunks = 0","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_assignValue.js\n// module id = 64\n// module chunks = 0","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseAssignValue.js\n// module id = 65\n// module chunks = 0","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIndexOf.js\n// module id = 66\n// module chunks = 0","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsEqual.js\n// module id = 67\n// module chunks = 0","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseUnary.js\n// module id = 68\n// module chunks = 0","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneArrayBuffer.js\n// module id = 69\n// module chunks = 0","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getPrototype.js\n// module id = 70\n// module chunks = 0","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getSymbols.js\n// module id = 71\n// module chunks = 0","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isKey.js\n// module id = 72\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isPrototype.js\n// module id = 73\n// module chunks = 0","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('dj vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/deburr.js\n// module id = 74\n// module chunks = 0","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/identity.js\n// module id = 75\n// module chunks = 0","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isLength.js\n// module id = 76\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isPlainObject.js\n// module id = 77\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isString.js\n// module id = 78\n// module chunks = 0","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isTypedArray.js\n// module id = 79\n// module chunks = 0","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.merge` except that it accepts `customizer` which\n * is invoked to produce the merged values of the destination and source\n * properties. If `customizer` returns `undefined`, merging is handled by the\n * method instead. The `customizer` is invoked with six arguments:\n * (objValue, srcValue, key, object, source, stack).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} customizer The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   if (_.isArray(objValue)) {\n *     return objValue.concat(srcValue);\n *   }\n * }\n *\n * var object = { 'a': [1], 'b': [2] };\n * var other = { 'a': [3], 'b': [4] };\n *\n * _.mergeWith(object, other, customizer);\n * // => { 'a': [1, 3], 'b': [2, 4] }\n */\nvar mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n  baseMerge(object, source, srcIndex, customizer);\n});\n\nmodule.exports = mergeWith;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/mergeWith.js\n// module id = 80\n// module chunks = 0","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/node-libs-browser/~/process/browser.js\n// module id = 81\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 82\n// module chunks = 0","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif(!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 83\n// module chunks = 0","import { ProjectManager } from '../dependencies';\n\nimport { createProject } from './project.js';\n\nimport { injector, AuthenticationManager } from '../dependencies';\nimport { LocalStorage } from '../storage/local';\nimport { CloudStorage } from '../storage/cloud';\n\ninjector.register(ProjectManager, createProjectManager, {\n  localStorage: LocalStorage,\n  cloudStorage: CloudStorage,\n  authenticationManager: AuthenticationManager,\n});\n\n/**\n * Object responsible for handling projects. Projects are snapshots of the current state in the scene, which can be stored\n * locally or in the cloud and loaded at a later moment\n *\n * @namespace projectManager\n */\n\n/**\n * @private\n * @returns {projectManager}\n */\nexport { ProjectManager } from '../dependencies';\nexport function createProjectManager({ authenticationManager, localStorage, cloudStorage }) {\n\n  let usePublicCloudIndex = false;\n\n  const getCloudIndexPath = () => usePublicCloudIndex ?\n      `/public/Projects/index.json` :\n      `/${authenticationManager.token}/Projects/index.json`;\n\n  const projects = {\n    local: {},\n    cloud: {},\n    all: {}\n  };\n\n  let online = true;\n\n  const projectManager = {\n    createNewProject,\n    updateCloudIndex,\n    updateLocalProjectIndex,\n    updateCloudProjectIndex,\n    fetchProjectById,\n    init,\n\n    /**\n     * Collection of all user' s projects. Includes projects stored locally and in the cloud.\n     * @type {{local: Array<Project>, cloud: Array<Project>, all: Array<Project>}}\n     * @memberof projectManager#\n     */\n    get projects() { return projects; },\n\n    /**\n     * Status about internet connection of the user.\n     * @type {boolean}\n     * @memberof projectManager#\n     */\n    get online() { return online; },\n\n    get usePublicCloudIndex() { return usePublicCloudIndex; },\n    set usePublicCloudIndex(newValue) { usePublicCloudIndex = newValue; },\n  };\n\n  return projectManager;\n\n//======================================================================================================================\n// INITIALIZATION\n//======================================================================================================================\n\n  /**\n   * Downloads projects from the cloud if online and loads projects from local disk.\n   * @memberof projectManager#\n   */\n  function init() {\n\n    Object.assign(projects,\n    {\n      local: {},\n      cloud: {},\n      all: {}\n    });\n\n    return Promise.all([\n      readLocalProjectIndex(),\n      readCloudProjectIndex(),\n    ]);\n  }\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Creates a new project\n   * @param {Object} specification - specification of the project (name, screenshotUrl, info, data)\n   * @returns {Project} the created project\n   * @memberof projectManager#\n   */\n  function createNewProject(specification) {\n    return createProject(specification);\n  }\n\n  /**\n   * Fetches projects from the cloud\n   * @returns {boolean} online status of the user\n   * @memberof projectManager#\n   */\n  function updateCloudIndex() {\n    return readCloudProjectIndex();\n  }\n\n  /**\n   * Fetches a specific project from the cloud\n   * @returns {Project} requested Project if found; null otherwise\n   * @memberof projectManager#\n   */\n  async function fetchProjectById(id) {\n    try {\n      return await cloudStorage.read(`/public/Projects/${id}.json`);\n    } catch (error) {\n      return null;\n    }\n  }\n\n//======================================================================================================================\n// PRIVILEGED INTERFACE\n//======================================================================================================================\n\n  async function updateCloudProjectIndex() {\n    if (!usePublicCloudIndex && !authenticationManager.token) return false;\n\n    const backup = JSON.parse(JSON.stringify(projects.cloud));\n    let projectIndex = {};\n\n    try {\n      projectIndex = (await cloudStorage.read(getCloudIndexPath())) || {};\n      online = true;\n    } catch (error) {\n      online = false;\n    }\n\n    Object.values(projects.cloud).forEach(function (project) {\n      let {id, name, info, timestamp, localScreenshotUrl, cloudScreenshotUrl, storedToCloud, storedLocally} = project;\n\n      if (storedToCloud) {\n        projectIndex[project.id] = {id, name, info, timestamp, localScreenshotUrl, cloudScreenshotUrl};\n      } else {\n        delete projects.cloud[project.id];\n        delete projectIndex[project.id];\n      }\n    });\n\n    try {\n      await cloudStorage.write(getCloudIndexPath(), JSON.stringify(projectIndex));\n      return online = true;\n    } catch (error) {\n      projects.cloud = backup;\n      return online = false;\n    }\n  }\n\n  /** @private */\n  async function readCloudProjectIndex() {\n    if (!usePublicCloudIndex && !authenticationManager.token) return false;\n\n    let projectIndex = {};\n    try {\n      projectIndex = (await cloudStorage.read(getCloudIndexPath())) || {};\n      online = true;\n\n    } catch (error) {\n      online = false;\n    }\n\n    const flags = {\n      storedToCloud: true,\n    };\n\n    Object.keys(projectIndex).forEach(function (projectId) {\n      const project = projects.all[projectId] = projects.all[projectId] ||\n          createNewProject(Object.assign(flags, projectIndex[projectId]));\n\n      project.setFlags(flags);\n      projects.cloud[projectId] = project;\n    });\n\n    return online;\n  }\n\n  async function updateLocalProjectIndex() {\n    const backup = JSON.parse(JSON.stringify(projects.local));\n\n    let projectIndex = {};\n    try {\n      projectIndex = (await localStorage.read('/Projects/index.json')) || {};\n    } catch (error) {\n      projectIndex = {};\n    }\n\n    Object.values(projects.local).forEach(function (project) {\n      let {id, name, info, timestamp, localScreenshotUrl, cloudScreenshotUrl, storedToCloud, storedLocally} = project;\n\n      if (storedLocally) {\n        projectIndex[project.id] = {id, name, info, timestamp, localScreenshotUrl, cloudScreenshotUrl};\n      } else {\n        delete projects.local[project.id];\n        delete projectIndex[project.id];\n      }\n    });\n\n    try {\n      await localStorage.write('/Projects/index.json', JSON.stringify(projectIndex));\n      return true;\n    } catch (error) {\n      projects.local = backup;\n      return false;\n    }\n  }\n\n  /** @private */\n  async function readLocalProjectIndex() {\n    let projectIndex = {};\n    try {\n      projectIndex = (await localStorage.read(`/Projects/index.json`)) || {};\n      online = true;\n\n    } catch (error) {\n      online = false;\n    }\n\n    const flags = {\n      storedLocally: true,\n    };\n\n    Object.keys(projectIndex).forEach(function (projectId) {\n      const project = projects.all[projectId] = projects.all[projectId] ||\n          createNewProject(Object.assign(flags, projectIndex[projectId]));\n\n      project.setFlags(flags);\n      projects.local[projectId] = project;\n    });\n\n    return online;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/projects/project-manager.js","import unique from 'lodash/uniq';\n\nimport { injector, RoomManager } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { ModelManager } from '../models/model-manager';\nimport { compileMaterialInfo, sanitizeModelDescription } from '../utils/utils';\nimport { MATERIAL_MODEL_FOREIGN_KEY, MATERIAL_MODEL_FALLBACK_ID, WALLOBJECT_MODEL_FALLBACK_IDS } from '../constants';\n\nconst ROOM_ID = 'RoomLayout';\n\ninjector.register(RoomManager, createRoomManager, {coreInterface: CoreInterface, modelManager: ModelManager});\n\nexport { RoomManager } from '../dependencies';\n\n/**\n * Object responsible for handling 3D representations of indoor environments. This environments exists separately from\n * the rest of the scene.\n *\n * @namespace roomManager\n */\n\n\n/**\n * @private\n * @returns {roomManager}\n */\nexport function createRoomManager({coreInterface, modelManager}) {\n  let roomDescription = null;\n  let model = null;\n  let materialDescription = null;\n  let wallObjectModels = null;\n  let roomVisible = null;\n\n  const roomManager = {\n    init,\n\n    /**\n     * current environment visibility\n     * @type {boolean}\n     * @memberof roomManager#\n     */\n    get roomVisible() { return roomVisible },\n\n    /**\n     * wall and floor material description\n     * @type {object|null}\n     * @memberof roomManager#\n     */\n    get roomMaterialDescription() { return materialDescription },\n\n    /**\n     * environment description\n     * @type {boolean}\n     * @memberof roomManager#\n     */\n    get roomDescription() { return roomDescription; },\n\n    /**\n     * wall object models\n     * @type {boolean}\n     * @memberof roomManager#\n     */\n    get wallObjectModels() { return wallObjectModels; },\n\n    addRoomToScene,\n    removeRoomFromScene,\n    setRoomVisible,\n    initResources\n  };\n\n  return roomManager;\n\n  async function init() {\n    const treeModel = modelManager.findModelByForeignKey(MATERIAL_MODEL_FOREIGN_KEY);\n    model = treeModel || await modelManager.getModelFromRepository(MATERIAL_MODEL_FALLBACK_ID);\n\n    materialDescription = compileMaterialInfo(coreInterface,\n        sanitizeModelDescription((await coreInterface.call('prepareModelDescription', model.id))).materialDescription);\n\n    wallObjectModels = modelManager.models.filter(model => model.hasAnyTag(['window', 'door']));\n    if (!wallObjectModels.length) {\n      for (let id of WALLOBJECT_MODEL_FALLBACK_IDS) {\n        wallObjectModels.push(await modelManager.getModelFromRepository(id));\n      }\n    };\n  }\n\n  /**\n   * Prepares the necessary resources for wall and floor representation\n   * @function\n   * @returns {Promise} resolved when done\n   * @memberof roomManager#\n   */\n  async function initResources() {\n    await model.download();\n\n    for (let wallObjectModel of wallObjectModels) {\n      await wallObjectModel.downloadDescription();\n    }\n  }\n\n  /**\n   * Toggles indoor environment visibility.\n   * @param {boolean} newVisible\n   * @returns {Promise} resolved when done\n   * @memberof roomManager#\n   */\n  function setRoomVisible(newVisible) {\n    roomVisible = newVisible;\n    return coreInterface.call('setNodeVisibility', ROOM_ID, !!newVisible);\n  }\n\n  /**\n   * Instantiates the indoor environment according to the passed description. If a falsy value is passed the current\n   * environment is removed from the scene.\n   * @function\n   * @param {object|null} newRoomDescription environment\n   * @returns {Promise} resolved when instantiated\n   * @memberof roomManager#\n   */\n  async function addRoomToScene(newRoomDescription = null) {\n    if (!newRoomDescription) return removeRoomFromScene();\n\n    const {Windows, Doors} = roomDescription = newRoomDescription;\n\n    const modelIds = unique([...Windows, ...Doors].map(object => object.modelID));\n\n    for (const modelId of modelIds) {\n      const modelToDownload = await modelManager.getModelFromRepository(modelId);\n      await modelToDownload.download();\n    }\n    await model.download();\n\n    await coreInterface.call('parseRoomDescription', {...newRoomDescription, materialsModelId: model.id});\n    await coreInterface.call('addRoomToScene');\n\n    newRoomDescription.materialsModelId = model.id;\n  }\n\n  /**\n   * Removes the indoor environment from the scene.\n   * @returns {Promise} resolved when done\n   * @memberof roomManager#\n   */\n  function removeRoomFromScene() {\n    roomDescription = null;\n    return coreInterface.call('removeRoomFromScene');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/room-manager.js","import { AppUtils } from '../dependencies';\n\nimport { injector } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\n\ninjector.register(AppUtils, createAppUtils, {coreInterface: CoreInterface});\n\n/**\n * @namespace appUtils\n */\n\nexport { AppUtils } from '../dependencies';\nexport function createAppUtils(specification) {\n  const { coreInterface } = specification;\n\n  const appUtils = Object.assign({\n    closeApp,\n\n    pauseRenderLoop,\n    resumeRenderLoop,\n\n    getAuthentication,\n    setAuthentication,\n\n    httpPost,\n    openUrl,\n    prepareCustomImage,\n    sendEmail,\n    setCollisionMode,\n    setTextureQuality,\n    getSecureUrl,\n    getCachedUrl,\n  });\n\n  return appUtils;\n\n//======================================================================================================================\n// METHODS\n//======================================================================================================================\n\n  /**\n   * Sends an HTTP POST request\n   * @param {string} url target URL\n   * @param {object} args POST arguments (parameters)\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function httpPost(url, args) {\n    return coreInterface.call('httpPost', url, args).then((jobId) => {\n      return new Promise((resolve, reject) => {\n        coreInterface.on('httpPostResult', httpPostResultHandler);\n\n        function httpPostResultHandler(incomingId, success, result) {\n          if (incomingId === jobId) {\n            coreInterface.off('httpPostResult', httpPostResultHandler);\n            if (!success) {\n              reject(new Error('Error in httpPost: ' + result));\n            } else {\n              resolve(result);\n            }\n          }\n        }\n      })\n    });\n  }\n\n  /**\n   * Gets the RAM info of the device\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function getDeviceRamInfo() {\n    return coreInterface.call('getDeviceRamInfo');\n  }\n\n  /**\n   * Sets the global texture quality to be used by the engine.\n   * @param {!string} quality\n   * @param {boolean} [reloadScene=true] - flag that specifies if the whole scene should be updated to the given quality\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function setTextureQuality(quality, reloadScene = true) {\n    return Promise.resolve().then(function () {\n      if (['low', 'medium', 'high', 'nextlower', 'nexthigher'].includes(quality)) {\n        return coreInterface.call('setTextureQuality', quality, !!reloadScene);\n      } else {\n        throw new Error('Texture quality must be either \"high\", \"medium\", \"low\", \"nextlower\", or \"nexthigher\"!');\n      }\n    });\n  }\n\n  /**\n   * Sets the mode for the collision system.\n   *\n   * Valid flags:\n   *  0 (COLLISION_DISABLED)\n   *  1 (COLLISION_ENABLED)\n   *  2 (COLLISION_NOTIFICATION)\n   */\n  function setCollisionMode(collisionMode) {\n    return coreInterface.call('setCollisionMode', collisionMode);\n  }\n\n  /**\n   * Opens the given URL in the device's browser. The app will go into background.\n   *\n   * @param {string} url - URL to be opened\n   * @memberof appUtils#\n   */\n  function openUrl(url) {\n    coreInterface.emit('openInExternalBrowser', url);\n  }\n\n  /**\n   * Downloads an image under the given URL.\n   *\n   * @param {string} fileName - file name to save the image under\n   * @param {string} url - image location\n   * @returns {Promise.<string>} path to the downloaded image\n   * @memberof appUtils#\n   */\n  function prepareCustomImage(fileName, url) {\n    return coreInterface.call('prepareCustomImage', fileName, url, '');\n  }\n\n  /**\n   * Opens the devices email client/form and fills it with the given data.\n   *\n   * @param {EmailObject} emailObject - object containing email data\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function sendEmail(emailObject) {\n    return coreInterface.call('sendEmail', JSON.stringify(emailObject));\n  }\n\n  /**\n   * Pauses the main render loop of the 3D engine. Freezes the engine output, but not the user interface, which remains\n   * functional as usual. Any changes in the state of the app will not be redrawn until the render loop is resumed. This\n   * frees up a lot of resources and may improve performance of background tasks such as download and insertion.\n   * This method is idempotent.\n   *\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function pauseRenderLoop() {\n    return coreInterface.call('pauseRenderLoop');\n  }\n\n  /**\n   * Resumes the render loop, allowing changes in the app state to be redrawn. Note that it might cause a delay if new\n   * objects had been inserted into scene during the pause.\n   * This method is idempotent.\n   *\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function resumeRenderLoop() {\n    return coreInterface.call('resumeRenderLoop');\n  }\n\n  /**\n   * Takes the given url and adds the https proxy in front of it. If a url uses already the https protocol or if\n   * the url is no http url the unchanged url is returned.\n   *\n   * @param {string} url - the url to secure\n   * @returns {string} a secure url\n   */\n  function getSecureUrl(url) {\n    const httpsProxyUrl = 'https://www.viewar.com/proxy2.php?url=';\n\n    if (url.startsWith('http://')) {\n      return httpsProxyUrl + url;\n    } else {\n      return url;\n    }\n  }\n\n  /**\n   * Persistently stores an authentication key. The purpose of this key is arbitrary and fully depends on the app logic.\n   * The key persists between app executions and can be retrieved using {@link getAuthentication} function.\n   *\n   * @param {string} authKey\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function setAuthentication(authKey) {\n    return coreInterface.call('setAuthKey', authKey);\n  }\n\n  /**\n   * Retrieves the authentication key stored using {@link setAuthentication} function.\n   *\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function getAuthentication() {\n    return coreInterface.call('getAuthKey');\n  }\n\n  /**\n   * Sends a shutdown signal to the app. Used for device platforms that do not normally close running apps via task\n   * manager. Works on Windows platform only.\n   *\n   * @returns {Promise}\n   * @memberof appUtils#\n   */\n  function closeApp() {\n    coreInterface.emit('closeAR');\n    return Promise.resolve();\n  }\n\n  function getCachedUrl(url) {\n    return ['Emscripten', 'Mock'].includes(coreInterface.platform) ? url : `coui://${encodeURIComponent(url)}`;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/app-utils.js","module.exports = {\"name\":\"viewar-scripts\",\"private\":true,\"license\":\"Proprietary\",\"version\":\"1.0.0-pre\",\"coreVersion\":\"^5.2.0\",\"description\":\"ViewAR API\",\"main\":\"dist/viewar-api.js\",\"scripts\":{\"test\":\"babel-tape-runner ./src/**/*.test.js ./src/**/**/*.test.js ./src/**/**/**/*.test.js | faucet\",\"docs\":\"jsdoc -c ./config/jsdoc.config.json\",\"preversion\":\"npm test\",\"version\":\"npm run build && git add -A\",\"postversion\":\"git push origin HEAD && git push --tags\",\"build\":\"webpack --config ./config/webpack.config.js\",\"build:prod\":\"webpack --config ./config/webpack.prod.config.js\",\"watch\":\"webpack --watch --config ./config/webpack.config.js\"},\"repository\":{\"type\":\"git\",\"url\":\"git+https://github.com/viewar/viewar-scripts.git\"},\"author\":\"Ivan aki <is@viewar.com>\",\"contributors\":[\"Karl Hofer <kh@viewar.com>\",\"Matthias Klan <mk@viewar.com>\"],\"bugs\":{\"url\":\"https://github.com/viewar/viewar-scripts/issues\"},\"homepage\":\"https://github.com/viewar/viewar-scripts\",\"readmeFilename\":\"README.md\",\"dependencies\":{\"bluebird\":\"^3.5.0\",\"component-emitter\":\"^1.2.0\",\"dependency-injector\":\"git+ssh://git@github.com/viewar/dependency-injector.git\",\"global\":\"^4.3.2\",\"lodash\":\"^4.17.4\",\"nearley\":\"^2.9.2\",\"semver\":\"^5.0.3\",\"setimmediate\":\"^1.0.5\",\"stampit\":\"^3.1.2\"},\"devDependencies\":{\"babel\":\"^6.5.2\",\"babel-cli\":\"^6.18.0\",\"babel-core\":\"^6.18.2\",\"babel-loader\":\"^6.2.8\",\"babel-plugin-transform-function-bind\":\"^6.22.0\",\"babel-plugin-transform-promise-to-bluebird\":\"^1.1.1\",\"babel-plugin-transform-runtime\":\"^6.22.0\",\"babel-preset-bluebird\":\"^1.0.1\",\"babel-preset-env\":\"^1.1.8\",\"babel-preset-es2015\":\"^6.18.0\",\"babel-preset-stage-0\":\"^6.16.0\",\"babel-runtime\":\"^6.22.0\",\"babel-tape-runner\":\"^2.0.1\",\"faucet\":\"^0.0.1\",\"ink-docstrap\":\"^1.3.0\",\"istanbul\":\"^0.4.5\",\"jsdoc\":\"^3.4.3\",\"jsdoc-babel\":\"^0.3.0\",\"loader-utils\":\"^0.2.16\",\"nearley-loader\":\"0.0.2\",\"tap\":\"^5.7.1\",\"tape\":\"^4.5.1\",\"webpack\":\"^2.2.0\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 87\n// module chunks = 0","import compose from 'stampit/compose';\nimport { satisfies } from 'semver';\n\nimport createNamespace from '../../utils/namespace';\n\nimport { Identifiable } from '../identifiable/identifiable';\nimport { Taggable } from '../taggable/taggable';\n\nconst _ = createNamespace();\n\n/**\n * @interface CatalogItem\n * @extends Identifiable\n * @extends Taggable\n */\nexport const CatalogItem = compose(Identifiable, Taggable, {\n\n  initializers: [function (specification) {\n    const {name, coreInterface, appConfig} = specification;\n    Object.assign(_(this), {\n      coreInterface,\n      appConfig,\n      imageUrl: coreInterface.resolveUrl('/Models/Images/' + this.id + '.png'),\n    });\n\n    Object.defineProperties(this, {\n      name: {\n        value: name,\n        enumerable: true,\n        configurable: false,\n      },\n      imageUrl: {\n        get: () => _(this).imageUrl,\n        enumerable: true,\n        configurable: false,\n      },\n    });\n  }],\n\n  methods: {\n    downloadImage\n  },\n\n  properties: {\n    /**\n     * Product or model name\n     * @member {string} name\n     * @memberOf CatalogItem#\n     */\n    name: '',\n    /**\n     * string containing thumbnail URL\n     * @member {string} imageUrl\n     * @memberOf CatalogItem#\n     */\n    imageUrl: '',\n  },\n\n});\n\n/**\n * Downloads the catalog image of this item.\n * @method\n * @memberof CatalogItem#\n * @returns {Promise} resolved when completed.\n */\nasync function downloadImage(fullsize = false) {\n  const { coreInterface, appConfig } = _(this);\n  if (this.children) {\n    try {\n      if (coreInterface.platform !== 'UWP' ) {\n        await coreInterface.call('prepareCategoryImage', this.id, '');\n      }\n    } catch(e) {\n      //console.error(e);\n    }\n    return _(this).imageUrl = coreInterface.resolveUrl('/CategoryImages/' + this.id + '.png');\n  } else {\n    try {\n      if (coreInterface.platform !== 'UWP') {\n        if (satisfies(appConfig.version.core, '^5.1.0') && fullsize) {\n          await coreInterface.call('prepareModelImageLarge', this.id, '');\n        } else {\n          await coreInterface.call('prepareModelImage', this.id, '');\n        }\n      }\n    } catch(e) {\n      //console.error(e);\n    }\n    return _(this).imageUrl = coreInterface.resolveUrl('/Models/Images/' + this.id + '.png');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/catalog-item/catalog-item.js","import {compose} from 'stampit';\n\nimport intersection from 'lodash/intersection';\nimport difference from 'lodash/difference';\nimport xor from 'lodash/xor';\n\n/**\n * @interface Taggable\n */\nexport const Taggable = compose({\n\n  initializers: [function ({tags}) {\n    this.tags = tags || this.tags;\n  }],\n\n  deepProperties: {\n    /**\n     * @member {string[]} tags tags describing the object\n     * @memberof Taggable#\n     */\n    tags: []\n  },\n\n  methods: {\n    hasAnyTag,\n    hasAllTags,\n    hasExactTags\n  }\n\n});\n\n/**\n * Checks if the object has any of the provided tags.\n * @memberof Taggable#\n * @param {string[]} tags\n * @returns {boolean}\n */\nfunction hasAnyTag(tags) {\n  return !!intersection(tags, this.tags).length;\n}\n\n/**\n * Checks if the object has all of the provided tags. The object may have more tags than that.\n * @memberof Taggable#\n * @param {string[]} tags\n * @returns {boolean}\n */\nfunction hasAllTags(tags) {\n  return !difference(tags, this.tags).length;\n}\n\n/**\n * Checks if the object has exactly the provided tags, no more or less.\n * @memberof Taggable#\n * @param {string[]} tags\n * @returns {boolean}\n */\nfunction hasExactTags(tags) {\n  return !xor(tags, this.tags).length;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/taggable/taggable.js","import compose from 'stampit/compose';\n\nimport { $ } from '../../dependencies';\nimport { clamp } from '../../utils/utils';\nimport { Leaf } from './leaf';\n\n/**\n * @interface Node\n * @extends Leaf\n */\nexport const Node = compose(Leaf, {\n\n  initializers: [function () {\n\n    Object.assign($(this), {\n      addChild: this::addChild,\n      removeChild: this::removeChild,\n    });\n\n  }],\n\n  deepProperties: {\n    /**\n     * Node's children\n     * @member {Leaf[]}\n     * @memberof Node#\n     */\n    children: []\n  },\n\n});\n\nfunction addChild(child, position = Infinity) {\n  const clampedPosition = clamp(position, 0, this.children.length);\n\n  this.children.splice(clampedPosition, 0, child);\n  $(child).setParent(this);\n\n  return true;\n}\n\nfunction removeChild(child) {\n  const childIndex = this.children.indexOf(child);\n\n  if (~childIndex) {\n    this.children.splice(childIndex, 1);\n    $(child).setParent(null);\n    return true;\n  }\n\n  return false;\n}\n\nexport const SceneParent = Node;\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/tree/node.js","import compose from 'stampit/compose';\n\nimport createNamespace from '../utils/namespace';\n\nimport { wireFactory, $, AppConfig } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { ModelManager } from '../models/model-manager';\n\nimport { createAssignMembers, sanitizeModelDescription } from '../utils/utils';\n\nimport { createContainer } from '../scene/container';\nimport { createModelInstance } from '../scene/model-instance';\nimport { createAssembly } from '../scene/assembly';\nimport { createConfiguration } from '../scene/configuration/configuration';\nimport { createProperty } from '../scene/configuration/property/property.factory';\nimport { createAnimation } from '../scene/playable/animation.js';\nimport { createVideo } from '../scene/playable/video.js';\n\nimport { Identifiable } from '../components/identifiable/identifiable';\nimport { CatalogItem } from '../components/catalog-item/catalog-item';\nimport { Instantiable } from '../components/instantiable/instantiable';\nimport { Leaf } from '../components/tree/leaf';\nimport { ProtectedEmitter } from '../components/emitter';\nimport { Constant as createConstant } from '../scene/configuration/property/constant';\n\nimport { mixinBasicModel } from './basic-model';\nimport { mixinReferenceModel } from './reference-model';\nimport { mixinConfigurableModel } from './configurable-model';\nimport { mixinAssemblyModel } from './assembly-model';\n\n//======================================================================================================================\n// FACTORY\n//======================================================================================================================\n\nconst _ = createNamespace();\nconst assignMembers = createAssignMembers(_, $);\n\n/**\n * @interface Model\n * @extends Resource\n * @extends Instantiable\n * @extends Taggable\n * @extends CatalogItem\n * @extends Leaf\n */\nexport const Model = compose(Identifiable, CatalogItem, Leaf, Instantiable, ProtectedEmitter, {\n\n  initializers: [function (specification) {\n    const { type = '', foreignKey = '', resources = [], version = 0 } = specification;\n    const { coreInterface, modelManager, createModelInstance, createContainer, createConfiguration, walkCamera,\n            createVideo, createAnimation, createProperty, createAssembly, createConstant } = specification;\n\n    this::assignMembers({\n      public: {\n        /**\n         * Type of the model. Can be 'basic', 'environment', 'configurable'.\n         * @member {string}\n         * @memberOf Model#\n         */\n        type,\n        /**\n         * Foreign key in the model tree.\n         * @member {string}\n         * @memberOf Model#\n         */\n        foreignKey,\n        /**\n         * IDs of resource packs this model depends on.\n         * @member {string[]}\n         * @memberOf Model#\n         */\n        resources,\n        /**\n         * Version of the locally stored resource. Should be a UNIX timestamp.\n         * @member {number}\n         * @memberof Model#\n         */\n        version,\n      },\n      shared: {\n        provideDescription: this::provideDescription,\n        instantiate: this::instantiate,\n      },\n      private: {\n        coreInterface, modelManager, walkCamera, createAssembly, createConstant,\n        createModelInstance, createContainer, createConfiguration, createProperty, createVideo, createAnimation,\n        runDownloadJobs: this::runDownloadJobs,\n        downloadJob: null,\n        downloadStopped: false,\n        complete: false,\n        downloaded: false,\n      },\n    });\n  }],\n\n  methods: {\n    downloadDescription,\n    download,\n    stopDownload,\n  },\n\n});\n\nexport const createModel = wireFactory((specification) => Model({\n  ...specification,\n  createContainer,\n  createModelInstance,\n  createConfiguration,\n  createAssembly,\n  createAnimation,\n  createVideo,\n  createProperty,\n  createConstant,\n  walkCamera: { active: false },\n}), {\n  coreInterface: CoreInterface,\n  modelManager: ModelManager,\n  appConfig: AppConfig\n});\n\n//======================================================================================================================\n// INSTANTIATION\n//======================================================================================================================\n\nasync function instantiate(instanceProps, insertionParams) {\n  await this.downloadDescription();\n  return _(this).instantiateModel(sanitizeParams(instanceProps), insertionParams);\n}\n\nfunction sanitizeParams({id, parent, pose, visible, interaction, materials, parameters, highlight, propertyValues}) {\n  return {id, parent, pose, visible, interaction, materials, parameters, highlight, propertyValues};\n}\n\n//======================================================================================================================\n// ASSET MANAGEMENT\n//======================================================================================================================\n\nasync function downloadDescription() {\n  if (!_(this).complete) {\n    const description = sanitizeModelDescription(await _(this).coreInterface.call('prepareModelDescription', this.id));\n    await $(this).provideDescription(description);\n  }\n  return this;\n}\n\nasync function provideDescription(description) {\n  if (description.configurationDescription) {\n    this::mixinConfigurableModel(_, $);\n  } else if (description.references) {\n    this::mixinReferenceModel(_, $);\n  } else if (this.type === 'assembly') {\n    this::mixinAssemblyModel(_, $);\n  } else {\n    this::mixinBasicModel(_, $);\n  }\n\n  await _(this).completeModel(description);\n  _(this).complete = true;\n}\n\nasync function stopDownload() {\n  _(this).downloadStopped = true;\n\n  if (_(this).downloadJob) {\n    _(this).downloadJob.cancel();\n    _(this).downloadJob = null;\n  }\n}\n\nasync function download() {\n  if (!_(this).downloaded) {\n    try {\n      await this.downloadImage();\n      await this.downloadDescription();\n      await _(this).downloadAssets();\n      _(this).downloaded = true;\n    } catch (error) {\n      if (error instanceof Promise.CancellationError) {\n        $(this).emit('downloadStopped');\n      } else {\n        throw error;\n      }\n    } finally {\n      _(this).downloadStopped = false;\n      _(this).downloadJob = null;\n    }\n  }\n}\n\n/** @private */\nasync function runDownloadJobs(jobs) {\n  const { coreInterface } = _(this);\n  const total = jobs.length;\n  let current = 0;\n\n  const handler = (_, __, ___, progress) => {\n    $(this).emit('downloadProgress', ((current / total) * 100) + progress);\n  };\n\n  coreInterface.on('transferProgress', handler);\n\n  for (const job of jobs) {\n    await this::startJob(job);\n    current++;\n  }\n\n  coreInterface.off('transferProgress', handler);\n}\n\n/** @private */\nasync function startJob(thunk) {\n  if (_(this).downloadStopped) {\n    throw new Promise.CancellationError('downloadAllAborted');\n  } else {\n    await (_(this).downloadJob = thunk());\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/model.js","import compose from 'stampit/compose';\nimport defaults from 'lodash/defaults';\nimport isEqual from 'lodash/isEqual';\n\nimport createNamespace from '../utils/namespace';\nimport { createAssignMembers } from '../utils/utils';\n\nimport { wireFactory, $ } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { DEFAULT_POSE, DEFAULT_INTERACTION, DEFAULT_VISIBLE } from '../constants';\n\nimport { SceneNode } from '../components/scene-node/scene-node';\nimport { Node } from '../components/tree/node';\n\nconst _ = createNamespace();\nconst assignMembers = createAssignMembers(_, $);\n\n//======================================================================================================================\n// STAMP\n//======================================================================================================================\n\n/**\n * Represents a group of other scene nodes. Can be either grouped or ungrouped. If ungrouped, it is non-interactive but\n * its children are.\n *\n * @interface Container\n * @extends SceneNode\n * @extends Node\n */\nexport const Container = compose(SceneNode, Node, {\n\n  initializers: [function (specification) {\n    const { type } = defaults({}, specification, this);\n    const { coreInterface } = specification;\n\n    this::assignMembers({\n      public: {\n        /**\n         *\n         * @type {string}\n         * @memberOf! Container#\n         */\n        type,\n      },\n      shared: {\n        insert: this::insert,\n        remove: this::remove,\n      },\n      private: {\n        coreInterface\n      },\n    });\n  }],\n\n  methods: {\n    toJSON,\n  },\n\n  properties: {\n    type: 'grouped',\n  },\n\n  staticProperties: {\n    TYPE_GROUPED: 'grouped',\n    TYPE_UNGROUPED: 'ungrouped',\n  },\n\n});\n\nasync function insert() {\n  await _(this).coreInterface.call('insertContainer', this.id, this::compileInsertionParams());\n  return this;\n}\n\nasync function remove() {\n  return _(this).coreInterface.call('deleteInstance', this.id);\n}\n\nfunction compileInsertionParams() {\n  return {\n    pose: this.pose,\n    highlight: this.highlight,\n    orientation: this.interaction.manipulationPlane || this.interaction.orientation || 'horizontal',\n    visible: this.visible,\n    interaction: this.interaction,\n    targetContainerId: this.parent.id,\n    shouldBeGrouped: this.parent.type !== Container.TYPE_UNGROUPED,\n  };\n}\n\nfunction toJSON() {\n  const { type, orientation, pose, interaction, visible, id, children } = this;\n  return {\n    id,\n    type,\n    orientation,\n    pose: isEqual(pose, DEFAULT_POSE) ? undefined : pose,\n    interaction: isEqual(interaction, DEFAULT_INTERACTION) ? undefined : interaction,\n    visible: isEqual(visible, DEFAULT_VISIBLE) ? undefined : visible,\n    children,\n  }\n}\n\nexport const createContainer = wireFactory(Container, {\n  coreInterface: CoreInterface,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/container.js","/**\n * @interface Mesh\n */\n\n/**\n * @private\n * @returns {Mesh}\n */\nexport default function createMesh(specification) {\n  const { coreInterface } = specification;\n\n  let {\n    id,\n    name,\n    collision,\n    wireframeMode,\n    visibility,\n    material,\n    numVertices\n  } = Object.assign({}, specification);\n\n  const mesh = {\n    setMeshMaterial,\n    setMeshVisibility,\n    setMeshCollision,\n    setMeshWireframeMode,\n\n    /**\n     * @type {string}\n     * @memberOf! Mesh#\n     */\n    get id() { return id; },\n    /**\n     * @type {string}\n     * @memberOf! Mesh#\n     */\n    get name() { return name; },\n    /**\n     * @type {number}\n     * @memberOf! Mesh#\n     */\n    get vertexCount() { return numVertices; },\n    /**\n     * @type {material}\n     * @memberOf! Mesh#\n     */\n    get material() { return material; },\n    /**\n     * @type {boolean}\n     * @memberOf! Mesh#\n     */\n    get visibility() { return visibility; },\n    /**\n     * @type {boolean}\n     * @memberOf! Mesh#\n     */\n    get collision() { return collision; },\n    /**\n     * @type {string}\n     * @memberOf! Mesh#\n     */\n    get wireframeMode() { return wireframeMode; }\n  };\n\n  return mesh;\n\n  /**\n   * Sets mesh material\n   * @param {string} newMaterialName\n   * @returns {Promise} resolved when done.\n   * @memberOf! Mesh#\n   */\n  function setMeshMaterial(newMaterialName) {\n    material = newMaterialName;\n    return coreInterface.call('setMeshMaterial', id, material);\n  }\n\n  /**\n   * Sets mesh visibility\n   * @param {boolean} newVisibility\n   * @returns {Promise} resolved when done.\n   * @memberOf! Mesh#\n   */\n  function setMeshVisibility(newVisibility) {\n    visibility = newVisibility;\n    return coreInterface.call('setMeshVisibility', id, visibility);\n  }\n\n  /**\n   * Sets mesh collision\n   * @param {boolean} newCollision\n   * @returns {Promise} resolved when done.\n   * @memberOf! Mesh#\n   */\n  function setMeshCollision(newCollision) {\n    collision = newCollision;\n    return coreInterface.call('useMeshAsCollider', id, collision);\n  }\n\n  /**\n   * Sets mesh wireframe mode\n   * @param {string} newWireframeMode\n   * @returns {Promise} resolved when done.\n   * @memberOf! Mesh#\n   */\n  function setMeshWireframeMode(newWireframeMode) {\n    wireframeMode = newWireframeMode;\n    return coreInterface.call('useMeshWireframeMode', id, wireframeMode);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/mesh.js","import mixinEmitter from 'component-emitter';\nimport { injector } from '../dependencies';\n\n/**\n * @interface TrackingTarget\n * @extends ProtectedEmitter\n * @emits TrackingTarget#found\n * @emits TrackingTarget#lost\n */\n\n/**\n * @private\n * @returns {TrackingTarget}\n */\nexport const createTrackingTarget = injector.wireFactory(TrackingTarget, {});\n\nexport function TrackingTarget(specification) {\n  const { name } = specification;\n\n  return mixinEmitter({\n    /**\n     * name of the target\n     * @type {string}\n     * @memberof TrackingTarget#\n     */\n    name,\n    /**\n     * tracking status of the target\n     * @type {boolean}\n     * @memberof TrackingTarget#\n     */\n    tracked: false,\n\n    _setTracked,\n    _info: specification,\n  });\n\n//======================================================================================================================\n// PRIVILEGED INTERFACE\n//======================================================================================================================\n\n  function _setTracked(event) {\n    this.tracked = event === 'found';\n    this.emit(event);\n  }\n\n}\n\n/**\n * fires when the particular target is recognized by the tracker\n * @event TrackingTarget#found\n */\n\n/**\n * fires when the particular target is no longer recognized by the tracker\n * @event TrackingTarget#lost\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/tracking-target.js","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Set.js\n// module id = 95\n// module chunks = 0","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Uint8Array.js\n// module id = 96\n// module chunks = 0","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayLikeKeys.js\n// module id = 97\n// module chunks = 0","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayReduce.js\n// module id = 98\n// module chunks = 0","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_assignMergeValue.js\n// module id = 99\n// module chunks = 0","var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isObject = require('./isObject'),\n    keys = require('./keys');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseClone.js\n// module id = 100\n// module chunks = 0","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseDifference.js\n// module id = 101\n// module chunks = 0","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFor.js\n// module id = 102\n// module chunks = 0","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseGetAllKeys.js\n// module id = 103\n// module chunks = 0","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    if (isObject(srcValue)) {\n      stack || (stack = new Stack);\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(object[key], srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMerge.js\n// module id = 104\n// module chunks = 0","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseProperty.js\n// module id = 105\n// module chunks = 0","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseSlice.js\n// module id = 106\n// module chunks = 0","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseTimes.js\n// module id = 107\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseToString.js\n// module id = 108\n// module chunks = 0","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseUniq.js\n// module id = 109\n// module chunks = 0","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneBuffer.js\n// module id = 110\n// module chunks = 0","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneTypedArray.js\n// module id = 111\n// module chunks = 0","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_copyArray.js\n// module id = 112\n// module chunks = 0","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createAssigner.js\n// module id = 113\n// module chunks = 0","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_defineProperty.js\n// module id = 114\n// module chunks = 0","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(array);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalArrays.js\n// module id = 115\n// module chunks = 0","var flatten = require('./flatten'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * A specialized version of `baseRest` which flattens the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @returns {Function} Returns the new function.\n */\nfunction flatRest(func) {\n  return setToString(overRest(func, undefined, flatten), func + '');\n}\n\nmodule.exports = flatRest;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_flatRest.js\n// module id = 116\n// module chunks = 0","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_freeGlobal.js\n// module id = 117\n// module chunks = 0","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getAllKeys.js\n// module id = 118\n// module chunks = 0","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getAllKeysIn.js\n// module id = 119\n// module chunks = 0","var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getSymbolsIn.js\n// module id = 120\n// module chunks = 0","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getTag.js\n// module id = 121\n// module chunks = 0","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_initCloneObject.js\n// module id = 122\n// module chunks = 0","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isStrictComparable.js\n// module id = 123\n// module chunks = 0","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapToArray.js\n// module id = 124\n// module chunks = 0","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_matchesStrictComparable.js\n// module id = 125\n// module chunks = 0","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_overArg.js\n// module id = 126\n// module chunks = 0","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_overRest.js\n// module id = 127\n// module chunks = 0","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setToString.js\n// module id = 128\n// module chunks = 0","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_toSource.js\n// module id = 129\n// module chunks = 0","var baseFlatten = require('./_baseFlatten'),\n    map = require('./map');\n\n/**\n * Creates a flattened array of values by running each element in `collection`\n * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n * with three arguments: (value, index|key, collection).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * function duplicate(n) {\n *   return [n, n];\n * }\n *\n * _.flatMap([1, 2], duplicate);\n * // => [1, 1, 2, 2]\n */\nfunction flatMap(collection, iteratee) {\n  return baseFlatten(map(collection, iteratee), 1);\n}\n\nmodule.exports = flatMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/flatMap.js\n// module id = 130\n// module chunks = 0","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/hasIn.js\n// module id = 131\n// module chunks = 0","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/stubArray.js\n// module id = 132\n// module chunks = 0","var baseUniq = require('./_baseUniq');\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each element\n * is kept. The order of result values is determined by the order they occur\n * in the array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length) ? baseUniq(array) : [];\n}\n\nmodule.exports = uniq;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/uniq.js\n// module id = 133\n// module chunks = 0","import { AuthenticationManager, injector } from '../dependencies';\n\ninjector.register(AuthenticationManager, () => createAuthenticationManager() );\n\nexport { AuthenticationManager } from '../dependencies';\nexport function createAuthenticationManager() {\n  let token = '';\n\n  return {\n    get token() { return token },\n    logIn: (name, password) => token = name,\n    logOut: () => token = '',\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/authentication/authentication-manager.js","import { createAugmentedRealityCamera } from './augmented-reality-camera';\nimport { createPerspectiveCamera } from './perspective-camera';\nimport { createWalkCamera } from './walk-camera';\nimport { createFreezeFrame } from './freeze-frame';\n\n\n/**\n * @namespace cameras\n */\nconst stageCameraMap = {\n  /**\n   * @member {AugmentedRealityCamera} augmentedRealityCamera\n   * @memberof cameras#\n   */\n  'AR': {\n    cameraName: 'augmentedRealityCamera',\n    cameraFactory: createAugmentedRealityCamera,\n  },\n\n  /**\n   * @member {PerspectiveCamera} perspectiveCamera\n   * @memberof cameras#\n   */\n  'Grid': {\n    cameraName: 'perspectiveCamera',\n    cameraFactory: createPerspectiveCamera,\n  },\n\n  /**\n   * @member {WalkCamera} walkCamera\n   * @memberof cameras#\n   */\n  'Experience': {\n    cameraName: 'walkCamera',\n    cameraFactory: createWalkCamera,\n  },\n  'Freeze': null,\n};\n\n/**\n * @private\n * @returns {cameras}\n */\nexport function createCameras({coreInterface, freezeFrameInfo, stageList}) {\n  const freezeFrames = stageList.includes('Freeze') && parseFreezeFrames(freezeFrameInfo, coreInterface);\n\n  const sharedCameraState = {\n    activeCamera: null,\n  };\n\n  const cameras = {};\n\n  stageList\n      .map(stageName => stageCameraMap[stageName])\n      .filter(cameraInfo => !!cameraInfo)\n      .forEach(({cameraName, cameraFactory}) => {\n        cameras[cameraName] = cameraFactory({sharedCameraState, coreInterface, freezeFrames, createFreezeFrame});\n        sharedCameraState.activeCamera = sharedCameraState.activeCamera || cameras[cameraName];\n      });\n\n  return cameras;\n}\n\nfunction parseFreezeFrames(freezeFrameInfo, coreInterface) {\n  return freezeFrameInfo.map(({name}) => createFreezeFrame({name, coreInterface}));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cameras/cameras.js","import { injector } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\n\n/**\n * @namespace screenshotManager\n */\n\n\nexport const createScreenshotManager = injector.wireFactory(function ({coreInterface}) {\n  return {\n    takeScreenshot,\n    saveScreenshot,\n    deleteScreenshot,\n    emailScreenshot,\n    shareScreenshot,\n    saveScreenshotToGallery,\n  };\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Takes a screenshot. The screenshot isn't immediately saved.\n   * @returns {Promise} Resolved when done.\n   * @memberof screenshotManager#\n   */\n  function takeScreenshot() {\n    const promise = new Promise(resolve => coreInterface.once('screenshotTaken', resolve));\n    coreInterface.emit('takeScreenshot');\n    return promise;\n  }\n\n  /**\n   * Saves a taken screenshot to a sub-folder on the hard drive. Returns a path to the file.\n   * @param {string} subFolder target sub-folder\n   * @returns {Promise} Resolved when done.\n   * @memberof screenshotManager#\n   */\n  function saveScreenshot(subFolder) {\n    return coreInterface.call('saveScreenshotToSubfolder', subFolder);\n  }\n\n  /**\n   * Opens the native email client with taken screenshot in the attachment.\n   * @returns {Promise} Resolved when done.\n   * @memberof screenshotManager#\n   */\n  function emailScreenshot() {\n    coreInterface.emit('sendScreenshot');\n    return Promise.resolve();\n  }\n\n  /**\n   * Saves taken screenshot to device's native gallery.\n   * @returns {Promise} Resolved when done.\n   * @memberof screenshotManager#\n   */\n  function saveScreenshotToGallery() {\n    coreInterface.emit('saveScreenshotToGallery');\n    return Promise.resolve();\n  }\n\n  /**\n   * Shares saved screenshot on chosen social media service.\n   * @param {string} socialMediaService name of the social media service\n   * @param {string} screenshotPath\n   * @returns {Promise} Resolved when done.\n   * @memberof screenshotManager#\n   */\n  function shareScreenshot(socialMediaService, screenshotPath) {\n    return coreInterface.call('shareScreenshot', socialMediaService, screenshotPath);\n  }\n\n  /**\n   * Deletes stored screenshot from sub-folder\n   * @param {string} screenshotPath name of the social media service\n   * @param {string} subFolder folder containing screenshot\n   * @returns {Promise} Resolved when done.\n   * @memberof screenshotManager#\n   */\n  function deleteScreenshot(screenshotPath, subFolder) {\n    coreInterface.emit('deleteScreenshotInSubfolder', screenshotPath, subFolder);\n    return Promise.resolve();\n  }\n\n}, {coreInterface: CoreInterface});\n\n\n\n// WEBPACK FOOTER //\n// ./src/screenshots/screenshot-manager.js","import { SyncManager } from '../dependencies';\n\nimport mixinEmitter from 'component-emitter';\nimport deepEquals from 'lodash/isEqual';\nimport deepCopy from 'lodash/cloneDeep';\n\nimport { injector, Date, Config, Http, Logger } from '../dependencies';\nimport { DEFAULT_SYNC_URL } from '../constants';\n\ninjector.register(SyncManager, createSyncManager, {config: Config, Date: Date, http: Http, logger: Logger});\n\nexport { SyncManager } from '../dependencies';\n\n/**\n * Synchronizes arbitrary state between two or more ViewAR SL instances. Instances can both send and receive arbitrary\n * payloads to/from one another. Payloads must be serializable to JSON. Uses a centralized client-server architecture.\n *\n * @namespace syncManager\n * @extends ProtectedEmitter\n */\n\n/**\n * @private\n * @returns {syncManager}\n */\nexport function createSyncManager({config, Date, http, logger}) {\n  /** @private */\n  const syncUrl = config.syncUrl || DEFAULT_SYNC_URL;\n  const noop = () => {};\n\n  let syncId = null;\n  let syncing = false;\n  let properties = {};\n\n  const syncManager = mixinEmitter({\n    register,\n    unregister,\n\n    startLiveSync,\n    stopLiveSync,\n\n    /**\n     * Sync id of the active sync. Null if sync is currently not active.\n     * @type {string|null}\n     * @memberof syncManager#\n     */\n    get syncId() { return syncId; }\n  });\n\n  return syncManager;\n\n  /**\n   * Registers a state property for synchronization. The only mandatory thing is that the getter returns a value, either\n   * plain or wrapped in a promise. Other than that, getters and setters are free to do any computation and data\n   * manipulation required. Sync manager will wait for all getters to return before sending the data, and all setters to\n   * return before being called again.\n   *\n   * To avoid unexpected behavior this method should not be called while sync is running.\n   *\n   * @param {string} propertyName - name of the property\n   * @param {Function?} getter - function that retrieves the local value of the property. Can be either sync or async.\n   * @param {Function?} setter - function that updates the local value of the property. Can be either sync or async.\n   * @memberof syncManager#\n   */\n  function register(propertyName, getter = noop, setter = noop) {\n    properties[propertyName] = {\n      getValue: () => Promise.resolve().then(getter),\n      setValue: value => Promise.resolve(value).then(setter),\n      timestamp: 0\n    };\n  }\n\n  /**\n   * Unregisters a registered state property.\n   * To avoid unexpected behavior this method should not be called while sync is running.\n   *\n   * @param {string} propertyName - name of the property\n   * @memberOf! SyncManager#\n   */\n  function unregister(propertyName) {\n    delete properties[propertyName];\n  }\n\n  /**\n   * Connects to the server and starts polling for changes using the given sync id. Other ViewAR SL instances that need\n   * to communicate with this one must use the same sync session id.\n   *\n   * Stops the running sync session before initializing the new one.\n   *\n   * @method\n   * @param {string} syncSessionId - name of the property\n   * @param {SyncParams?} params - parameters of the sync session\n   * @memberOf! SyncManager#\n   */\n  async function startLiveSync(sessionId, params = {}) {\n    const syncParams = { pollInterval: 33, send: true, receive: true, ...deepCopy(params) };\n\n    if (syncing) {\n      stopLiveSync();\n    }\n\n    syncId = sessionId;\n    syncing = true;\n\n    logger.log(`Sync connected to channel \"${syncId}\".`);\n    syncManager.emit('syncStarted', {id : syncId});\n\n    syncParams.initial = true;\n\n    let emitConnectionIssuesEvent = true;\n    while (syncing) {\n      let success = await Promise.all([sync(syncParams), Promise.delay(syncParams.pollInterval)]);\n      if (success) {\n        syncParams.initial = false;\n        emitConnectionIssuesEvent = true;\n      } else {\n        logger.log(`Sync connection issues on channel \"${syncId}\".`);\n        syncManager.emit('connectionIssues', {id : syncId});\n        emitConnectionIssuesEvent = false;\n      }\n    }\n  }\n\n  /**\n   * Stops running state synchronization. This function will prevent sending further data to the server but may not\n   * prevent the executions of setters that have begun executing.\n   *\n   * @memberof syncManager#\n   */\n  function stopLiveSync() {\n    logger.log(`Sync disconnected from channel \"${syncId}\".`);\n    syncManager.emit('syncStopped', {id : syncId});\n\n    syncId = null;\n    syncing = false;\n  }\n\n  /** @private */\n  function getValues() {\n    return Promise.all(Object.entries(properties)\n        .map(([name, property]) => property.getValue()\n            .then(value => [name, value])))\n            .then(promises => promises.reduce((object, [name, value]) => Object.assign(object, {[name]: value}), {}));\n  }\n\n  /** @private */\n  function setValues(values) {\n    return Promise.all(Object.entries(values).map(([name, value]) => properties[name].setValue(deepCopy(value))));\n  }\n\n  /** @private */\n  function sync({send, receive, initial}) {\n    return getValues().then(function (newValues) {\n      const now = Math.round(Date.now() / 1000);\n      const payload = {};\n\n      Object.entries(newValues).forEach(function ([name, newValue]) {\n        const property = properties[name];\n\n        const updated = !initial && (property.value === undefined || !deepEquals(newValue, property.value));\n\n        if (updated) {\n          property.value = newValue;\n          property.timestamp = now;\n        }\n\n        payload[name] = {\n          data: send && updated ? deepCopy(property.value, roundFloats) : undefined,\n          timestamp: property.timestamp\n        };\n      });\n\n      return syncing && http.post(syncUrl, {\n            sync_id: syncId,\n            data: JSON.stringify(payload)\n          });\n\n    }).then(JSON.parse).then(function (receivedPayload) {\n      const values = {};\n\n      if (syncing && receive) {\n        Object.entries(receivedPayload).forEach(function ([name, {data: newValue, timestamp}]) {\n          let property = properties[name];\n\n          if (property.timestamp < timestamp && newValue !== undefined) {\n            property.value = newValue;\n            property.timestamp = timestamp;\n            values[name] = newValue;\n          }\n\n        });\n      }\n\n      return setValues(values).then(() => true);\n    }).catch(function (error) {\n      logger.error(error);\n      return false;\n    });\n  }\n\n  /** @private */\n  function roundFloats(_, value) {\n    // necessary until the backend floating point precision is fixed\n    if (typeof value === 'number' && !Number.isInteger(value)) {\n      return Math.round(value * 100000) / 100000;\n    } else {\n      return value;\n    }\n  }\n\n}\n\n/**\n * @typedef SyncParams\n * @type {object}\n * @property {number?} pollInterval - polling interval in ms. Sync manager will wait at least this long between pollings\n * @property {boolean?} send - whether this instance should send payloads or not\n * @property {boolean?} receive - whether this instance should receive payloads or not\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/sync/sync-manager.js","import createGoogleTangoProvider from './google-tango-provider';\nimport createKudanProvider from './kudan-provider.js';\nimport createWikitudeProvider from './wikitude-provider.js';\nimport createRealSenseProvider from './realsense-provider.js';\nimport createStructureProvider from './structure-provider.js';\nimport createVisionLibProvider from './vision-lib-provider.js';\nimport createVuforiaProvider from './vuforia-provider.js';\nimport createMockProvider from './mock-provider.js';\nimport createARKitProvider from './arkit-provider';\n\n\nimport { injector } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { Logger } from '../utils/logger';\n\nconst trackingProviderFactories = {\n  'GoogleTango': createGoogleTangoProvider,\n  'Kudan': createKudanProvider,\n  'RealSense': createRealSenseProvider,\n  'Structure': createStructureProvider,\n  'VisionLib': createVisionLibProvider,\n  'Vuforia': createVuforiaProvider,\n  'Mock': createMockProvider,\n  'ARKit': createARKitProvider,\n  'Wikitude': createWikitudeProvider,\n};\n\nexport const createTrackers = injector.wireFactory(createTrackingProviders, {coreInterface: CoreInterface, logger: Logger});\n\nexport function createTrackingProviders({coreInterface, logger, trackerList}) {\n\n  const trackers = {};\n\n  trackerList.forEach(provider => {\n    if (trackingProviderFactories[provider.name]) {\n\n      trackers[provider.name] = coreInterface.platform === 'Emscripten' ?\n          createMockProvider() :\n          trackingProviderFactories[provider.name]({...provider, coreInterface});\n\n    } else {\n      logger.warn(`Unknown tracking provider \"${provider.name}\"`);\n    }\n  });\n\n  return trackers;\n}\n\n/**\n * @namespace tracking\n */\n\n/**\n * @member {VuforiaTracker} Vuforia\n * @memberof tracking#\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/trackers.js","import { injector, Http } from '../dependencies';\nexport { Http } from '../dependencies';\n\nimport { HTTPS_PROXY_URL } from '../constants';\n\n//======================================================================================================================\n\nfunction getSecureUrl(url) {\n  if (url.startsWith('http://')) {\n    return HTTPS_PROXY_URL + url;\n  } else {\n    return url;\n  }\n}\n\nconst http = function () {\n\n};\n\n\nObject.assign(http, {\n  get(url, ...args) {\n    return send('GET', getSecureUrl(url), ...args);\n  },\n  post(url, ...args) {\n    return send('POST', getSecureUrl(url), ...args);\n  },\n});\n\ninjector.register(Http, () => http);\n\nfunction send(method, url, data, timeout = 10000) {\n\n  return new Promise(function (resolve, reject) {\n    const xhr = new XMLHttpRequest();\n\n    xhr.open(method.toUpperCase(), url, true);\n    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n    xhr.onreadystatechange = function () {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200) {\n          resolve(xhr.responseText);\n        } else {\n          reject(new Error(xhr.responseText));\n        }\n      }\n    };\n\n    xhr.timeout = timeout;\n    xhr.ontimeout = function (e) {\n      reject(new Error('XML HTTP request timed out.'));\n    };\n\n    xhr.send(Object.entries(data || {}).map(pair => pair.map(encodeURIComponent).join('=')).join('&'));\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http.js","import { UPDATE_POPUP_STYLE, UPDATE_POPUP_LABEL_STYLE, CONFIRM_BUTTON_STYLE,\n  UPDATE_POPUP_UPDATE_LABEL_STYLE, WAIT_FOR_DEBUGGER_BUTTON_STYLE } from './ui-styles.js';\n\n//======================================================================================================================\n// UI\n//======================================================================================================================\n\nexport function waitForDebugger(window) {\n  return Promise.resolve().then(function () {\n\n    const requireMockEngine = !window.engine;\n    const document = window.document;\n    const appContainer = document.getElementsByTagName('body')[0];\n    const element = document.createElement('button');\n    element.classList.add('WaitForDebugger');\n    Object.assign(element.style, WAIT_FOR_DEBUGGER_BUTTON_STYLE);\n    element.innerHTML = 'App debug mode enabled.';\n\n    window.engine = requireMockEngine && {checkClickThrough: () => \"Y\"} || window.engine;\n\n    appContainer.appendChild(element);\n\n    return new Promise(function (resolve) {\n      element.onclick = handleTap;\n      element.ontouchstart = handleTap;\n\n      function handleTap(event) {\n        if (requireMockEngine) {\n          delete window.engine;\n        }\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        appContainer.removeChild(element);\n        resolve();\n      }\n    });\n  });\n}\n\nexport function waitForAppUpdate(window, update) {\n  const document = window.document;\n  const forceUpdate = update === 'forced';\n  const updateText = 'New update available!';\n  const forceText = 'You need to update the app via your app store to continue.';\n  const recommendedText = 'It is recommended to update this app via your app store.';\n\n  const updatePopup = document.createElement('div');\n  updatePopup.classList.add('UpdateBundlePopup');\n  Object.assign(updatePopup.style, UPDATE_POPUP_STYLE);\n  document.body.appendChild(updatePopup);\n\n  const updateLabel = document.createElement('div');\n  updateLabel.classList.add('UpdateBundlePopup-label');\n  updateLabel.innerHTML = updateText;\n  Object.assign(updateLabel.style, UPDATE_POPUP_LABEL_STYLE);\n  updatePopup.appendChild(updateLabel);\n\n  const detailLabel = document.createElement('div');\n  detailLabel.classList.add('UpdateBundlePopup-label');\n  detailLabel.innerHTML = forceUpdate ? forceText : recommendedText;\n  Object.assign(detailLabel.style, UPDATE_POPUP_UPDATE_LABEL_STYLE);\n  updatePopup.appendChild(detailLabel);\n\n  if (!forceUpdate) {\n    const confirmButton = document.createElement('div');\n    confirmButton.classList.add('UpdateBundlePopup-button');\n    confirmButton.innerHTML = 'OK';\n    Object.assign(confirmButton.style, CONFIRM_BUTTON_STYLE);\n    updatePopup.appendChild(confirmButton);\n\n    return new Promise(function (resolve) {\n      confirmButton.onclick = handleConfirmTap;\n      confirmButton.ontouchstart = handleConfirmTap;\n\n      function handleConfirmTap(event) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        document.body.removeChild(updatePopup);\n        resolve();\n      }\n    });\n  } else {\n    return new Promise(() => {});\n  }\n}\n\nexport function showFakedBundleOverlay(window) {\n  const document = window.document;\n  const appContainer = document.getElementsByTagName('body')[0];\n  const element = document.createElement('div');\n  const line1 = document.createElement('div');\n  const lineWidth = 40;\n  Object.assign(element.style, {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    zIndex: '-1',\n    width: '1024px',\n    height: '768px',\n    opacity: '0.2',\n    pointerEvents: 'none',\n    transform: 'scale(' + lineWidth + ')'\n  });\n  Object.assign(line1.style, {\n    position: 'absolute',\n    width: '1280px',\n    height: '1px',\n    borderBottom: '1px solid red',\n    transform: 'translate(-50%, -50%) rotate(37deg)',\n    left: '50%',\n    top: '50%'\n  });\n  const line2 = line1.cloneNode();\n  Object.assign(line2.style, {\n    transform: 'translate(-50%, -50%) rotate(-37deg)'\n  });\n  element.appendChild(line1);\n  element.appendChild(line2);\n  //appContainer.appendChild(element); //For now we wont add an overlay to faked app.\n}\n\nexport function waitForSwitchBundleId(window, coreInterface, bundleId) {\n  return Promise.resolve().then(function () {\n    const document = window.document;\n    const appContainer = document.getElementsByTagName('body')[0];\n    const bundlePopup = document.createElement('div');\n    const bundlePopupButtons = document.createElement('div');\n    const inputLabel = document.createElement('label');\n    const input = document.createElement('input');\n    const confirmButton = document.createElement('div');\n\n    Object.assign(bundlePopup.style, {\n      position: 'absolute',\n      backgroundColor: 'rgba(0,0,0,0.5)',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      fontSize: '15px',\n      textAlign: 'center',\n      padding: '40px 40px 90px 45px',\n      borderRadius: '5px',\n      zIndex: '1000000'\n    });\n\n    Object.assign(inputLabel.style, {\n      fontSize: '1em',\n      lineHeight: '1em',\n      paddingRight: '20px',\n      color: 'white'\n    });\n    inputLabel.innerHTML = 'You are testing the bundle \\\"' + bundleId + '\\\"';\n\n    Object.assign(input.style, {\n      height: '1.2em',\n      display: 'none',\n      width: '200px',\n      marginTop: '25px'\n    });\n    input.type = 'text';\n    input.value = '';\n\n    Object.assign(bundlePopupButtons.style, {\n      transform: 'translateX(-50%)',\n      left: '50%',\n      position: 'absolute',\n      margin: '15px 0',\n      display: 'flex'\n    });\n\n    Object.assign(confirmButton.style, {\n      display: 'block',\n      padding: '10px 20px',\n      margin: '0 5px',\n      borderRadius: '5px',\n      color: 'black',\n      background: 'white',\n      fontSize: '0.8em',\n      float: 'left',\n      whiteSpace: 'nowrap'\n    });\n    confirmButton.innerHTML = 'OK';\n\n    const switchButton = confirmButton.cloneNode();\n    switchButton.innerHTML = 'Switch bundle';\n\n    bundlePopup.appendChild(inputLabel);\n    bundlePopup.appendChild(input);\n    bundlePopup.appendChild(bundlePopupButtons);\n    bundlePopupButtons.appendChild(confirmButton);\n    bundlePopupButtons.appendChild(switchButton);\n    appContainer.appendChild(bundlePopup);\n\n    return new Promise(function (resolve) {\n      let switchBundle = false;\n      confirmButton.onclick = handleConfirmTap;\n      confirmButton.ontouchstart = handleConfirmTap;\n\n      switchButton.onclick = handleSwitchTap;\n      switchButton.ontouchstart = handleSwitchTap;\n\n      function handleConfirmTap(event) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        if (switchBundle) {\n          coreInterface.call('setBundleId', input.value).then(() => {\n            confirmButton.onclick = null;\n            confirmButton.ontouchstart = null;\n            confirmButton.style.display = 'none';\n            input.blur();\n            input.style.display = 'none';\n            inputLabel.innerHTML = 'Bundle ID set. Please restart app to take effect.';\n          });\n        } else {\n          appContainer.removeChild(bundlePopup);\n          resolve();\n        }\n      }\n\n      function handleSwitchTap(event) {\n        event.stopImmediatePropagation();\n        event.preventDefault();\n        switchBundle = true;\n        switchButton.onclick = null;\n        switchButton.ontouchstart = null;\n        switchButton.style.display = 'none';\n        inputLabel.innerHTML = 'Enter bundle ID:';\n        input.style.display = 'block';\n      }\n    });\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ui.js","import defaults from 'lodash/defaults';\nimport deepCopy from 'lodash/cloneDeep';\n\nimport { mixinHmdMode, mixinPoseInDirection, mixinStateUpdate } from './camera-common';\nimport { AR_CAMERA_DEFAULTS } from '../constants';\n\nconst STATE_LIVE = Symbol();\nconst STATE_FROZEN = Symbol();\nconst STATE_FRAME_VISIBLE = Symbol();\n\n//======================================================================================================================\n/**\n * Uses camera feed together with device sensors and various trackers to provide an AR experience for the user.\n *\n * @interface AugmentedRealityCamera\n * @extends Camera\n */\n\n/**\n * @private\n * @returns AugmentedRealityCamera\n */\nexport function createAugmentedRealityCamera(specification) {\n  const { sharedCameraState, coreInterface, freezeFrames = false, createFreezeFrame } = specification;\n  const { name, pose } = defaults(specification, deepCopy(AR_CAMERA_DEFAULTS));\n\n  let state = STATE_LIVE;\n  let activeFreezeFrame = null;\n\n  const camera = {\n    activate,\n    freeze,\n    unfreeze,\n\n    /**\n     * camera pose\n     * @type {ControllableCameraPose}\n     * @memberOf! AugmentedRealityCamera#\n     */\n    get pose() { return deepCopy(pose); },\n    /**\n     * camera activity state\n     * @type {boolean}\n     * @memberOf! AugmentedRealityCamera#\n     */\n    get active() { return sharedCameraState.activeCamera === camera; },\n    get frozen() { return state !== STATE_LIVE; },\n  };\n\n\n  if (freezeFrames) {\n    Object.assign(camera, {\n      showFreezeFrame,\n      removeFreezeFrame,\n      saveFreezeFrame,\n      downloadFreezeFrame,\n    });\n    Object.defineProperty(camera, 'freezeFrames', {\n      get() { return [...freezeFrames]; },\n      enumerable: true,\n    })\n  }\n\n  mixinPoseInDirection(camera, coreInterface);\n  mixinStateUpdate(camera, () => coreInterface.call('getAugmentedRealityCameraPose', name), pose);\n  mixinHmdMode(camera, name, coreInterface);\n\n  return camera;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the camera.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! AugmentedRealityCamera#\n   */\n  function activate() {\n    return Promise.resolve().then(() => {\n      if (state === STATE_FRAME_VISIBLE && activeFreezeFrame) {\n        return showFreezeFrame(activeFreezeFrame);\n      } else {\n        return coreInterface.call('activateStage', 'AR');\n      }\n    }).then(() => sharedCameraState.activeCamera = camera);\n  }\n\n\n  /**\n   * Freezes camera feed and the scene.\n   * @returns {Promise}\n   * @memberOf! AugmentedRealityStage\n   */\n  function freeze() {\n    return Promise.resolve().then(() => {\n      switch (state) {\n        case STATE_LIVE: return coreInterface.call('freeze').then(() => state = STATE_FROZEN);\n        default: return;\n      }\n    });\n  }\n\n  /**\n   * Unfreezes camera feed and the scene.\n   * @returns {Promise}\n   * @memberOf! AugmentedRealityStage\n   */\n  async function unfreeze() {\n    switch (state) {\n      case STATE_FRAME_VISIBLE: {\n        await coreInterface.call('activateStage', 'AR');\n        break;\n      }\n    }\n\n    await coreInterface.call('unfreeze');\n    state = STATE_LIVE;\n  }\n\n  /**\n   * Freezes the camera feed and displays the given freezeFrame\n   * @param {FreezeFrame} freezeFrame\n   * @returns {Promise}\n   * @memberOf! AugmentedRealityCamera#\n   */\n  async function showFreezeFrame(freezeFrame) {\n    switch (state) {\n      case STATE_LIVE: {\n        await coreInterface.call('activateStage', 'Freeze');\n        state = STATE_FRAME_VISIBLE;\n        break;\n      }\n    }\n\n    await coreInterface.call('showFreezeFrame', freezeFrame.name);\n    activeFreezeFrame = freezeFrame;\n  }\n\n  /**\n   * Downloads a previously saved freezeFrame from the server and creates a freezeFrame Object\n   * @param name freezeFrame's name\n   * @returns {Promise}\n   * @memberOf! AugmentedRealityCamera#\n   */\n  async function downloadFreezeFrame(name) {\n    const freezeFrame = createFreezeFrame({name, coreInterface});\n    await coreInterface.call('downloadFreezeFrameFromServer', name)\n    freezeFrames.push(freezeFrame);\n\n    return freezeFrame;\n  }\n\n  /**\n   * Freezes the camera feed and saves the current feed frame and camera pose as a new freezeFrame\n   * @param {FreezeFrame} freezeFrame\n   * @returns {Promise}\n   * @memberOf! AugmentedRealityCamera#\n   */\n  function saveFreezeFrame() {\n    return Promise.resolve().then(() => {\n      switch (state) {\n        case STATE_FROZEN: return Promise.resolve().then(() => {\n          const name = 'freezeFrame__' + Date.now();\n\n          return Promise.all([\n            new Promise(resolve => coreInterface.once('freezeFrameTaken', resolve)),\n            coreInterface.emit('saveFreezeFrame', name, false)\n          ]).then(() => {\n            const freezeFrame = createFreezeFrame({name, coreInterface});\n            freezeFrames.push(freezeFrame);\n            activeFreezeFrame = freezeFrame;\n            return activeFreezeFrame;\n          });\n        });\n        default: return activeFreezeFrame;\n      }\n    });\n  }\n\n  /**\n   * Removes the given freeze frame.\n   * @param {FreezeFrame} freezeFrame\n   * @returns {Promise}\n   * @memberOf! AugmentedRealityCamera#\n   */\n  function removeFreezeFrame(freezeFrame) {\n    return Promise.resolve().then(() => {\n      const index = freezeFrames.indexOf(freezeFrame);\n      if (~index) {\n        return coreInterface.call('removeFreezeFrame', freezeFrame.name).then(() => {\n          freezeFrames.splice(index, 1);\n          if (activeFreezeFrame === freezeFrame) {\n            activeFreezeFrame = null;\n            return unfreeze();\n          }\n        });\n      }\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cameras/augmented-reality-camera.js","export function createFreezeFrame({name, coreInterface}) {\n  return {\n    name,\n    thumbnailUrl: coreInterface.resolveUrl('Freezeframes/General/' + name + '_thumb.png'),\n    imageUrl: coreInterface.resolveUrl('Freezeframes/General/' + name + '.png'),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cameras/freeze-frame.js","import defaults from 'lodash/defaults';\nimport deepCopy from 'lodash/cloneDeep';\n\nimport { mixinHmdMode, mixinPoseInDirection, mixinStateUpdate } from './camera-common';\nimport { PERSPECTIVE_CAMERA_DEFAULTS } from '../constants';\nimport { sanitizeCameraInteraction, sanitizeCameraPose } from '../utils/utils';\n\n//======================================================================================================================\n/**\n * Uses camera sensors and joystick input to provide a first-person VR experience. Behaves like a first-person camera in\n * computer games (i.e. has no roll).\n *\n * @interface PerspectiveCamera\n * @extends Camera\n */\n\n/**\n * @private\n * @returns PerspectiveCamera\n */\nexport function createPerspectiveCamera(specification) {\n  const { sharedCameraState, coreInterface } = specification;\n  const { name, pose, interaction } = defaults(specification, deepCopy(PERSPECTIVE_CAMERA_DEFAULTS));\n\n  const perspectiveCamera = {\n    activate,\n\n    disableSceneInteraction,\n    enableSceneInteraction,\n\n    setInteraction,\n    setPose,\n    setBackgroundMaterial,\n\n    zoomToFit,\n    lookAtSceneCenter,\n\n    get interaction() { return deepCopy(interaction); },\n    get pose() { return deepCopy(pose); },\n    get active() { return sharedCameraState.activeCamera === perspectiveCamera; },\n  };\n\n  mixinPoseInDirection(perspectiveCamera, coreInterface);\n  mixinStateUpdate(perspectiveCamera, () => coreInterface.call('getGridCameraPose', name), pose);\n  mixinHmdMode(perspectiveCamera, name, coreInterface);\n\n  return perspectiveCamera;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the camera.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! PerspectiveCamera#\n   */\n  function activate() {\n    return coreInterface.call('activateStage', 'Grid').then(() => sharedCameraState.activeCamera = perspectiveCamera);\n  }\n\n  /**\n   * Turns off touch interaction with scene nodes. When off, touches only affect camera pose.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! PerspectiveCamera#\n   */\n  function disableSceneInteraction() {\n    return coreInterface.call('activateCameraManipulation');\n  }\n\n  /**\n   * Turns on touch interaction with scene nodes.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! PerspectiveCamera#\n   */\n  function enableSceneInteraction() {\n    return coreInterface.call('deactivateCameraManipulation');\n  }\n\n  /**\n   * Sets camera interaction.\n   * @param {CameraInteraction} newInteraction\n   * @returns {Promise} resolved on completion\n   * @memberOf! PerspectiveCamera#\n   */\n  function setInteraction(newInteraction) {\n    return Promise.resolve().then(() => {\n      Object.assign(interaction, sanitizeCameraInteraction(newInteraction));\n      return coreInterface.call('setGridCameraInteraction', name, interaction);\n    });\n  }\n\n  /**\n   * Sets camera pose.\n   * @param {CameraPose} newPose\n   * @returns {Promise} resolved on completion\n   * @memberOf! PerspectiveCamera#\n   */\n  function setPose(newPose) {\n    return perspectiveCamera.updatePose().then(() => {\n      Object.assign(pose, sanitizeCameraPose(newPose));\n      return coreInterface.call('setGridCameraPose', name, pose);\n    });\n  }\n\n  /**\n   * Sets the background material to a specific material id. This can only be done once,\n   * @param {string} materialId\n   * @returns {Promise} resolved on completion\n   * @memberOf! PerspectiveCamera#\n   */\n  function setBackgroundMaterial(materialId) {\n    return coreInterface.call('applyGridStageBackground', materialId);\n  }\n\n  /**\n   * Turns and moves the camera so that all visible scene objects are in the viewport.\n   * @returns {Promise} resolved on completion\n   * @memberOf! PerspectiveCamera#\n   */\n  function zoomToFit() {\n    return coreInterface.call('frameSceneContent', name).then(perspectiveCamera.updatePose);\n  }\n\n  /**\n   * Turns camera towards the center of the current scene with respect to all visible scene objects.\n   * @returns {Promise} resolved on completion\n   * @memberOf! PerspectiveCamera#\n   */\n  function lookAtSceneCenter() {\n    return coreInterface.call('getSceneBoundingBox', false).then(boundingBox => {\n        let minX, maxX, minY, maxY, minZ, maxZ;\n        for (let i = 0; i <= 7; i++) {\n          let corner = boundingBox[i];\n          (!minX || minX > corner.x) && (minX = corner.x);\n          (!maxX || maxX < corner.x) && (maxX = corner.x);\n          (!minY || minY > corner.y) && (minY = corner.y);\n          (!maxY || maxY < corner.y) && (maxY = corner.y);\n          (!minZ || minZ > corner.z) && (minZ = corner.z);\n          (!maxZ || maxZ < corner.z) && (maxZ = corner.z);\n        }\n        return {\n          x: (maxX + minX) / 2,\n          y: (maxY + minY) / 2,\n          z: (maxZ + minZ) / 2\n        }\n      })\n      .then(sceneCenter => setPose({lookAt: sceneCenter}));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cameras/perspective-camera.js","import defaults from 'lodash/defaults';\nimport deepCopy from 'lodash/cloneDeep';\n\nimport { WALK_CAMERA_DEFAULTS } from '../constants';\nimport { mixinHmdMode, mixinPoseInDirection, mixinStateUpdate } from './camera-common';\n\n//======================================================================================================================\n/**\n * Uses camera sensors and joystick input to provide a first-person VR experience. Behaves like a first-person camera in\n * computer games (i.e. has no roll).\n *\n * @interface WalkCamera\n * @extends Camera\n */\n\n\n/**\n * @private\n * @returns WalkCamera\n */\nexport function createWalkCamera(specification) {\n\n  const { sharedCameraState, coreInterface } = specification;\n  const { name, pose } = defaults(specification, deepCopy(WALK_CAMERA_DEFAULTS));\n  let gyroscopeActive = true;\n\n  const walkCamera = {\n    activate,\n\n    enableGyroscope,\n    disableGyroscope,\n    translate,\n    rotate,\n\n    get pose() { return deepCopy(pose); },\n    get active() { return sharedCameraState.activeCamera === walkCamera; },\n    get gyroscopeActive() { return gyroscopeActive; },\n  };\n\n  mixinPoseInDirection(walkCamera, coreInterface);\n  mixinStateUpdate(walkCamera, () => coreInterface.call('getWalkCameraPose', name), pose);\n  mixinHmdMode(walkCamera, name, coreInterface);\n\n  return walkCamera;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the camera.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! WalkCamera#\n   */\n  function activate() {\n    return coreInterface.call('activateStage', 'Experience').then(() => sharedCameraState.activeCamera = walkCamera);\n  }\n\n  /**\n   * Enables the gyroscope for this camera.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! WalkCamera#\n   */\n  function enableGyroscope() {\n    return gyroscopeActive ? Promise.resolve() : coreInterface.call('enableGyroscopeForExperienceStage').then(() => gyroscopeActive = true);\n  }\n\n  /**\n   * Disables the gyroscope for this camera.\n   * @returns {Promise} resolved on completion.\n   * @memberOf! WalkCamera#\n   */\n  function disableGyroscope() {\n    return !gyroscopeActive ? Promise.resolve() : coreInterface.call('disableGyroscopeForExperienceStage').then(() => gyroscopeActive = false);\n  }\n\n  /**\n   * Translates the camera using joystick input\n   * @param {Vector3d} joystick axis values\n   * @memberOf! WalkCamera#\n   */\n  function translate(controllerInputVector) {\n    coreInterface.emit('translateCamera', controllerInputVector);\n  }\n\n  /**\n   * Rotates the camera using joystick input\n   * @param {Vector3d} joystick axis values\n   * @memberOf! WalkCamera#\n   */\n  function rotate(controllerInputVector) {\n    coreInterface.emit('rotateCamera', controllerInputVector);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/cameras/walk-camera.js","import compose from 'stampit/compose';\n\nexport const HasData = compose({\n\n  initializers: [function ({data}) {\n    this.data = data || {};\n  }],\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/has-data.js","import compose from 'stampit/compose';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport { $ } from '../../dependencies';\nimport { Identifiable } from '../identifiable/identifiable';\n\nimport { DEFAULT_HIGHLIGHT_INFO } from '../../constants';\n\n/**\n * Composed into description objects that can be highlighted.\n *\n * @interface Highlightable\n * @extends Identifiable\n *\n */\nexport const Highlightable = compose(Identifiable, {\n\n  initializers: [function ({highlight = Highlightable.DEFAULT_HIGHLIGHT, coreInterface}) {\n    const _highlight = cloneDeep(highlight);\n\n    /**\n     * Object's highlight settings.\n     * @member {HighlightInfo} highlight\n     * @memberof Highlightable#\n     */\n    Object.defineProperty(this, 'highlight', {\n      get: () => cloneDeep(_highlight),\n      enumerable: true,\n      configurable: false\n    });\n\n    /**\n     * Object's highlight visibility.\n     * @member {boolean} highlighted\n     * @memberof Highlightable#\n     */\n    Object.defineProperty(this, 'highlighted', {\n      get: () => _highlight.visible,\n      enumerable: true,\n      configurable: false\n    });\n\n    /**\n     * Object's highlight settings.\n     * @method setHighlighted\n     * @memberof Highlightable#\n     * @param newHighlight {boolean}\n     * @returns {Promise} Promise that resolves when updated.\n     */\n    this.setHighlighted = function setHighlighted(visible) {\n      return coreInterface.call('setNodeHighlight', this.id, visible)\n          .then(() => Object.assign(_highlight, { visible }));\n    };\n\n  }],\n\n  staticPropertyDescriptors: {\n    DEFAULT_HIGHLIGHT: {\n      get: () => cloneDeep(DEFAULT_HIGHLIGHT_INFO),\n      enumerable: true,\n      configurable: false\n    }\n  }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/highlightable/highlightable.js","import compose from 'stampit/compose';\n\nimport createNamespace from '../../utils/namespace';\nimport { createAssignMembers } from '../../utils/utils';\nimport { $ } from '../../dependencies';\n\nconst _ = createNamespace();\nconst assignMembers = createAssignMembers(_, $);\n\n/**\n * Composed into description objects that can be instantiated.\n *\n * @interface Instantiable\n */\nexport const Instantiable = compose({\n\n  initializers: [function () {\n    const instances = new Set();\n\n    this::assignMembers({\n      shared: {\n        instantiate: this::instantiate,\n        registerInstance: this::registerInstance,\n        unregisterInstance: this::unregisterInstance,\n        unregisterAllInstances: this::unregisterAllInstances,\n      },\n      private: {\n        instances,\n      }\n    });\n\n    /**\n     * Set of all instances of this instantiable object\n     * @member {Set<ModelInstance>} instances\n     * @memberof Instantiable\n     */\n    Object.defineProperty(this, 'instances', {\n      get() { return new Set(instances); },\n      enumerable: true,\n    });\n\n  }],\n});\n\nfunction instantiate() {\n  throw new Error('instantiate() is not implemented!');\n}\n\nfunction registerInstance(instance) {\n  _(this).instances.add(instance);\n}\n\nfunction unregisterInstance(instance) {\n  _(this).instances.delete(instance);\n}\n\nfunction unregisterAllInstances() {\n  _(this).instances.clear();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/instantiable/instantiable.js","import compose from 'stampit/compose';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport { $ } from '../../dependencies';\n\nimport { Identifiable } from '../identifiable/identifiable';\nimport { DEFAULT_INTERACTION } from '../../constants';\n\n/**\n * Represents interactive scene nodes.\n *\n * @interface Interactive\n * @extends Identifiable\n */\nexport const Interactive = compose(Identifiable, {\n\n  initializers: [function ({interaction = Interactive.DEFAULT_INTERACTION, coreInterface}) {\n    const _interaction = cloneDeep(interaction);\n\n    /**\n     * Object's interaction settings.\n     * @member interaction {Interaction}\n     * @memberof Interactive#\n     */\n    Object.defineProperty(this, 'interaction', {\n      get: () => cloneDeep(_interaction),\n      enumerable: true,\n      configurable: false\n    });\n\n    /**\n     * Changes object's interaction settings.\n     * @method setInteraction\n     * @memberof Interactive#\n     * @param newInteraction {Interaction}\n     * @returns {Promise} Promise that resolves when updated.\n     */\n\n    this.setInteraction = function setInteraction(newInteraction) {\n      return coreInterface.call('setObjectInteraction', this.id, newInteraction)\n          .then(() => Object.assign(_interaction, newInteraction));\n    };\n\n    Object.assign($(this), {\n      updateInteraction(newInteraction) {\n        return Object.assign(_interaction, newInteraction);\n      }\n    });\n  }],\n\n  staticPropertyDescriptors: {\n    DEFAULT_INTERACTION: {\n      get: () => cloneDeep(DEFAULT_INTERACTION),\n      enumerable: true,\n      configurable: false\n    }\n  }\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/interactive/interactive.js","import compose from 'stampit/compose';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport { $ } from '../../dependencies';\nimport { Identifiable } from '../identifiable/identifiable';\nimport { sanitizePose } from '../../utils/utils.js';\nimport { DEFAULT_POSE } from '../../constants';\n\n/**\n * Adds pose getter and setter to the object.\n *\n * @interface Locatable\n * @extends Identifiable\n *\n */\nexport const Locatable = compose(Identifiable, {\n\n  initializers: [function ({pose = Locatable.DEFAULT_POSE, coreInterface}) {\n    const _pose = cloneDeep(pose);\n\n    /**\n     * Object's pose.\n     * @member {Pose} pose\n     * @memberof Locatable#\n     */\n    Object.defineProperty(this, 'pose', {\n      get: () => cloneDeep(_pose),\n      enumerable: true,\n      configurable: false\n    });\n\n    /**\n     * Changes object's pose.\n     * @method setPose\n     * @memberof Locatable#\n     * @param newPose {Pose}\n     * @returns {Promise} Promise that resolves when updated.\n     */\n    this.setPose = function setPose(newPose) {\n      return Promise.resolve()\n          .then(() => Object.assign(_pose, sanitizePose(newPose)))\n          .then(() => coreInterface.call('setInstancePose', this.id, JSON.stringify(_pose)));\n    };\n\n    Object.assign($(this), {\n      updatePose(newPose) {\n        return Object.assign(_pose, sanitizePose(newPose));\n      }\n    });\n\n  }],\n\n  staticPropertyDescriptors: {\n    DEFAULT_POSE: {\n      get: () => cloneDeep(DEFAULT_POSE),\n      enumerable: true,\n      configurable: false\n    }\n  }\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/locatable/locatable.js","import compose from 'stampit/compose';\n\nimport { $ } from '../../dependencies';\n\nimport { Identifiable } from '../identifiable/identifiable';\nimport { DEFAULT_VISIBLE } from '../../constants';\n\n/**\n * Represents scene nodes whose visibility can be toggled.\n *\n * @interface Visible\n * @extends Identifiable\n */\nexport const Visible = compose(Identifiable, {\n\n  initializers: [function ({visible = Visible.DEFAULT_VISIBLE, coreInterface}) {\n    let _visible = visible;\n\n    /**\n     * Object's visibility.\n     * @member {boolean}\n     * @memberof Visible#\n     */\n    Object.defineProperty(this, 'visible', {\n      get: () => _visible,\n      enumerable: true,\n      configurable: false\n    });\n\n    /**\n     * Changes object's visibility.\n     * @method setVisible\n     * @memberof Visible\n     * @param newVisible {boolean}\n     * @returns {Promise} Promise that resolves when updated.\n     */\n    this.setVisible = function setVisible(newVisible) {\n      return coreInterface.call('setNodeVisibility', this.id, newVisible)\n          .then(() => _visible = newVisible);\n    };\n\n    Object.assign($(this), {\n      updateVisible(newVisible) {\n        return _visible = newVisible;\n      }\n    });\n\n  }],\n\n  staticPropertyDescriptors: {\n    DEFAULT_VISIBLE: {\n      get: () => DEFAULT_VISIBLE,\n      enumerable: true,\n      configurable: false\n    }\n  }\n\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/visible/visible.js","import { satisfies } from 'semver';\nimport defaults from 'lodash/defaults';\nimport deepCopy from 'lodash/cloneDeep';\n\nimport packageInfo from '../package.json';\n\nimport { waitForDebugger, waitForAppUpdate, waitForSwitchBundleId, showFakedBundleOverlay } from './utils/ui';\nimport { parseScenarioConfig, sanitizeModelTree } from './utils/utils';\n\nimport { DEFAULT_API_CONFIG, LOW_MEMORY_LIMIT, MEDIUM_MEMORY_LIMIT } from './constants';\n\nimport { injector, Date, Window, Config, AppConfig } from './dependencies';\nimport { AuthenticationManager } from './authentication/authentication-manager';\nimport { Http } from './utils/http';\nimport { CoreInterface } from './interface/core-interface';\nimport { AppUtils } from './utils/app-utils';\nimport { SceneManager } from './scene/scene-manager';\nimport { ModelManager } from './models/model-manager';\nimport { LocalStorage } from './storage/local';\nimport { CloudStorage } from './storage/cloud';\nimport { ProjectManager } from './projects/project-manager';\nimport { SyncManager } from './sync/sync-manager';\nimport { Logger } from './utils/logger';\nimport { RoomManager } from './scene/room-manager';\n\n\nimport { createScreenshotManager } from './screenshots/screenshot-manager';\nimport { createTrackers } from './tracking/trackers';\nimport { createCameras } from './cameras/cameras';\n\nimport versionInfo from './utils/version-info';\n\nPromise.config({\n  longStackTraces: false,\n  cancellation: true,\n});\n\nconst viewarApi = {\n  init\n};\n\nasync function init(apiConfig, global = window) {\n  if (this.version) {\n    return this;\n  }\n\n  if (apiConfig.waitForDebugger) {\n    await waitForDebugger(global);\n  }\n\n  const config = defaults(deepCopy(DEFAULT_API_CONFIG), apiConfig);\n  injector.register(Config, () => config);\n  injector.register(Window, () => global);\n  injector.register(Date, () => global.Date);\n  injector.register(AppConfig, () => createDummyAppConfig());\n\n  const startTime = injector.resolve(Date).now();\n\n  const logger = injector.resolve(Logger);\n\n  logger.info(`ViewAR API: v${packageInfo.version}`);\n  logger.info(`ViewAR API: Initializing...`);\n\n//======================================================================================================================\n\n\n  const coreInterface = injector.resolve(CoreInterface);\n\n  await coreInterface.initialize();\n\n  let appConfig = injector.resolve(AppConfig, () => appConfig);\n  await appConfig.init(coreInterface);\n\n  const version = appConfig.version;\n\n  logger.info(`ViewAR API: Using ViewAR SDK Core v${version.core}`);\n\n  if (!satisfies(version.core, packageInfo.coreVersion)) {\n    logger.error(`ViewAR API: ERROR! The core version ${version.core} is not compatible with the required core version ${packageInfo.coreVersion}!`);\n  }\n\n//======================================================================================================================\n\n  if (appConfig.fakedBundle && coreInterface.platform !== 'iOS') {\n    await waitForSwitchBundleId(global, coreInterface, appConfig.appId);\n    showFakedBundleOverlay(global);\n  }\n\n  if (appConfig.update) {\n    await waitForAppUpdate(global, appConfig.update);\n  }\n\n//======================================================================================================================\n\n  const cameras = createCameras({coreInterface, ...appConfig });\n  const trackers = createTrackers({trackerList: appConfig.trackerList});\n  const screenshotManager = createScreenshotManager();\n\n  const api = Object.assign(this, {\n    coreInterface,\n    cameras,\n    trackers,\n    screenshotManager,\n    authenticationManager: injector.resolve(AuthenticationManager),\n\n    logger: injector.resolve(Logger),\n    http: injector.resolve(Http),\n    appUtils: injector.resolve(AppUtils),\n    modelManager: injector.resolve(ModelManager),\n    sceneManager: injector.resolve(SceneManager),\n    roomManager: injector.resolve(RoomManager),\n    storage: {\n      local: injector.resolve(LocalStorage),\n      cloud: injector.resolve(CloudStorage),\n    },\n    projectManager: injector.resolve(ProjectManager),\n    syncManager: injector.resolve(SyncManager),\n\n    version: version.api,\n    coreVersion: version.core,\n    appConfig,\n  });\n\n  api.modelManager.init(appConfig.modelTree);\n  api.sceneManager.init();\n\n  await api.projectManager.init();\n\n  if (coreInterface.platform !== 'UWP') {\n    await api.roomManager.init();\n  }\n\n  if (appConfig.deviceRam < LOW_MEMORY_LIMIT) {\n    await api.appUtils.setTextureQuality('low', false);\n  } else if (appConfig.deviceRam < MEDIUM_MEMORY_LIMIT) {\n    await api.appUtils.setTextureQuality('medium', false);\n  }\n\n  if (coreInterface.platform === 'Android') {\n    api.cameras.walkCamera && await api.cameras.walkCamera.disableGyroscope();\n  }\n\n  if (config.exportToGlobal) {\n    global.api = api;\n  }\n\n  logger.info(`ViewAR API: Initialized. (Loading time: ${(injector.resolve(Date).now() - startTime).toFixed(0)}ms)`);\n\n  return api;\n}\n\nfunction fetchAppConfig({version}, coreInterface) {\n  return Promise.all([\n      coreInterface.call('getScenarioConfig').then(parseScenarioConfig),\n      coreInterface.call('prepareAppData').then(parseModelTree),\n      coreInterface.call('getDeviceRamInfo').then(({total}) => total),\n      coreInterface.call('getFreezeFrameList'),\n      coreInterface.call('getSDKVersionNumber'),\n  ]).then(([appConfig, modelTree, deviceRam, freezeFrameInfo, coreVersion]) => ({\n    ...appConfig,\n    modelTree,\n    deviceRam,\n    freezeFrameInfo,\n    version: Object.assign(versionInfo, {\n      app: appConfig.version,\n      api: version,\n      core: coreVersion,\n    }),\n  }));\n}\n\nfunction parseModelTree({tree}) {\n  return sanitizeModelTree({children: tree, data: {}, id: 'Root', name: 'Root Category'});\n}\n\n\n\nfunction createDummyAppConfig() {\n  let appConfig = {\n    init: async(coreInterface) => {\n      let initializedAppConfig = await fetchAppConfig(packageInfo, coreInterface);\n      Object.assign(appConfig, initializedAppConfig);\n    }\n  };\n\n  return appConfig;\n}\n\nexport default viewarApi;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import createEmitter from 'component-emitter';\nimport { parse } from '../../utils/utils';\n\nexport function createAndroidAdapter(window, coreInterface) {\n\n  return {\n    platform: 'Android',\n\n    query,\n    initialize,\n    sendMessage,\n    triggerEvent,\n    resolveUrl,\n  };\n\n  function query() {\n    return Promise.resolve().then(() => {\n      if (window.__couiAndroid && window.__couiAndroid.initCoui) {\n        (new Function(window.__couiAndroid.initCoui())());\n        return !!window.engine;\n      }\n      return false;\n    });\n  }\n\n  function initialize() {\n    Object.assign(createEmitter(window.engine), {\n      checkClickThrough,\n      _trigger,\n    });\n\n    return bindingsReady();\n  }\n\n  function bindingsReady() {\n    const document = window.document;\n    const promise = new Promise(resolve => coreInterface.once('_OnReady', resolve));\n\n    if (document.body) {\n      setupCoherentForAndroid();\n    } else {\n      document.addEventListener('DOMContentLoaded', setupCoherentForAndroid);\n    }\n\n    return promise;\n  }\n\n  function sendMessage(callName, requestId, ...messageArguments) {\n    sendViaIframe('coherent-js:c:' +\n        callName + ':' + requestId + ':' + encodeURIComponent(JSON.stringify(messageArguments)));\n  }\n\n  function triggerEvent(eventName, ...messageArguments) {\n    sendViaIframe('coherent-js:e:' +\n        eventName + ':' + encodeURIComponent(JSON.stringify(messageArguments)));\n  }\n\n  function resolveUrl(relativeUrl) {\n    return `coui://${relativeUrl}`;\n  }\n\n//======================================================================================================================\n// PRIVATE INTERFACE\n//======================================================================================================================\n\n  function _trigger(...args) {\n    setTimeout(() => coreInterface.emit(...args.map(parse)), 0);\n  }\n\n  function checkClickThrough(pageX, pageY) {\n    return consumedByUi({pageX, pageY}) ? \"Y\" : \"N\";\n  }\n\n  function createSimpleEventTrigger(type) {\n    return (...args) => sendViaIframe(['coherent-js', type, ...args].join(':'));\n  }\n\n  function sendViaIframe(src) {\n    const document = window.document;\n    const frame = Object.assign(document.createElement('iframe'), {\n      width: '0',\n      height: '0',\n      src\n    });\n\n    document.documentElement.appendChild(frame);\n    if (frame && frame.parentNode) {\n      frame.parentNode.removeChild(frame);\n    }\n  }\n\n  function consumedByUi({pageX, pageY}) {\n    const document = window.document;\n    const elem = document.elementFromPoint(pageX, pageY);\n    if (elem && elem != document.documentElement && elem != document.body && !elem.classList.contains('coui-noinput')) {\n      return elem.classList.contains('coui-inputcallback') ? elem.couiInputCallback(pageX, pageY) : true;\n    } else {\n      return false;\n    }\n  }\n\n  function setupCoherentForAndroid() {\n    const document = window.document;\n    const couiAndroid = window.__couiAndroid;\n    const body = document.body;\n\n    body.addEventListener('touchstart', createTouchListener(0, couiAndroid));\n    body.addEventListener('touchmove', createTouchListener(1, couiAndroid));\n    body.addEventListener('touchend', createTouchListener(3, couiAndroid));\n    body.addEventListener('touchcancel', createTouchListener(4, couiAndroid));\n\n    createSimpleEventTrigger('r')(0, window.location.href, window.parent === window ? 1 : 0);\n  }\n\n  function createTouchListener(phase, couiAndroid) {\n    return function (event) {\n      let touches = [...event.changedTouches || []];\n\n      if (couiAndroid.inputState === 0) { // Input state: Take all\n\n      } else if (couiAndroid.inputState === 1) { // Input state: Take none\n\n        event.preventDefault();\n\n        touches.forEach(function (touch) {\n          couiAndroid.addTouchEvent(Number(touch.identifier), phase, touch.screenX, touch.screenY);\n        });\n\n      } else { // Input state: Transparent\n        touches.forEach(function (touch) {\n          let consumed = consumedByUi(touch);\n\n          if (phase === 1 && !consumed) {\n            event.preventDefault(); // Fix bug for Android 4.4+\n          }\n\n          if (!consumed) {\n            couiAndroid.addTouchEvent(Number(touch.identifier), phase, touch.screenX, touch.screenY);\n          }\n        });\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/android-adapter.js","import createEmitter from 'component-emitter';\nimport { SYNC_CALLS, ASYNC_CALLS } from '../../constants';\nimport { emscriptenParse as parse, generateId } from '../../utils/utils';\nimport { injector, AppConfig } from '../../dependencies';\n\nexport function createEmscriptenAdapter(window, coreInterface) {\n\n  const urlCache = {};\n  const appConfig = injector.resolve(AppConfig);\n  let callInterface = null;\n\n  let resolveMutex = () => {};\n  let rejectMutex = () => {};\n  let mutexPromise = Promise.resolve();\n\n  return {\n    platform: 'Emscripten',\n\n    query,\n    initialize,\n    sendMessage,\n    triggerEvent,\n    resolveUrl,\n  };\n\n  function query() {\n    return new Promise(resolve => resolve(!!(window.Module && window.Module.EmscriptenUIImplementation)));\n  }\n\n  function initialize() {\n    Object.assign(createEmitter(window.engine = {}), {\n      checkClickThrough,\n      _trigger,\n    });\n\n    return bindingsReady();\n  }\n\n  function bindingsReady() {\n    addProgressFeedback(window.Module);\n\n    window.Module.EmscriptenUIImplementation.prototype.httpPost = httpPost;\n    callInterface = new window.Module.EmscriptenUIImplementation();\n    callInterface.registerEvents();\n\n    return Promise.resolve();\n  }\n\n  function _trigger(event, ...args) {\n    if (event === '_Result') resolveMutex();\n    if (event === '_OnError') rejectMutex(new Error());\n    coreInterface.emit(event, ...args.map(parse));\n  }\n\n  function enqueue(job) {\n    return mutexPromise = mutexPromise.then(() => new Promise(job), () => new Promise(job));\n  }\n\n  function sendMessage(callName, requestId, ...messageArguments) {\n    return enqueue((resolve, reject) => {\n      if (callInterface[callName]) {\n        resolve(callInterface[callName](...messageArguments));\n      } else {\n        reject(new Error(`Sync call ${callName} doesn't exist!`));\n      }\n    }).then(result => _trigger('_Result', requestId, result));\n  }\n\n  function triggerEvent(eventName, ...messageArguments) {\n    return enqueue((resolve, reject) => {\n      try {\n        if (ASYNC_CALLS.includes(eventName)) {\n          resolveMutex = resolve;\n          rejectMutex = reject;\n          if (!callInterface[eventName]) throw new Error(`Async call ${eventName} doesn't exist!`);\n          callInterface[eventName](...messageArguments);\n        } else {\n          if (!callInterface[eventName]) throw new Error(`Event ${eventName} doesn't exist!`);\n          callInterface[eventName](...messageArguments);\n          resolve();\n        }\n      } catch (error) {\n        reject(error);\n      }\n    });\n  }\n\n//======================================================================================================================\n// PRIVATE INTERFACE\n//======================================================================================================================\n\n  function checkClickThrough(x, y) {\n    return isConsumed({pageX: x, pageY: y}) ? \"Y\" : \"N\";\n  }\n\n  function isConsumed(touch) {\n    let x = touch.pageX, y = touch.pageY;\n    let elem = document.elementFromPoint(x, y);\n    if (elem && elem != document.body && !elem.classList.contains('coui-noinput')) {\n      // check for custom client click-through logic\n      if (elem.classList.contains('coui-inputcallback')) {\n        return elem.couiInputCallback(x, y);\n      }\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  function resolveUrl(relativeUrl) {\n    if (relativeUrl.includes('/Models/Images/')) {\n      const results = /\\/(\\w+)\\.\\w+$/.exec(relativeUrl);\n      if (results && results[1]) {\n        return `${appConfig.host}/model/downloadImage/display:1/size:large/id:${results[1]}`;\n      }\n    } else if (relativeUrl.includes('/CategoryImages/')) {\n      const results = /\\/(\\w+)\\.\\w+$/.exec(relativeUrl);\n      if (results && results[1]) {\n        return `${appConfig.host}/category/display:1/downloadImage/size:large/id:${results[1]}`;\n      }\n    } else if (relativeUrl.includes('/ResourceThumbnails/') || relativeUrl.includes('/Models/Resources/')) {\n      const results = /\\/(?:\\w+)\\/thumb_(\\w+)\\.(jpe?g)$/.exec(relativeUrl);\n      if (results && results[1] && results[2]) {\n        return `${appConfig.host}/resources/DownloadImage/display:1/id:${results[1]}/name:thumb_${results[1]}.${results[2]}`;\n      }\n    }\n\n    if (relativeUrl.startsWith('http://') || relativeUrl.startsWith('https://')) {\n      return relativeUrl;\n    }\n\n    if (!urlCache[relativeUrl]) {\n      const {URL} = window;\n\n      const relativePath = relativeUrl.replace(/^\\//, '');\n      const blob = getBlob(relativePath);\n\n      urlCache[relativeUrl] = blob ? URL.createObjectURL(blob) : '';\n    }\n\n    return urlCache[relativeUrl];\n  }\n\n\n  function getBlob(path) {\n    const {FS, Blob} = window;\n\n    const node = FS.findObject(`/ViewarRoot/${path}`);\n    if (node) {\n      return new Blob([node.contents.buffer]);\n    } else {\n      return null;\n    }\n  }\n\n  function httpPost(url, fields) {\n    return new Promise((resolve, reject) => {\n      const formData = prepareFormData(JSON.parse(fields));\n\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"POST\", url);\n      xhr.onload = handleLoad;\n      xhr.onerror = handleError;\n      xhr.send(formData);\n\n      // Async call, so return generated jobId first, then fake a notification\n      // to all listeners once ajax request returns a result.\n      const jobId = generateId();\n      resolve(jobId);\n\n      function handleLoad() {\n        if (xhr.status === 200) {\n          coreInterface.emit('httpPostResult', jobId, true, JSON.parse(xhr.response));\n        } else {\n          coreInterface.emit('httpPostResult', jobId, false, xhr.statusText);\n          console.error('httpPost error', xhr.statusText);\n        }\n      }\n\n      function handleError() {\n        for(let callback of coreInterface._callbacks.$httpPostResult) {\n          callback(jobId, false, xhr.statusText);\n        }\n        console.error('httpPost error', xhr.statusText);\n      }\n    });\n  }\n\n  function prepareFormData(fields) {\n    const {FormData} = window;\n\n    const formData = new FormData();\n\n    if (typeof fields === 'string') {\n      fields.replace(\n          new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\"),\n          function($0, $1, $2, $3) {\n            formData.append($1, resolveValue($3))\n          }\n      );\n    } else {\n      Object.entries(fields).forEach(([key, value]) => {\n        formData.append(key, resolveValue(value))\n      });\n    }\n    return formData;\n  }\n\n  function getFile(rawPath) {\n    const {File} = window;\n\n    const filename = rawPath.match(/[^/]+$/)[0] || rawPath;\n    const relativePath = rawPath.replace(/^@/, '');\n\n    return new File([getBlob(relativePath)], filename);\n  }\n\n  function resolveValue(value) {\n    if (isCurlFilePath(value)) {\n      return getFile(value);\n    } else {\n      return value;\n    }\n  }\n\n  function isCurlFilePath(value) {\n    return typeof value === 'string' && value[0] === '@';\n  }\n\n  function addProgressFeedback(module) {\n    module.readAsync = function readAsync(url, onLoad, onError) {\n      const xhr = new XMLHttpRequest();\n      xhr.open(\"GET\", url, true);\n      xhr.responseType = \"arraybuffer\";\n\n      xhr.onprogress = function (event) {\n        if (event.lengthComputable) {\n          const percentComplete = event.loaded / event.total * 100;\n          coreInterface.emit('transferProgress', '', '', '', percentComplete);\n        } else {\n          console.log('TransferProgress not computable!');\n        }\n      };\n\n      xhr.onload = function () {\n        if (xhr.status == 200 || xhr.status == 0 && xhr.response) {\n          coreInterface.emit('transferProgress', '', '', '', 100);\n          onLoad(xhr.response);\n        } else {\n          onError();\n        }\n      };\n\n      xhr.onerror = onError;\n\n      xhr.send(null);\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/emscripten-adapter.js","import createEmitter from 'component-emitter';\nimport { parse } from '../../utils/utils';\n\nexport function createIosAdapter(window, coreInterface) {\n\n  return {\n    platform: 'iOS',\n\n    query,\n    initialize,\n    sendMessage,\n    triggerEvent,\n    resolveUrl,\n  };\n\n  function query() {\n    return new Promise(resolve => {\n      if (window.engine && window.engine.SendMessage) {\n        resolve(false);\n      }\n\n      createSimpleEventTrigger('q')();\n      setTimeout(() => resolve(!!window.engine), 0);\n    });\n  }\n\n  function initialize() {\n    Object.assign(createEmitter(window.engine), {\n      checkClickThrough,\n      _trigger,\n    });\n\n    return bindingsReady();\n  }\n\n  function _trigger(...args) {\n    setTimeout(() => coreInterface.emit(...args.map(parse)), 0);\n  }\n\n  function bindingsReady() {\n    const promise = new Promise(resolve => coreInterface.once('_OnReady', resolve));\n    createSimpleEventTrigger('r')(0, window.location.href, window.parent === window ? 1 : 0);\n    return promise;\n  }\n\n  function sendMessage(callName, requestId, ...messageArguments) {\n    sendViaIframe('coherent-js:c:' +\n        callName + ':' + requestId + ':' + encodeURIComponent(JSON.stringify(messageArguments)));\n  }\n\n  function triggerEvent(eventName, ...messageArguments) {\n    sendViaIframe('coherent-js:e:' +\n        eventName + ':' + encodeURIComponent(JSON.stringify(messageArguments)));\n  }\n\n  function resolveUrl(relativeUrl) {\n    return `coui://${relativeUrl}`;\n  }\n\n//======================================================================================================================\n// PRIVATE INTERFACE\n//======================================================================================================================\n\n  function createSimpleEventTrigger(type) {\n    return (...args) => sendViaIframe(['coherent-js', type, ...args].join(':'));\n  }\n\n  function sendViaIframe(src) {\n    const document = window.document;\n    const frame = Object.assign(document.createElement('iframe'), {\n      width: '0',\n      height: '0',\n      src\n    });\n\n    document.documentElement.appendChild(frame);\n    if (frame && frame.parentNode) {\n      frame.parentNode.removeChild(frame);\n    }\n  }\n\n  function checkClickThrough(pageX, pageY) {\n    return consumedByUi({pageX, pageY}) ? 'Y' : 'N';\n  }\n\n  function consumedByUi({pageX, pageY}) {\n    const document = window.document;\n    const elem = document.elementFromPoint(pageX, pageY);\n    if (elem && elem != document.documentElement && elem != document.body && !elem.classList.contains('coui-noinput')) {\n      return elem.classList.contains('coui-inputcallback') ? elem.couiInputCallback(pageX, pageY) : true;\n    } else {\n      return false;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/ios-adapter.js","import createMockCalls from './mock-calls.js';\nimport { injector, AppConfig } from '../../dependencies';\n\nexport function createMockAdapter(window, coreInterface) {\n  let mockCalls = null;\n\n  const appConfig = injector.resolve(AppConfig);\n\n  return {\n    platform: 'Mock',\n\n    query,\n    initialize,\n    sendMessage,\n    triggerEvent,\n    resolveUrl,\n  };\n\n  function query() {\n    return Promise.resolve(!window.engine);\n  }\n\n  function initialize() {\n    window.engine = {\n      _trigger: ::coreInterface.emit,\n    };\n\n    mockCalls = createMockCalls({window, coreInterface});\n    return Promise.resolve();\n  }\n\n  function sendMessage(callName, requestId, ...args) {\n    const mockCallHandler = coreInterface.mock[callName];\n\n    if (mockCallHandler) {\n      setTimeout(() => mockCallHandler(...args).then(result => coreInterface.emit('_Result', requestId, result)), 0);\n    } else {\n      setTimeout(() => coreInterface.emit('_Result', requestId, mockCallHandler), 0);\n    }\n  }\n\n  function triggerEvent(eventName, ...args) {\n    setTimeout(() => coreInterface.emit('mock:' + eventName, ...args), 0);\n  }\n\n  function resolveUrl(relativeUrl) {\n    if (relativeUrl.includes('/Models/Images/')) {\n      const results = /\\/(\\w+)\\.\\w+$/.exec(relativeUrl);\n      if (results && results[1]) {\n        return `${appConfig.host}/model/downloadImage/display:1/size:large/id:${results[1]}`;\n      }\n    } else if (relativeUrl.includes('/CategoryImages/')) {\n      const results = /\\/(\\w+)\\.\\w+$/.exec(relativeUrl);\n      if (results && results[1]) {\n        return `${appConfig.host}/category/display:1/downloadImage/size:large/id:${results[1]}`;\n      }\n    } else if (relativeUrl.includes('/ResourceThumbnails/') || relativeUrl.includes('/Models/Resources/')) {\n      const results = /\\/(?:\\w+)\\/thumb_(\\w+)\\.(jpe?g)$/.exec(relativeUrl);\n      if (results && results[1]) {\n        return `${appConfig.host}/resources/DownloadImage/display:1/id:${results[1]}/name:thumb_${results[1]}.${results[2]}`;\n      }\n    }\n    return '';\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/mock-adapter.js","import { generateId } from '../../utils/utils.js';\nimport packageJson from '../../../package.json';\n\nimport { injector, Config, AppConfig } from '../../dependencies';\n\nexport default injector.wireFactory(addMockCalls, {config: Config, appConfig: AppConfig});\n\nvar customFiles = {};\nvar customStageBackgrounds = {};\nvar freezeFrames = [{name:\"freezeFrame1\", thumbPath:\"\"}];\nvar structureConnected = false;\nvar structureBattery = true;\nvar online = true;\nvar currentMode;\n\nvar downloadCache = {};\nvar customImages = {};\n\nvar selectedId = null;\nvar insertedModelImages = new Map();\nvar insertedContainers = new Map();\nvar insertedObj = {};\nvar host = 'https://api.viewar.com';      // Most of the time appConfig.host is used, but this is for the initalization where appConfig is not resolved yet.\nvar modelContainerDisplayBlacklist = ['30387', 'DefaultLayer'];\n\nfunction addMockCalls({window, coreInterface, config: {appId, fallbackBundleId}, appConfig}) {\n\n  const document = window.document;\n\n  var authKey = '';\n\n  var meshScanInProgress = false;\n  var meshVertices = 0;\n\n  addCustomStageBackgrounds(customStageBackgrounds);\n  addCustomFiles(customFiles);\n  addMockEvents(coreInterface, appConfig, customStageBackgrounds);\n  addSimulatorPanel(coreInterface);\n  showBackground('Grid');\n\n  coreInterface.customImages = customImages;\n  coreInterface.mock = {\n    activateStage,\n    switchToMode,\n    getDeviceRamInfo,\n    getScenarioConfig,\n    readCustomFile,\n    saveCustomFile,\n    getSDKVersionNumber,\n    getInstancePose,\n    getCameraPose,\n    getGridCameraPose,\n    getCameraPosition,\n    getCameraOrientation,\n    getFreezeFrameList,\n    getCameraLookAt,\n    getColorAtCoordinates,\n    getSceneBoundingBox,\n    customTrackingCommand,\n    deleteInstance,\n    pluginCommand,\n    saveScreenshotToSubfolder,\n    selectObject,\n    clearSelection,\n    colorizeMesh,\n    fillMeshHoles,\n    getMeshList,\n    setAuthKey,\n    getAuthKey,\n    freeze,\n    unfreeze,\n    clearScene,\n    startVideo,\n    startAnimation,\n    setObjectInteraction,\n    insertContainer,\n    showFreezeFrame,\n    getPoseInViewingDirection,\n    startMeshScan,\n    stopMeshScan,\n    resetMeshScan,\n    httpPost,\n    adjustContainerCenterToContent,\n    setNodeVisibility,\n    scriptingLayerReady,\n  };\n\n//======================================================================================================================\n// MOCK CALLS\n//======================================================================================================================\n\n  function scriptingLayerReady() {\n    return Promise.resolve({});\n  }\n\n  function activateStage(stage) {\n    showStageText(null);\n\n    var appContainer = document.getElementById('viewar_app') || document.getElementsByTagName('body')[0];\n    var background = customStageBackgrounds[stage];\n    if (background) {\n      var existing = document.getElementById('backgroundElement');\n      var backgroundElement = existing || document.createElement('div');\n      if (!existing) {\n        backgroundElement.id = 'backgroundElement';\n        Object.assign(backgroundElement.style, {\n          position: 'absolute',\n          width: '100%',\n          height: '100%',\n          zIndex: '-1000000',\n          backgroundSize: 'cover',\n          left: '0',\n          top: '0'\n        });\n        \n        backgroundElement.addEventListener('click', () => coreInterface.emit('selectionChanged', null));\n        selectModelImage(null);\n        appContainer.appendChild(backgroundElement);\n      }\n      backgroundElement.style.background = background;\n    }\n\n    return Promise.delay(33);\n  }\n\n  function getCameraOrientation() {\n    return Promise.resolve(JSON.stringify({\n      x: 0, y: 0\n    }));\n  }\n\n  function switchToMode(mode) {\n    currentMode = mode;\n    return Promise.delay(33);\n  }\n\n  function getDeviceRamInfo() {\n    return Promise.resolve(JSON.stringify({\n      total: 2 * 1024 * 1024 * 1024,\n      avail: 1 * 1024 * 1024 * 1024\n    }));\n  }\n\n  function getScenarioConfig() {\n    const bundleId = window.bundleIdentifier || window.bundleidentifier || appId || fallbackBundleId;\n    const fallbackId = appId;\n\n    return getData(`${host}/api20/configuration/bundleidentifier:${bundleId}/fakeversion:100`)\n        .then(data => data || getData(`${host}/api20/configuration/bundleidentifier:${fallbackId}/fakeversion:100`))\n        .catch(() => getData(`${host}/api20/configuration/bundleidentifier:${fallbackId}/fakeversion:100`));\n  }\n\n  function readCustomFile(fileName) {\n    return Promise.resolve(customFiles[fileName]);\n  }\n\n  function saveCustomFile(fileName, content, format) {\n    return Promise.resolve().then(function () {\n      switch (format) {\n        case 'json':\n          customFiles[fileName] = JSON.stringify(content);\n          break;\n        default:\n          customFiles[fileName] = content;\n          break;\n      }\n    });\n  }\n\n  function getPoseInViewingDirection() {\n    return Promise.resolve(JSON.stringify({\n      position: {x: 0, y: 0, z: 0},\n      orientation: {w: 1, x: 0, y: 0, z: 0},\n      scale: {x: 1, y: 1, z: 1}\n    }));\n  }\n\n  function getSDKVersionNumber() {\n    return Promise.resolve(packageJson.coreVersion.substring(1));\n  }\n\n  function getInstancePose() {\n    return Promise.resolve(JSON.stringify({\n      position: {x: 0, y: 0, z: 0},\n      orientation: {w: 1, x: 0, y: 0, z: 0},\n      scale: {x: 1, y: 1, z: 1}\n    }));\n  }\n\n  function getCameraPose() {\n    return Promise.resolve(JSON.stringify({\n      position: {x: 0, y: 0, z: 0},\n      lookAt: {x: 0, y: 0, z: 1}\n    }));\n  }\n\n  function getGridCameraPose() {\n    return Promise.resolve(JSON.stringify({\n      position: {x: 0, y: 0, z: 0},\n      lookAt: {x: 0, y: 0, z: 1}\n    }));\n  }\n\n  function getCameraPosition() {\n    return Promise.resolve(JSON.stringify({\n      x: 0, y: 0, z: 0\n    }));\n  }\n\n\n  function getCameraLookAt() {\n    return Promise.resolve(JSON.stringify({\n      x: 0, y: 0, z: 1\n    }));\n  }\n\n  function getFreezeFrameList() {\n    return Promise.resolve(JSON.stringify(freezeFrames));\n  }\n\n  function getColorAtCoordinates(coordinates, radius) {\n    return Promise.resolve('[128, 0, 0]');\n  }\n\n  function getSceneBoundingBox(includeInvisible) {\n    return Promise.resolve([\n      {x: 0, y: 0, z: 0},\n      {x: 1, y: 0, z: 0},\n      {x: 1, y: 0, z: 1},\n      {x: 1, y: 1, z: 0},\n      {x: 1, y: 1, z: 1},\n      {x: 0, y: 1, z: 0},\n      {x: 0, y: 1, z: 1},\n      {x: 0, y: 0, z: 1}\n    ]);\n  }\n\n  function customTrackingCommand(providerName, command, params) {\n    var retParams = {};\n    if (providerName == 'Structure') {\n      switch (command) {\n        case 'getStatus':\n          retParams.sensorBatteryLevel = structureBattery ? 0.73 : 0;\n          retParams.sensorConnected = structureConnected;\n          retParams.isStreaming = true;\n          break;\n      }\n    } else if (providerName === 'Vuforia' || providerName === 'Qualcomm') {\n      switch (command) {\n        case 'captureUserTarget':\n          const info = {\n            status: 'userTargetCaptured'\n          };\n          setTimeout(() => coreInterface.emit('customTrackingInfo', providerName, JSON.stringify(info)), 33);\n          break;\n        case 'removeUserTarget':\n          break;\n      }\n    }\n    return Promise.resolve(JSON.stringify(retParams));\n  }\n\n  function deleteInstance(instanceId) {\n    setTimeout(() => coreInterface.emit('selectionChanged', null), 33);\n    selectModelImage(null);\n    var modelImage = insertedModelImages.get(instanceId);\n    if (modelImage) {\n      const modelContainer = modelImage.parentNode;\n      modelContainer.removeChild(modelImage);\n      if (modelContainer.children.length <= 1) {\n        modelContainer.style.display = 'none';\n      }\n    }\n\n    var container = insertedContainers.get(instanceId) || [];\n    container.forEach(function(childId) {\n      var child = insertedModelImages.get(childId);\n      if (child) child.parentNode.removeChild(child);\n      insertedModelImages.delete(childId);\n      delete insertedObj[childId];\n    });\n\n    delete insertedObj[instanceId];\n    insertedContainers.delete(instanceId);\n    return Promise.resolve(insertedModelImages.delete(instanceId));\n  }\n\n  function pluginCommand(pluginName, commandName, params) {\n    switch (pluginName) {\n      case 'LCAG':\n        switch(commandName) {\n          case 'measureBoxes':\n            setTimeout(() => coreInterface.emit('boxMeasurement', '{\"boxes\":[{\"id\":1,\"pose\":{\"position\":{\"x\":0,\"y\":0,\"z\":0},\"orientation\":{\"w\":1,\"x\":0,\"y\":0,\"z\":0}},\"dimensions\":{\"x\":12.3,\"y\":12.7,\"z\":10},\"volumeInCubicMeters\":1112.5,\"faces\":[{\"id\":\"front\",\"confidence\":0.9,\"numberOfPoints\":9881,\"orientation\":\"vertical\",\"corners\":[{\"x\":0,\"y\":0,\"z\":0}]}]}]}'), 16);\n            break;\n        }\n        break;\n    }\n\n    return Promise.resolve('{}');\n  }\n\n  function selectObject(id) {\n    setTimeout(() => coreInterface.emit('selectionChanged', id), 16);\n    selectModelImage(id);\n    return Promise.resolve();\n  }\n\n  function clearSelection() {\n    setTimeout(() => coreInterface.emit('selectionChanged', null), 16);\n    selectModelImage(null);\n    return Promise.resolve();\n  }\n\n  function colorizeMesh() {\n    var jobId = generateId();\n    for (var i = 0; i<100; i+=5) {\n      (function (count) {\n        var json = {\n          type: 'skinningProgress',\n          data: count\n        };\n        setTimeout(() => coreInterface.emit('customTrackingInfo', jobId, JSON.stringify(json)), 10 * count);\n      })(i);\n    }\n    setTimeout(() => coreInterface.emit('customTrackingInfo', jobId, '{\"type\":\"skinningFinished\"}'), 10 * 101);\n    return Promise.resolve(jobId);\n  }\n\n  function fillMeshHoles() {\n    var jobId = generateId();\n    for (var i = 0; i<100; i+=5) {\n      (function (count) {\n        var json = {\n          type: 'holeFillProgress',\n          data: count\n        };\n        setTimeout(() => coreInterface.emit('customTrackingInfo', jobId, JSON.stringify(json)), 10 * count);\n      })(i);\n    }\n    setTimeout(() => coreInterface.emit('customTrackingInfo', jobId, '{\"type\":\"holeFillFinished\"}'), 10 * 101);\n    return Promise.resolve(jobId);\n  }\n\n  function getMeshList() {\n    var meshList = [];\n\n    if (meshVertices) {\n      meshList.push({\n        id: 'Scan',\n        name: 'Scan',\n        numVertices: meshVertices,\n        material: 'viewar_xray'\n      });\n    }\n\n    return Promise.resolve(JSON.stringify(meshList));\n  }\n\n  function setAuthKey(key) {\n    authKey = key;\n    return Promise.resolve();\n  }\n\n  function getAuthKey() {\n    return Promise.resolve(JSON.stringify(authKey));\n  }\n\n  function freeze() {\n    showStageText('Freeze');\n\n    return Promise.resolve();\n  }\n\n  function unfreeze() {\n    showStageText(null);\n    return Promise.resolve();\n  }\n\n  function clearScene() {\n    insertedModelImages.forEach(function(modelImage) {\n      modelImage.parentNode.removeChild(modelImage);\n    });\n    insertedModelImages.clear();\n    insertedObj = {};\n    insertedContainers.clear();\n    coreInterface.emit('selectionChanged', null);\n    return Promise.resolve(true);\n  }\n\n  function startVideo(instanceId, videoName, timeInMs, loop) {\n    if (!loop) {\n      setTimeout(() => coreInterface.emit('videoEnded', videoName, instanceId), 3000);\n    }\n    return Promise.resolve();\n  }\n\n  function startAnimation(instanceId, animationName, timeInMs, loop) {\n    if (!loop) {\n      setTimeout(() => coreInterface.emit('animationEnded', animationName, instanceId), 3000);\n    }\n    return Promise.resolve();\n  }\n\n  function saveScreenshotToSubfolder(subfolder) {\n    return Promise.resolve(`${appConfig.host}/images_new/ar_background.png`);\n  }\n\n  function insertContainer(containerId, assemblyPart) {\n    const { targetContainerId, shouldBeGrouped} = JSON.parse(assemblyPart);\n    insertedContainers.set(containerId, []);\n    insertedObj[containerId] = { id: containerId,  shouldBeGrouped };\n    insertedObj[containerId].parent = targetContainerId ? targetContainerId : undefined;\n    insertContainerImage(containerId);\n    return Promise.resolve();\n  }\n\n  function showFreezeFrame(freezeFrame) {\n    showStageText('Freeze');\n    showBackground('Freeze');\n    return Promise.resolve();\n  }\n\n  function startMeshScan() {\n    meshScanInProgress = true;\n    meshVertices += Math.floor(Math.random() * 101);\n\n    var scan = function() {\n      if (meshScanInProgress) {\n        setTimeout(scan, 500);\n        meshVertices += Math.floor(Math.random() * 101);\n      }\n    };\n    scan();\n\n    return Promise.resolve();\n  }\n\n  function stopMeshScan() {\n    meshScanInProgress = false;\n    return Promise.resolve();\n  }\n\n  function resetMeshScan() {\n    meshVertices = 0;\n    return Promise.resolve();\n  }\n\n  function httpPost(url, fields) {\n    var jobId = generateId();\n    setTimeout(() => coreInterface.emit('httpPostResult', jobId, true, \"0\"), 66);\n    return Promise.resolve(jobId);\n  }\n\n  function adjustContainerCenterToContent(containerId, method) {\n    var container = window.api.sceneManager.findNodeById(containerId);\n    var position = container.getPose().position || { x: 0, y: 0, z: 0 };\n    return Promise.resolve(JSON.stringify(position));\n  }\n\n  function setNodeVisibility(instanceId, visibility) {\n    var modelImage = insertedModelImages.get(instanceId);\n    if (modelImage) {\n      modelImage.style.display = visibility ? 'inline' : 'none';\n    }\n    return Promise.resolve();\n  }\n\n  function setObjectInteraction(interaction) {\n    return Promise.resolve();\n  }\n\n//======================================================================================================================\n// UNIMPLEMENTED CALLS\n//======================================================================================================================\n\n  function setCollisionMode(mode) {\n    return Promise.resolve();\n  }\n\n  function stopFeatureTracking(providerName) {\n    return Promise.resolve();\n  }\n\n  function startFeatureTracking(providerName) {\n    return Promise.resolve();\n  }\n\n  function setInstancePose(instanceId, pose) {\n    return Promise.resolve();\n  }\n\n  function confirmGroundPosition(providerName) {\n    return Promise.resolve();\n  }\n\n  function setMeshMaterial(meshId, materialId) {\n    return Promise.resolve();\n  }\n\n  function saveMeshAsObj(meshId, fileName) {\n    return Promise.resolve();\n  }\n\n  function applyMaterialOption(instanceId, groupId, materialOption) {\n    return Promise.resolve();\n  }\n\n  function loadMeshFromObj(meshId, fileName) {\n    return Promise.resolve();\n  }\n\n  function deleteMeshObj(fileName) {\n    return Promise.resolve();\n  }\n\n  function removeFreezeFrame(freezeFrameName) {\n    return Promise.resolve();\n  }\n}\n\nfunction addMockEvents(coreInterface, appConfig, customStageBackgrounds) {\n  var events = {\n    // ASYNC CALLS\n    insertModel,\n    insertModelNew,\n    prepareModelResources,\n    prepareAllModelAssets,\n    prepareResourcePack,\n    prepareModelDescription,\n    prepareModelImage,\n    prepareCategoryImage,\n    prepareAppData,\n    getModelDescription,\n    getMaterialDescription,\n    prepareCustomImage,\n\n    // EVENTS\n    takeScreenshot,\n    saveFreezeFrame,\n    openInExternalBrowser,\n    openInInternalBrowser,\n    deleteCustomFile,\n    deleteSelectedModel\n  };\n\n  Object.keys(events).forEach(function (name) {\n    coreInterface.emit('_Register', name);\n    coreInterface.on('mock:' + name, events[name]);\n  });\n\n//======================================================================================================================\n// ASYNC CALLS\n//======================================================================================================================\n\n  function insertModel(jobId, modelId, options) {\n    const { instanceId, targetContainerId, shouldBeGrouped, visible} = JSON.parse(options);\n\n    if (targetContainerId) {\n      insertContainerImage(targetContainerId);\n      const children = insertedContainers.get(targetContainerId) || [];\n      insertedObj[instanceId] = { id: instanceId, parent: targetContainerId, shouldBeGrouped };\n      children.push(instanceId);\n      insertedContainers.set(children);\n    }\n\n    if (visible) {\n      if(modelContainerDisplayBlacklist.indexOf(modelId) === -1) {\n        setTimeout(async function() {\n          await insertModelImage(instanceId);\n          selectModelImage(instanceId);\n        }, 100);\n      }\n    }\n    setTimeout(() => coreInterface.emit('_Result', jobId, null), 80);\n  }\n\n  function insertModelNew(jobId, modelId, options) {\n    const { instanceId, targetContainerId, shouldBeGrouped, visible} = JSON.parse(options);\n\n    if (targetContainerId) {\n      insertContainerImage(targetContainerId);\n      const children = insertedContainers.get(targetContainerId) || [];\n      insertedObj[instanceId] = { id: instanceId, parent: targetContainerId, shouldBeGrouped };\n      children.push(instanceId);\n      insertedContainers.set(children);\n    }\n\n    if (visible) {\n      if(modelContainerDisplayBlacklist.indexOf(modelId) === -1) {\n        setTimeout(async function() {\n          await insertModelImage(instanceId);\n          selectModelImage(instanceId);\n        }, 100);\n      }\n    }\n    setTimeout(() => coreInterface.emit('_Result', jobId, null), 80);\n  }\n\n  async function simulateTransfer(transferType, resourceType, jobId) {\n    if (online) {\n      coreInterface.emit('transferBegin', transferType, resourceType, jobId);\n\n      for (let percent = 0; percent < 100; percent += 10) {\n        await Promise.delay(33);\n        coreInterface.emit('transferProgress', transferType, resourceType, jobId, percent);\n      }\n\n      await Promise.delay(33);\n      coreInterface.emit('transferEnd', transferType, resourceType, jobId, 'NoErrors');\n      coreInterface.emit('_Result', jobId, null);\n    } else {\n\n      await Promise.delay(33);\n      coreInterface.emit('_OnError', jobId, new Error('Could not resolve host name'));\n    }\n  }\n\n  function prepareAllModelAssets(jobId) {\n    return simulateTransfer('Download', 'ModelResources', jobId);\n  }\n\n  function prepareModelResources(jobId) {\n    return simulateTransfer('Download', 'ModelResources', jobId);\n  }\n\n  async function prepareResourcePack(jobId) {\n    return simulateTransfer('Download', 'ResourcePack', jobId);\n  }\n\n  async function prepareModelDescription(jobId, modelId) {\n    return getModelDescription(jobId, modelId);\n  }\n\n  async function prepareModelImage(jobId) {\n    return simulateTransfer('Download', 'ModelImage', jobId);\n  }\n\n  function prepareCategoryImage(jobId) {\n    return simulateTransfer('Download', 'CategoryImage', jobId);\n  }\n\n  function prepareCustomImage(jobId, fileName, url) {\n    customImages['/CustomImages/' + fileName] = url;\n    return simulateTransfer('Download', 'CustomImage', jobId);\n  }\n\n  function getModelDescription(jobId, modelId) {\n    if (online) {\n\n      return getData(`${appConfig.host}/api10/models/ids:${modelId}`)\n          .then(json => JSON.parse(json))\n          .then(data => data.models[0])\n          .then(data => JSON.stringify(data))\n          .then(json =>  coreInterface.emit('_Result', jobId, json));\n\n    } else { // TODO: this error might not be simulated properly\n      setTimeout(() => coreInterface.emit('_OnError', jobId, new Error('Could not resolve host name')), 33);\n    }\n  }\n\n  function prepareAppData(jobId) {\n    if (online) {\n      setTimeout(() => coreInterface.emit('_Result', jobId,\n          coreInterface.mock.getScenarioConfig()\n              .then(json => JSON.parse(json))\n              .then(({config}) => getData(`${host}${config.appData}`))), 33);\n    } else {\n      setTimeout(() => coreInterface.emit('_OnError', jobId, new Error('Could not resolve host name')), 33);\n    }\n  }\n\n  function getMaterialDescription(jobId, materialId) {\n    if (online) {\n\n      return getData(`${appConfig.host}/materials/api/action:getDescription/id:${materialId}`)\n        .then(json => JSON.parse(json))\n        .then(json =>  coreInterface.emit('_Result', jobId, json));\n\n    } else { // TODO: this error might not be simulated properly\n      setTimeout(() => coreInterface.emit('_OnError', jobId, new Error('Could not resolve host name')), 33);\n    }\n  }\n\n//======================================================================================================================\n// EVENTS\n//======================================================================================================================\n\n  function deleteCustomFile(name) {\n    setTimeout(() => delete files[name]);\n  }\n\n  function takeScreenshot() {\n    setTimeout(() => coreInterface.emit('screenshotTaken'), 100);\n  }\n\n  function saveFreezeFrame(name, saveToGallery) {\n    var freezeFrame = {\n      name: generateId(),\n      thumbnailUrl: '/Freezeframes/General/' + name + '_thumb.png',\n      imageUrl: '/Freezeframes/General/' + name + '.png'\n    };\n    freezeFrames.push(freezeFrame);\n    setTimeout(() => coreInterface.emit('freezeFrameTaken'), 33);\n    return Promise.resolve(freezeFrame);\n  }\n\n  function openInExternalBrowser(url) {\n    window.open(url, '_target');\n  }\n\n  function openInInternalBrowser(url) {\n    var frame = prepareIFrame();\n\n    frame.src = url;\n    document.documentElement.appendChild(frame);\n  }\n\n  function deleteSelectedModel() {\n    var instanceId = selectedId;\n    setTimeout(() => coreInterface.emit('selectionChanged', null), 33);\n    selectModelImage(null);\n    var modelImage = insertedModelImages.get(instanceId);\n    if (modelImage) modelImage.parentNode.removeChild(modelImage);\n\n    var container = insertedContainers.get(instanceId) || [];\n    container.forEach(function(childId) {\n      var child = insertedModelImages.get(childId);\n      if (child) child.parentNode.removeChild(child);\n      insertedModelImages.delete(childId);\n      delete insertedObj[childId];\n    });\n\n    delete insertedObj[instanceId];\n    insertedContainers.delete(instanceId);\n    return Promise.resolve(insertedModelImages.delete(instanceId));\n  }\n}\n\nfunction addSimulatorPanel(coreInterface) {\n  var document = window.document;\n  var appContainer = document.getElementById('viewar_app') || document.getElementsByTagName('body')[0];\n\n  var div = document.createElement('div');\n  div.classList.add('SimulatorPanel');\n  Object.assign(div.style, {\n    position: 'fixed',\n    bottom: '0',\n    right: '0',\n    zIndex: '1000000'\n  });\n  appContainer.appendChild(div);\n\n  /* Structure */\n  var toggleStructureButton = document.createElement('button');\n  toggleStructureButton.innerHTML = 'Structure: DISCONNECTED';\n  toggleStructureButton.style.float = 'right';\n  toggleStructureButton.addEventListener('click', function () {\n    structureConnected = !structureConnected;\n    toggleStructureButton.innerHTML = 'Structure: ' + (structureConnected ? 'CONNECTED' : 'DISCONNECTED');\n    toggleStructureBatteryButton.style.display = structureConnected ? 'inline' : 'none';\n    toggleTrackingButton.style.display = structureConnected ? 'inline' : 'none';\n    toggleMarkerFoundButton.style.display = !structureConnected ? 'inline' : 'none';\n    toggleTrackingSpeedbutton.style.display = tracking && structureConnected ? 'inline' : 'none';\n\n    var json = {\n      type: 'showConnectSensor',\n      data: structureConnected\n    };\n    var jobId = generateId();\n    coreInterface.emit('customTrackingInfo', jobId, JSON.stringify(json));\n  });\n  div.appendChild(toggleStructureButton);\n\n  /* Structure Battery */\n  var toggleStructureBatteryButton = document.createElement('button');\n  toggleStructureBatteryButton.innerHTML = 'Structure Battery: 73%';\n  Object.assign(toggleStructureBatteryButton.style, {\n    display: structureConnected ? 'inline' : 'none',\n    float: 'right'\n  });\n  toggleStructureBatteryButton.addEventListener('click', function () {\n    structureBattery = !structureBattery;\n    toggleStructureBatteryButton.innerHTML = 'Structure Battery: ' + (structureBattery ? '73%' : '0%');\n    var json = {\n      type: 'showBatteryNeedsCharging',\n      data: structureBattery\n    };\n    var jobId = generateId();\n    coreInterface.emit('customTrackingInfo', jobId, JSON.stringify(json));\n  });\n  div.appendChild(toggleStructureBatteryButton);\n\n  /* Trackers */\n  var tracking = false;\n  var toggleTrackingButton = document.createElement('button');\n  toggleTrackingButton.innerHTML = 'Trackers: LOST';\n  Object.assign(toggleTrackingButton.style, {\n    display: structureConnected ? 'inline' : 'none',\n    float: 'right'\n  });\n  toggleTrackingButton.addEventListener('click', function () {\n    tracking = !tracking;\n    toggleTrackingButton.innerHTML = 'Trackers: ' + (tracking ? 'FOUND' : 'LOST');\n    toggleTrackingSpeedbutton.style.display = tracking && structureConnected ? 'inline' : 'none';\n    coreInterface.emit('trackingTargetStatusChanged', 'VCard01', tracking ? 'found' : 'lost');\n  });\n  div.appendChild(toggleTrackingButton);\n\n  /* Trackers Speed */\n  var holdDeviceStill = false;\n  var toggleTrackingSpeedbutton = document.createElement('button');\n  toggleTrackingSpeedbutton.innerHTML = 'Trackingspeed: NORMAL';\n  Object.assign(toggleTrackingSpeedbutton.style, {\n    display: tracking && structureConnected ? 'inline' : 'none',\n    float: 'right'\n  });\n  toggleTrackingSpeedbutton.addEventListener('click', function () {\n    holdDeviceStill = !holdDeviceStill;\n    toggleTrackingSpeedbutton.innerHTML = 'Trackingspeed: ' + (holdDeviceStill ? 'HIGH' : 'NORMAL');\n    var json = {\n      type: 'showHoldDeviceStill',\n      data: holdDeviceStill\n    };\n    var jobId = generateId();\n    coreInterface.emit('customTrackingInfo', jobId, JSON.stringify(json));\n  });\n  div.appendChild(toggleTrackingSpeedbutton);\n\n\n  /* Marker */\n  var markerFound = false;\n  var toggleMarkerFoundButton = document.createElement('button');\n  toggleMarkerFoundButton.innerHTML = 'Tracking: LOST';\n  Object.assign(toggleMarkerFoundButton.style, {\n    display: !structureConnected ? 'inline' : 'none',\n    float: 'right'\n  });\n  toggleMarkerFoundButton.addEventListener('click', function () {\n    markerFound = !markerFound;\n    toggleMarkerFoundButton.innerHTML = 'Tracking: ' + (markerFound ? 'FOUND' : 'LOST');\n    coreInterface.emit('trackingTargetStatusChanged', 'VCard01', markerFound ? 'found' : 'lost');\n  });\n  div.appendChild(toggleMarkerFoundButton);\n\n\n  /* Connection */\n  online = true;\n  var connectionButton = document.createElement('button');\n  connectionButton.innerHTML = 'Connection: ONLINE';\n  Object.assign(connectionButton.style, {\n    display: !structureConnected ? 'inline' : 'none',\n    float: 'right'\n  });\n  connectionButton.addEventListener('click', function () {\n    online = !online;\n    connectionButton.innerHTML = 'Connection: ' + (online ? 'ONLINE' : 'OFFLINE');\n  });\n  div.appendChild(connectionButton);\n\n}\n\nfunction getData(url) {\n  return new Promise(function(resolve, reject) {\n    if (downloadCache[url]) {\n      resolve(downloadCache[url]);\n    } else {\n      var req = new XMLHttpRequest();\n\n      req.open('GET', url, true);\n\n      req.onload = function () {\n        if (req.status == 200) {\n          downloadCache[url] = req.response;\n          resolve(req.response);\n        } else {\n          reject(new Error(req.status))\n        }\n      }\n\n      req.onerror = function () {\n        reject(new Error('XHR failed'));\n      };\n\n      req.send();\n    }\n  });\n}\n\nfunction prepareIFrame() {\n  var frame = document.createElement('iframe');\n  Object.assign(frame.style, {\n    position: 'fixed',\n    zindex: '10000',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)'\n  });\n\n  frame.width = '512px';\n  frame.height = '384px';\n\n  return frame;\n}\n\nfunction addCustomFiles(files) {\n  window.files = files;\n}\n\n//======================================================================================================================\n// UI MOCK FUNCTIONS\n//======================================================================================================================\n\nfunction addCustomStageBackgrounds(customStageBackgrounds) {\n  customStageBackgrounds['AR'] = `url('${host}/images_new/ar_background.png') center / cover no-repeat`;\n  customStageBackgrounds['Freeze'] = `url('${host}/images_new/ar_background.png') center / cover no-repeat`;\n  customStageBackgrounds['Grid'] = 'lightgrey';\n  customStageBackgrounds['VR'] = 'lightgrey';\n  customStageBackgrounds['Experience'] = `url('${host}/images_new/ar_background.png') center / cover no-repeat`\n}\n\nfunction showStageText(text) {\n  var appContainer = document.getElementById('viewar_app') || document.getElementsByTagName('body')[0];\n  var freezeExisting = document.getElementById('freezeContainer');\n  var freezeContainer = freezeExisting || document.createElement('div');\n  if (!freezeExisting) {\n    freezeContainer.id = 'freezeContainer';\n    Object.assign(freezeContainer.style, {\n      position: 'absolute',\n      top: '30%',\n      left: '50%',\n      transform: 'translate(-50%, -30%)',\n      webkitTransform: 'translate(-50%, -30%)',\n      msTransform: 'translate(-50%, -30%)',\n      mozTransform: 'translate(-50%, -30%)',\n      zIndex: '-1000',\n      height: '64px',\n      border: 'none',\n      fontSize: '5em',\n      color: 'rgba(0, 0, 0, 0.5)'\n    });\n\n    appContainer.appendChild(freezeContainer);\n  }\n  if (text) {\n    freezeContainer.innerHTML = text;\n    freezeContainer.style.display = 'block';\n  } else {\n    freezeContainer.style.display = 'none';\n  }\n}\n\nfunction showBackground(stage) {\n  var appContainer = document.getElementById('viewar_app') || document.getElementsByTagName('body')[0];\n  var background = customStageBackgrounds[stage];\n  if (background) {\n    var existing = document.getElementById('backgroundElement');\n    var backgroundElement = existing || document.createElement('div');\n    if (!existing) {\n      backgroundElement.id = 'backgroundElement';\n      Object.assign(backgroundElement.style, {\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        zIndex: '-1000000',\n        backgroundSize: 'cover',\n        left: '0',\n        top: '0'\n      });\n\n      backgroundElement.addEventListener('click', () => {\n        window.api.coreInterface.emit('selectionChanged', null);\n        selectModelImage(null);\n      });\n      appContainer.appendChild(backgroundElement);\n    }\n    backgroundElement.style.background = background;\n  }\n}\n\nasync function insertModelImage(instanceId) {\n  const modelContainer = getOrCreateModelContainer();\n\n  var modelExisting = document.getElementById('modelImage_' + instanceId);\n  var modelImage = modelExisting || document.createElement('div');\n  if (!modelExisting) {\n    modelImage.id = 'modelImage_' + instanceId;\n    Object.assign(modelImage.style, {\n      position: 'relative',\n      float: 'left',\n      zIndex: '10000',\n      padding: '2px',\n      margin: '2px',\n      border: '2px solid rgba(0,0,0,0)',\n    });\n  }\n\n  const instance = window.api.sceneManager.findNodeById(instanceId);\n  if (instance) {\n\n    let selection = instance;\n    let parentContainer = modelContainer;\n    if(selection.parent && selection.parent.id !== 'DefaultLayer') {\n      parentContainer = document.getElementById('containerImage_' + selection.parent.id);\n    }\n    parentContainer.appendChild(modelImage);\n\n    await instance.model.downloadImage();\n    modelImage.innerHTML = `<div style=\"position: relative; width: 128px; height: 128px;\"><img style=\"width: 100%; height: 100%; position: absolute;\" src=\"${instance.model.imageUrl}\"/><div style=\"position: absolute; left: 0; bottom: 0; width: 100%; color: #282f39; text-overflow: ellipsis; padding: 1em 0.1em; box-sizing: border-box; line-height: 1em; font-size: 0.9em; background: rgba(255, 255, 255, 0.7); text-align: center; overflow: hidden; white-space: nowrap; text-overflow: ellipsis;\">${instance.model.name}</div></div>`;\n\n    const onClick = e => {\n      if (currentMode === 'TouchRay') {\n        const touchResult = [{\n          instanceId,\n          intersection: [\n            {x: 0, y: 0, z: 0}\n          ]\n        }];\n        window.api.coreInterface.emit('touchRay', JSON.stringify(touchResult));\n      }\n\n      while (selection.parent && (selection.parent.type !== 'ungrouped' && selection.parent.id !== 'DefaultLayer')) {\n        selection = selection.parent;\n      }\n\n      if (!selection.model || selection.model.type !== 'environment') {\n        selectModelImage(selection.id);\n        window.api.coreInterface.emit('selectionChanged', selection.id);\n      } else {\n        selectModelImage(null);\n        window.api.coreInterface.emit('selectionChanged', null);\n      }\n\n      e.stopPropagation();\n      e.preventDefault();\n    };\n\n    modelImage.addEventListener('click', onClick);\n  } else {\n\n    let selection = insertedObj[instanceId];\n    let parentContainer = modelContainer;\n    if(selection.parent && selection.parent !== 'DefaultLayer') {\n      parentContainer = document.getElementById('containerImage_' + selection.parent);\n    }\n    parentContainer.appendChild(modelImage);\n\n    modelImage.innerHTML = '<div style=\"overflow-x: hidden; white-space: nowrap; \">' + instanceId + '</div>';\n    modelImage.addEventListener('click', e => {\n      while (selection.parent && (selection.shouldBeGrouped && selection.parent !== 'DefaultLayer')) {\n        selection = insertedObj[selection.parent];\n      }\n\n      selectModelImage(selection.id);\n      window.api.coreInterface.emit('selectionChanged', selection.id);\n\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n  insertedModelImages.set(instanceId, modelImage);\n}\n\nfunction insertContainerImage(containerId) {\n  if (modelContainerDisplayBlacklist.indexOf(containerId) > -1) {\n    return;\n  }\n\n  var modelContainer = getOrCreateModelContainer();\n  var instance = window.api.sceneManager.findNodeById(containerId);\n  var containerExisting = document.getElementById('containerImage_' + containerId);\n  var containerImage = containerExisting || document.createElement('div');\n  if (!containerExisting) {\n    containerImage.id = 'containerImage_' + containerId;\n    Object.assign(containerImage.style, {\n      position: 'relative',\n      float: 'left',\n      zIndex: '10000',\n      padding: '2px',\n      margin: '2px',\n      background: 'white',\n      border: '2px solid rgba(0,0,0,0)'\n    });\n    containerImage.innerHTML = '<div style=\"overflow-x: hidden; white-space: nowrap; \">[' + containerId.substr(0, 8) + '...]</div>';\n  }\n  if (instance) {\n\n    let selection = instance;\n    let parentContainer = modelContainer;\n    if(selection.parent && selection.parent.id !== 'DefaultLayer') {\n      parentContainer = document.getElementById('containerImage_' + selection.parent.id);\n    }\n    parentContainer.appendChild(containerImage);\n\n    containerImage.addEventListener('click', () => {\n      while (selection.parent && (selection.parent.type !== 'ungrouped' && selection.parent.id !== 'DefaultLayer')) {\n        selection = selection.parent;\n      }\n\n      if (!selection.model || selection.model.type !== 'environment') {\n        selectModelImage(selection.id);\n        window.api.coreInterface.emit('selectionChanged', selection.id);\n      } else {\n        selectModelImage(null);\n        window.api.coreInterface.emit('selectionChanged', null);\n      }\n    });\n  }else {\n\n    let selection = insertedObj[containerId];\n    let parentContainer = modelContainer;\n    if(selection.parent && selection.parent !== 'DefaultLayer') {\n      parentContainer = document.getElementById('containerImage_' + selection.parent);\n    }\n    parentContainer.appendChild(containerImage);\n\n    containerImage.addEventListener('click', e => {\n      while (selection.parent && (selection.shouldBeGrouped && selection.parent !== 'DefaultLayer')) {\n        selection = insertedObj[selection.parent];\n      }\n\n      selectModelImage(selection.id);\n      window.api.coreInterface.emit('selectionChanged', selection.id);\n\n      e.stopPropagation();\n      e.preventDefault();\n    });\n  }\n  insertedModelImages.set(containerId, containerImage);\n\n}\n\nfunction getOrCreateModelContainer() {\n  var appContainer = document.getElementById('viewar_app') || document.getElementsByTagName('body')[0];\n  var existing = document.getElementById('modelContainer');\n  var modelContainer = existing || document.createElement('div');\n  if (!existing) {\n    modelContainer.id = 'modelContainer';\n    Object.assign(modelContainer.style, {\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      maxWidth: '60%',\n      maxHeight: '60%',\n      overflowY: 'auto',\n      transform: 'translate(-50%, -50%)',\n      webkitTransform: 'translate(-50%, -50%)',\n      msTransform: 'translate(-50%, -50%)',\n      mozTransform: 'translate(-50%, -50%)',\n      zIndex: '-1000'\n    });\n    const title = document.createElement('div');\n    title.innerHTML = 'Scene Objects:';\n    Object.assign(title.style, {\n      textAlign: 'center'\n    });\n    modelContainer.appendChild(title);\n\n    modelContainer.addEventListener('click', () => {\n      window.api.coreInterface.emit('selectionChanged', null);\n      selectModelImage(null);\n    });\n\n    appContainer.appendChild(modelContainer);\n  }\n\n  modelContainer.style.display = 'block';\n  return modelContainer;\n}\n\nfunction selectModelImage(instanceId) {\n  selectedId = instanceId;\n  for (let [currentId, modelImage] of insertedModelImages) {\n    if (currentId === instanceId) {\n      Object.assign(modelImage.style, {\n        border: '2px solid red',\n        padding: '2px'\n      });\n    } else {\n      Object.assign(modelImage.style, {\n        border: '2px solid rgba(0,0,0,0)',\n        padding: '2px'\n      });\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/mock-calls.js","import { createIosAdapter } from './ios-adapter.js';\nimport { createWindowsAdapter } from './windows-adapter.js';\nimport { createAndroidAdapter } from './android-adapter.js';\nimport { createEmscriptenAdapter } from './emscripten-adapter.js';\nimport { createMockAdapter } from './mock-adapter.js';\n\nexport async function resolveAdapter(window, emitter) {\n  const adapters = [\n    createIosAdapter(window, emitter),\n    createAndroidAdapter(window, emitter),\n    createWindowsAdapter(window, emitter),\n    createEmscriptenAdapter(window, emitter),\n    createMockAdapter(window, emitter),\n  ];\n\n  for (const adapter of adapters) {\n    if (await adapter.query()) return adapter;\n  }\n\n  throw new Error('There is no interface adapter for this platform!');\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/resolve-adapter.js","import createEmitter from 'component-emitter';\nimport { parse } from '../../utils/utils';\n\nexport function createWindowsAdapter(window, coreInterface) {\n\n  return {\n    platform: 'Windows',\n\n    query,\n    initialize,\n    sendMessage,\n    triggerEvent,\n    resolveUrl,\n  };\n\n  function query() {\n    return Promise.resolve(!!(window.engine && window.engine.SendMessage));\n  }\n\n  function initialize() {\n    Object.assign(createEmitter(window.engine), {\n      checkClickThrough,\n      _trigger,\n    });\n\n    return bindingsReady();\n  }\n\n  function _trigger(...args) {\n    setTimeout(() => coreInterface.emit(...args.map(parse)), 0);\n  }\n\n  function bindingsReady() {\n    const promise = new Promise(resolve => coreInterface.once('_OnReady', resolve));\n    window.engine.BindingsReady();\n    return promise;\n  }\n\n  function sendMessage(...messageArguments) {\n    window.engine.SendMessage.apply(coreInterface, messageArguments);\n  }\n\n  function triggerEvent(...messageArguments) {\n    window.engine.TriggerEvent.apply(coreInterface, messageArguments);\n  }\n\n  function resolveUrl(relativeUrl) {\n    return `coui://${relativeUrl}`;\n  }\n\n//======================================================================================================================\n// PRIVATE INTERFACE\n//======================================================================================================================\n\n  function checkClickThrough(pageX, pageY) {\n    return consumedByUi({pageX, pageY}) ? \"Y\" : \"N\";\n  }\n\n  function consumedByUi({pageX, pageY}) {\n    const document = window.document;\n    const elem = document.elementFromPoint(pageX, pageY);\n    if (elem && elem != document.documentElement && elem != document.body && !elem.classList.contains('coui-noinput')) {\n      return elem.classList.contains('coui-inputcallback') ? elem.couiInputCallback(pageX, pageY) : true;\n    } else {\n      return false;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/adapters/windows-adapter.js","export function createEngine(global, engine, hasOnLoad) {\n  'use strict';\n\n\n  var VERSION = [1, 11, 1, 2];\n\n  function Emitter() {\n    this.events = {};\n  }\n\n  Emitter.prototype._createClear = function (object, name, handler) {\n    return function() {\n      var handlers = object.events[name];\n      if (handlers) {\n        var index = -1;\n        // this was in native previously\n        if(handler === undefined)\n        {\n          for(var i = 0; i < handlers.length; ++i)\n          {\n            if(handlers[i].wasInCPP !== undefined)\n            {\n              index = i;\n              break;\n            }\n          }\n        }\n        else\n        {\n          index = handlers.indexOf(handler);\n        }\n        if (index != -1) {\n          handlers.splice(index, 1);\n          if (handlers.length === 0) {\n            delete object.events[name];\n          }\n        }\n      } else {\n        if(engine.RemoveOnHandler !== undefined) {\n          engine.RemoveOnHandler(name);\n        }\n      }\n    };\n  };\n\n  Emitter.prototype.on = function (name, callback, context) {\n    var handlers = this.events[name];\n    if (handlers === undefined)\n      handlers = this.events[name] = [];\n\n    var handler = new Handler(callback, context || this);\n    handlers.push(handler);\n    return { clear: this._createClear(this, name, handler) };\n  };\n\n  Emitter.prototype.off = function (name, handler, context) {\n    var handlers = this.events[name];\n\n    if (handlers !== undefined) {\n      context = context || this;\n\n      var index;\n      var length = handlers.length;\n      for (index = 0; index < length; ++index) {\n        var reg = handlers[index];\n        if (reg.code == handler && reg.context == context) {\n          break;\n        }\n      }\n      if (index < length) {\n        handlers.splice(index, 1);\n        if (handlers.length === 0) {\n          delete this.events[name];\n        }\n      }\n    }\n    else\n    {\n      engine.RemoveOnHandler(name);\n    }\n  };\n\n\n  var isAttached = engine !== undefined;\n\n  engine = engine || {};\n  engine.isAttached = isAttached;\n\n  Emitter.prototype.merge = function (emitter) {\n    var lhs = this.events,\n        rhs = emitter.events,\n        push = Array.prototype.push,\n        events;\n\n    for (var e in rhs) {\n      events = lhs[e] = lhs[e] || [];\n      push.apply(events, rhs[e]);\n    }\n  };\n\n  function Handler(code, context) {\n    this.code = code;\n    this.context = context;\n  }\n\n  Emitter.prototype.trigger = function(name) {\n    var handlers = this.events[name];\n\n    if (handlers !== undefined) {\n      var args = Array.prototype.slice.call(arguments, 1);\n\n      handlers.forEach(function (handler) {\n        handler.code.apply(handler.context, args);\n      });\n    }\n  };\n\n  engine.events = {};\n  for (var property in Emitter.prototype) {\n    engine[property] = Emitter.prototype[property];\n  }\n\n  engine.on = function (name, callback, context) {\n    var handlers = this.events[name];\n\n    if (handlers === undefined && engine.AddOrRemoveOnHandler !== undefined) {\n\n      // Check where to cache the handler\n      var prevEvent = engine.AddOrRemoveOnHandler(name, callback, context);\n\n      // handler cached in C++\n      if(prevEvent === undefined) {\n        return { clear: this._createClear(this, name, undefined) };\n      }\n      handlers = this.events[name] = [];\n\n      // Add the previous handler\n      var prevHandler = new Handler(prevEvent[0], prevEvent[1] || this);\n      prevHandler.wasInCPP = true;\n      handlers.push(prevHandler);\n\n    } else if (handlers === undefined) {\n      handlers = this.events[name] = [];\n    }\n\n    var handler = new Handler(callback, context || this);\n    handlers.push(handler);\n    return { clear: this._createClear(this, name, handler) };\n  }\n\n  engine._trigger = Emitter.prototype.trigger;\n\n  var concatArguments = Array.prototype.concat;\n  engine.trigger = function (name) {\n    this._trigger.apply(this, arguments);\n    this.TriggerEvent.apply(this, arguments);\n\n    if (this.events['all'] !== undefined) {\n      var allArguments = concatArguments.apply(['all'], arguments);\n      this._trigger.apply(this, allArguments);\n    }\n  };\n\n  engine._BindingsReady = false;\n  engine._WindowLoaded = false;\n  engine._RequestId = 0;\n  engine._ActiveRequests = {};\n\n  engine.call = function () {\n    engine._RequestId++;\n    var id = engine._RequestId;\n\n    var deferred = new Promise(function (resolve, reject) {\n      engine._ActiveRequests[id] = {\n        resolve,\n        reject,\n      };\n    });\n\n    var messageArguments = Array.prototype.slice.call(arguments);\n    messageArguments.splice(1, 0, id);\n    engine.SendMessage.apply(this, messageArguments);\n    return deferred;\n  };\n\n  engine._Errors = [ 'Success', 'ArgumentType', 'NoSuchMethod', 'NoResult' ];\n\n  engine._ForEachError = function (errors, callback) {\n    var length = errors.length;\n\n    for (var i = 0; i < length; ++i) {\n      callback(errors[i].first, errors[i].second);\n    }\n  };\n\n  engine._MapErrors = function (errors) {\n    var length = errors.length;\n\n    for (var i = 0; i < length; ++i) {\n      errors[i].first = engine._Errors[errors[i].first];\n    }\n  };\n\n  engine._TriggerError = function (type, message) {\n    engine.trigger('Error', type, message);\n  };\n\n  engine._OnError = function (requestId, errors) {\n    engine._MapErrors(errors);\n\n    if (requestId === null || requestId === 0) {\n      engine._ForEachError(errors, engine._TriggerError);\n    }\n    else {\n      var deferred = engine._ActiveRequests[requestId];\n\n      delete engine._ActiveRequests[requestId];\n\n      deferred.reject(errors);\n    }\n  };\n\n  engine._eventHandles = {};\n\n  engine._Register = function (eventName) {\n    var trigger = (function (name, engine) {\n      return function () {\n        var eventArguments = [name];\n        eventArguments.push.apply(eventArguments, arguments);\n        engine.TriggerEvent.apply(this, eventArguments);\n      };\n    }(eventName, engine));\n\n    engine._eventHandles[eventName] = engine.on(eventName, trigger);\n  };\n\n  engine._removeEventThunk = function (name) {\n    var handle = engine._eventHandles[name];\n    handle.clear();\n    delete engine._eventHandles[name];\n  };\n\n  engine._Unregister = function (name) {\n    if (typeof name === 'string') {\n      engine._removeEventThunk(name);\n    } else {\n      name.forEach(engine._removeEventThunk, engine);\n    }\n  };\n\n  engine._OnReady = function () {\n    engine._BindingsReady = true;\n    if (engine._WindowLoaded) {\n      engine.trigger('Ready');\n    }\n  };\n\n  engine._OnWindowLoaded = function () {\n    engine._WindowLoaded = true;\n    if (engine._BindingsReady) {\n      engine.trigger('Ready');\n    }\n  };\n\n  engine._ThrowError = function (error) {\n    var prependTab = function (s) { return \"\\t\" + s; };\n    var errorString = error.name + \": \" + error.message + \"\\n\" +\n        error.stack.split(\"\\n\").map(prependTab).join(\"\\n\");\n    console.error(errorString);\n  };\n\n  engine._Result = function (requestId) {\n    var deferred = engine._ActiveRequests[requestId];\n    if (deferred !== undefined)\n    {\n      delete engine._ActiveRequests[requestId];\n\n      var resultArguments = Array.prototype.slice.call(arguments);\n      resultArguments.shift();\n      deferred.resolve.apply(deferred, resultArguments);\n    }\n  };\n\n  engine.initialize = function () {\n    if (hasOnLoad) {\n      global.addEventListener(\"load\", function () {\n        engine._OnWindowLoaded();\n      });\n    } else {\n      engine._WindowLoaded = true;\n    }\n\n    engine.on('_Result', engine._Result, engine);\n    engine.on('_Register', engine._Register, engine);\n    engine.on('_Unregister', engine._Unregister, engine);\n    engine.on('_OnReady', engine._OnReady, engine);\n    engine.on('_OnError', engine._OnError, engine);\n\n    const promise = new Promise(resolve => engine.on('Ready', resolve));\n\n    engine.BindingsReady(VERSION[0], VERSION[1], VERSION[2], VERSION[3]);\n\n    return promise;\n  }\n\n  return engine;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/uwp/coherent.js","import { parse, format } from '../../utils/utils';\nimport { SYNC_CALLS, ASYNC_CALLS } from '../../constants';\nimport { createEngine } from './coherent';\n\nimport { injector, AppConfig } from '../../dependencies';\n\nexport function createUwpInterface({window, logger}) {\n  let initialized = false;\n  let adapter = null;\n\n  const eventHandlers = {};\n  const resolvers = [];\n  const callHistory = [];\n\n  const appConfig = injector.resolve(AppConfig);\n\n  let nextRequestId = 10000;\n\n  const engine = createEngine(window, window.engine, true);\n\n  const coreInterface = {\n        initialize,\n        call,\n        resolveUrl,\n        on: ::engine.on,\n        once,\n        off: ::engine.off,\n        emit: ::engine.trigger,\n\n        get platform() { return 'UWP' },\n        get callHistory() { return callHistory; },\n      };\n\n  return coreInterface;\n\n//======================================================================================================================\n// INITIALIZATION\n//======================================================================================================================\n\n  async function initialize() {\n    if (!initialized) {\n      await engine.initialize();\n\n      engine.on('_Result', (requestId, response) => {\n        setTimeout(() => {\n          if (resolvers[requestId]) {\n            resolvers[requestId].resolve(response);\n            delete resolvers[requestId];\n          }\n        })\n      });\n      engine.on('_OnError', (requestId, error) => {\n        setTimeout(() => {\n          if (requestId) {\n            resolvers[requestId].reject(error);\n            delete resolvers[requestId];\n          }\n        })\n      });\n\n      await Promise.resolve().then(() => call('scriptingLayerReady'));\n\n      initialized = true;\n    }\n  }\n\n//======================================================================================================================\n// CALL\n//======================================================================================================================\n\n  function once(eventName) {\n    return new Promise(resolve => {\n      engine.on(eventName, function onceHandler(response) {\n        engine.off(eventName, onceHandler);\n        resolve(response);\n      });\n    });\n  }\n\n  function call(callName, ...messageArguments) {\n    logCall(callName, messageArguments);\n\n    if (isAsyncCall(callName)) {\n      return callAsync(callName, messageArguments.map(format), nextRequestId++).then(response => {\n        return parse(response);\n      });\n    } else {\n      return engine.call(callName, ...messageArguments.map(format)).then(parse);\n    }\n  }\n\n  function callAsync(callName, args, currentId) {\n    return new Promise((resolve, reject) => {\n      resolvers[currentId] = { resolve, reject };\n      engine.trigger(callName, currentId, ...args);\n    });\n  }\n\n  function isAsyncCall(callName) {\n    return ASYNC_CALLS.includes(callName) || (eventHandlers[callName] && !SYNC_CALLS.includes(callName));\n  }\n\n  function resolveUrl(relativeUrl) {\n    if (relativeUrl.includes('/Models/Images/')) {\n      let results = /\\/(\\w+)\\.\\w+$/.exec(relativeUrl);\n      if (results[1]) {\n        return `${appConfig.host}/model/downloadImage/display:1/size:large/id:${results[1]}`;\n      }\n    } else if (relativeUrl.includes('/CategoryImages/')) {\n      let results = /\\/(\\w+)\\.\\w+$/.exec(relativeUrl);\n      if (results[1]) {\n        return `${appConfig.host}/category/display:1/downloadImage/size:large/id:${results[1]}`;\n      }\n    } else if (relativeUrl.includes('/Models/Resources/')) {\n      let results = /\\/(\\w+)\\/([\\w#]+\\.\\w+)$/.exec(relativeUrl);\n      if (results && results[1] && results[2]) {\n        return `${appConfig.host}/resources/DownloadImage/display:1/id:${results[1]}/name:${encodeURIComponent(results[2])}`;\n      }\n    }\n    return '';\n  }\n\n//======================================================================================================================\n// DEBUG\n//======================================================================================================================\n\n  function logCall(callName, requestId, messageArguments) {\n    const logEntry = {\n      id: requestId,\n      name: callName,\n      arguments: messageArguments,\n      timestamp: new Date(),\n      trace: new Error().stack.replace(/Error\\s+/, '\\t')\n    };\n\n    if (coreInterface.callHistory.push(logEntry) === 100) {\n      coreInterface.callHistory.shift();\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/interface/uwp/uwp-interface.js","import { createAssignMembers, generateId } from '../utils/utils';\n\nexport function mixinAssemblyModel(_, $) {\n  const assignMembers = createAssignMembers(_, $);\n\n  this::assignMembers({\n    public: {\n      type: 'assembly',\n    },\n    private: {\n      completeModel: this::completeAssemblyModel,\n      instantiateModel: this::instantiateAssemblyModel,\n      downloadAssets: this::downloadAssemblyAssets,\n    }\n  });\n\n  /** @private */\n  async function completeAssemblyModel({ data, version, desc }) {\n\n    this::assignMembers({\n      public: {\n        version,\n        data,\n        description: desc,\n      },\n      private: {\n        content: data.content,\n      },\n    });\n\n    return this;\n  }\n\n  /** @private */\n  function downloadAssemblyAssets() {\n    const { content, modelManager, runDownloadJobs } = _(this);\n\n    const downloadJobs = content.map(item =>\n        () => modelManager.getModelFromRepository(item.model)\n            .then(model => (item.model = model).download()));\n\n    return runDownloadJobs(downloadJobs);\n  }\n\n  /** @private */\n  async function instantiateAssemblyModel(insertionParams) {\n    const id = generateId();\n    const { content, createContainer, createAssembly, coreInterface } = _(this);\n\n    const specification = {...insertionParams, content, id};\n\n    const containerProxy = createContainer({insertionParams, id});\n\n    const assembly = createAssembly({...specification, containerProxy, coreInterface, model: this});\n\n    $(specification.parent).addChild(assembly);\n\n    return $(assembly).insert();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/assembly-model.js","import deepCopy from 'lodash/cloneDeep';\nimport defaults from 'lodash/defaults';\nimport defaultsDeep from 'lodash/defaultsDeep';\nimport deburr from 'lodash/deburr';\n\nimport { createAssignMembers, compileMaterialInfo, generateId } from '../utils/utils';\n\nexport function mixinBasicModel(_, $) {\n  const assignMembers = createAssignMembers(_, $);\n\n  this::assignMembers({\n    public: {\n      type: 'basic',\n    },\n    private: {\n      completeModel: this::completeBasicModel,\n      instantiateModel: this::instantiateBasicModel,\n      downloadAssets: this::downloadBasicAssets,\n    }\n  });\n\n  /** @private */\n  function downloadBasicAssets() {\n    const { runDownloadJobs, coreInterface } = _(this);\n    const transferId = generateId();\n\n    return runDownloadJobs([\n      () => coreInterface.call('prepareAllModelAssets', this.id, '', transferId),\n    ]);\n  }\n\n  /** @private */\n  async function completeBasicModel(description) {\n    const { type, data, desc, materialList = [], materialDescription, parameterDescription, resources, defaultInteraction, animations, videos, version } = description;\n\n    this::assignMembers({\n      public: {\n        type,\n        data,\n        description: desc,\n        version,\n      },\n      private: {\n        resources,\n        animations,\n        videos,\n        materialDescription: compileMaterialInfo(_(this).coreInterface, materialDescription),\n        parameterDescription,\n        defaultInteraction: Object.assign(defaultInteraction, deepCopy(description.defaultInteraction)),\n        materialList,\n      }\n    });\n\n    return this;\n  }\n\n  /** @private */\n  async function instantiateBasicModel(instantiationParams, params) {\n    const instance = _(this).createModelInstance(this::prepareSpecification(instantiationParams));\n\n    $(instantiationParams.parent).addChild(instance);\n\n    return $(instance).insert(instantiationParams.pose, params);\n  }\n\n  function prepareSpecification(instantiationParams) {\n    const { materialDescription, parameterDescription, animations, videos, defaultInteraction, materialList } = _(this);\n    const { createAnimation, createVideo, createProperty } = _(this);\n\n    const defaultPropertyValues = this::getDefaultPropertyValues(materialDescription, parameterDescription);\n\n    const params = defaultsDeep(instantiationParams, {\n      id: generateId(),\n      interaction: defaultInteraction,\n      propertyValues: defaults(instantiationParams.propertyValues, instantiationParams.materials,\n          instantiationParams.parameters, defaultPropertyValues),\n    });\n\n    const playableObjects = preparePlayableObjects({instanceId: params.id, animations, videos, createAnimation, createVideo});\n\n    const properties = compileProperties(materialDescription, parameterDescription, params.propertyValues, createProperty);\n\n    const displayTemplate = compileDisplayTemplate(properties);\n\n    return {model: this, ...playableObjects, ...params, properties, displayTemplate, parameterDescription, materialList};\n  }\n\n  function getDefaultPropertyValues(materialDescription, parameterDescription) {\n    const propertyValues = {};\n\n    materialDescription\n        .filter(material => material.id)\n        .forEach(material => propertyValues[material.id] = material.options[0].id);\n\n    parameterDescription\n        .filter(parameter => parameter.name)\n        .forEach(parameter => propertyValues[parameter.name] = parameter.value.default);\n\n    return propertyValues;\n  }\n\n  function compileProperties(materialDescription, parameterDescription, propertyValues, createProperty) {\n    const materialProperties = materialDescription.map(({id: name, options}) =>\n        createProperty({name, options: options.map(({id: name, imageUrl}) => ({name, imageUrl, key: name, isValid: () => true})),\n          type: 'material', optionType: 'enumerated'}));\n\n    const geometricProperties = parameterDescription.map(({name, value}) =>\n        createProperty({name, options: value, type: 'geometric', optionType: 'range'}));\n\n    const properties = [...materialProperties, ...geometricProperties];\n    properties.forEach(property => {\n      if (property.type === 'material') {\n        const realValue = property.resolveValue(propertyValues[property.name]);\n        const mangledValue = property.resolveValue(deburr(propertyValues[property.name]).replace(/::/, '_').replace(/[^\\w_]+/g, ''));\n        property.value = realValue || mangledValue;\n      } else {\n        property.value = propertyValues[property.name];\n      }\n    });\n\n    return properties;\n  }\n\n  function compileDisplayTemplate(properties) {\n    return properties.map(property => ({\n      name: property.name,\n      properties: [{\n        name: property.name,\n        widget: getWidgetType(property),\n      }]\n    }));\n  }\n\n  function getWidgetType({type, valueType}) {\n    if (type === 'material') {\n      return 'thumbnailList'\n    } else if (type === 'geometric') {\n      if (valueType === 'range') return 'slider';\n    }\n    return 'list';\n  }\n\n  function preparePlayableObjects({instanceId, animations, videos, createAnimation, createVideo}) {\n    return {\n      animations: Object.entries(animations).map(([name, {duration}]) => createAnimation({name, instanceId, duration})),\n      videos: Object.entries(videos).map(([name]) => createVideo({name, instanceId, duration: 0})),\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/basic-model.js","import compose from 'stampit/compose';\n\nimport { wireFactory } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\n\nimport { Identifiable } from '../components/identifiable/identifiable';\nimport { CatalogItem } from '../components/catalog-item/catalog-item';\nimport { Node } from '../components/tree/node';\nimport { HasData } from '../components/has-data';\n\nimport createNamespace from '../utils/namespace';\nconst _ = createNamespace();\n\n/**\n * Part of the model category tree, contains other categories and models.\n *\n * @interface Category\n * @extends Identifiable\n * @extends CatalogItem\n * @extends Taggable\n * @extends Node\n * @extends HasData\n */\nexport const Category = compose(Identifiable, CatalogItem, Node, HasData, {\n  initializers: [function (specification) {\n    const { coreInterface } = specification;\n\n    Object.assign(_(this), {\n      coreInterface,\n    });\n  }],\n});\n\n\nexport const createCategory = wireFactory(Category, {\n  coreInterface: CoreInterface,\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/category.js","import defaults from 'lodash/defaults';\nimport deburr from 'lodash/deburr';\nimport unique from 'lodash/uniq';\nimport flatMap from 'lodash/flatMap';\n\nimport { createModel } from './model';\n\nimport { createAssignMembers, compileMaterialInfo, sanitizeModelDescription, generateId } from '../utils/utils';\n\nexport function mixinConfigurableModel(_, $) {\n  const assignMembers = createAssignMembers(_, $);\n\n  this::assignMembers({\n    public: {\n      type: 'configurable',\n    },\n    private: {\n      completeModel: this::completeConfigurableModel,\n      instantiateModel: this::instantiateConfigurableModel,\n      downloadAssets: this::downloadConfigurableAssets,\n    }\n  });\n\n  /** @private */\n  async function completeConfigurableModel(description) {\n    const { coreInterface, modelManager } = _(this);\n    const { data, desc, images, configurationDescription, version } = description;\n    const { preset, dataSource: { properties, displayTemplate } } = configurationDescription;\n\n    const foreignKeys = [];\n\n    properties.filter(prop => prop.type === 'part' && prop.valueType === 'enumerated').forEach(property => {\n      property.values.forEach(value => {\n        value.foreignKey && foreignKeys.push(value.foreignKey);\n        value.foreignKeys && foreignKeys.push(...value.foreignKeys);\n      })\n    });\n\n    const models = foreignKeys\n        .map(key => modelManager.findModelByForeignKey(key) ||\n            console.warn(`Warning! Missing part foreign key: ${key} for model ${this.id} (${this.name})!`))\n        .filter(model => !!model);\n\n    const parts = [];\n    const resourcePacks = [];\n\n    for (const model of models) {\n      if (model !== this) {\n        await model.downloadDescription();\n        parts.push(model);\n\n        if (model.resources.length) {\n          resourcePacks.push(...model.resources.map(resource => resource.id));\n        } else {\n          // KH: This is for the case that the model has no resource packs and all the materials are in the model itself.\n          // Otherwise the material thumbnails are not found.\n          resourcePacks.push(model.id);\n        }\n      } else {\n        const basicModel = createModel(description);\n        await $(basicModel).provideDescription({...description, configurationDescription: null});\n        parts.push(basicModel);\n\n        if (model.resources.length) {\n          resourcePacks.push(...model.resources.map(resource => resource.id));\n        }\n      }\n    }\n\n    const matList = await Promise.all(unique(resourcePacks).map(id => {\n      return coreInterface.call('prepareModelDescription', id).then(data => {\n        return sanitizeModelDescription(data);\n      }).then(data => data.materialDescription);\n    }));\n\n    const materialDescription = compileMaterialInfo(coreInterface, flatMap(matList));\n\n    return this::assignMembers({\n      public: {\n        version,\n        data,\n        images,\n        description: desc,\n      },\n      private: {\n        materialDescription,\n        displayTemplate,\n        preset,\n        parts,\n        properties,\n      }\n    });\n  }\n\n  /** @private */\n  async function instantiateConfigurableModel(insertionParams) {\n    const id = generateId();\n    const {\n      materialDescription, preset, parts, properties, displayTemplate,\n      createAnimation, createVideo, createProperty, createConstant, coreInterface,\n    } = _(this);\n\n    const specification = {\n      ...insertionParams, id,\n      materialDescription, preset, parts, properties,\n      createProperty, createConstant, createAnimation, createVideo,\n    };\n\n\n    Object.assign(insertionParams, {\n      id\n    });\n    const containerProxy = _(this).createContainer(insertionParams);\n\n    const configuration = _(this).createConfiguration({\n      ...specification,\n      coreInterface,\n      containerProxy,\n      displayTemplate,\n      properties: this::prepareProperties(specification),\n      model: this\n    });\n\n    $(specification.parent).addChild(configuration);\n\n    return $(configuration).insert();\n  }\n\n  /** @private */\n  function downloadConfigurableAssets() {\n    return _(this).runDownloadJobs(_(this).parts.map(part => () => part.download()));\n  }\n\n}\n\nexport function prepareProperties(specification) {\n  const { preset, properties: props, materialDescription, propertyValues = {}, createProperty } = specification;\n\n  const properties = props.map(createProperty);\n\n  properties.forEach(property => copyImageUrls(property, materialDescription));\n\n  Object.entries(defaults({}, propertyValues, preset)).forEach(([name, valueKey]) => {\n    const property = properties.find(property => property.name === name);\n    if (property) {\n      property.value = property.resolveValue(valueKey);\n      if (!property.value) {\n        property.value = [...property.values][0];\n      }\n    } else {\n      console.warn(`Warning! Found preset for unknown property \"${name}\" of model ${this.id} (${this.name})!`);\n    }\n  });\n\n  return properties;\n}\n\nfunction copyImageUrls(property, materials) {\n  [...property.values].forEach(option => {\n\n    if (!option.null) {\n      const key = option.key;\n      const oldKey = deburr('' + option.key || '').replace(/:+/g, '_').replace(/[-\\s]/g, '');\n\n      for(let alias of property.aliases) {\n        if (!option.imageUrl || option.imageUrl === '') {\n\n          const material = materials.find(options => options.id === alias);\n          if (material) {\n\n            const materialOption = material.options.find(option => option.id === key || option.id === oldKey);\n            if (materialOption) {\n              option.imageUrl = materialOption.imageUrl;\n            } else {\n              //console.warn('Material option \"' + key + '\" for material property \"' + property.name + '\" not found. Can\\'t set option thumbnail.');\n            }\n\n          }\n        }\n      }\n    }\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/configurable-model.js","import { createAssignMembers } from '../utils/utils';\n\nexport function mixinReferenceModel(_, $) {\n  const assignMembers = createAssignMembers(_, $);\n\n  this::assignMembers({\n    public: {\n      type: 'reference',\n    },\n    private: {\n      completeModel: this::completeReferenceModel,\n      instantiateModel: this::instantiateReferenceModel,\n      downloadAssets: this::downloadReferenceAssets,\n    }\n  });\n\n  /** @private */\n  async function completeReferenceModel({ data, references, version, desc }) {\n    return this::assignMembers({\n      public: {\n        version,\n        data,\n        description: desc,\n      },\n      private: {\n        references,\n      }\n    });\n  }\n\n  /** @private */\n  function downloadReferenceAssets() {\n    return _(this).runDownloadJobs(_(this).references.map(reference => () =>\n      _(this).modelManager.getModelFromRepository(reference.id).then(async (model) => {\n        if (!model) {\n          throw new Error('Model not found in database.');\n        }\n        await model.download();\n      } )\n    ));\n  }\n\n  /** @private */\n  async function instantiateReferenceModel(specification) {\n    const { references, walkCamera, modelManager, createContainer } = _(this);\n\n    const container = createContainer({...specification, type: 'ungrouped'});\n    $(specification.parent).addChild(container);\n\n    await $(container).insert();\n\n    for (const {id, name, pose} of references) {\n      const model = await modelManager.getModelFromRepository(id);\n      await model.download();\n      await $(model).instantiate({parent: container, pose, visible: !/panorama/i.exec(name) || walkCamera.active});\n    }\n    return container;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/reference-model.js","import defaults from 'lodash/defaults';\nimport deepCopy from 'lodash/cloneDeep';\nimport {generateId} from '../utils/utils.js';\n\nimport { injector } from '../dependencies';\nimport { AppUtils } from '../utils/app-utils';\n\nimport { SceneManager } from '../scene/scene-manager';\nimport { RoomManager } from '../scene/room-manager';\nimport { ProjectManager } from '../projects/project-manager';\nimport { LocalStorage } from '../storage/local';\nimport { CloudStorage } from '../storage/cloud';\n\nconst defaultSpecification = {\n  name: 'Project',\n  screenshotUrl: '',\n  info: {},\n  data: null,\n  storedInCloud: false,\n  storedLocally: false,\n  modified: false,\n  interval: null\n};\n\n/**\n * @interface Project\n */\n\nexport const createProject = injector.wireFactory(Project, {appUtils: AppUtils, sceneManager: SceneManager, roomManager: RoomManager, projectManager: ProjectManager, localStorage: LocalStorage, cloudStorage: CloudStorage});\n\nexport function Project(specification) {\n  const { appUtils, sceneManager, projectManager, localStorage, cloudStorage, roomManager } = specification;\n\n  let {\n    id,\n    name,\n    info,\n    data,\n    timestamp,\n    localScreenshotUrl,\n    cloudScreenshotUrl,\n    storedToCloud,\n    storedLocally,\n    modified,\n    updated,\n    storageKey,\n  } = defaults(specification, defaultSpecification, {id: generateId(), timestamp: Date.now()});\n\n  const project = {\n    clone,\n    loadState,\n    removeFromCloud,\n    removeLocally,\n    saveState,\n    storeLocally,\n    storeToCloud,\n\n    setRoomDescription,\n    setSceneState,\n    setTimestamp,\n    setFlags,\n\n    get id() { return id; },\n\n    get name() { return name; },\n    set name(newName) { name = newName; },\n\n    get info() { return info; },\n    set info(newInfo) { info = newInfo; },\n\n    get modified() { return modified; },\n    get screenshotUrl() { return projectManager.online ? cloudScreenshotUrl : localScreenshotUrl; },\n    get cloudScreenshotUrl() { return cloudScreenshotUrl; },\n    get localScreenshotUrl() { return localScreenshotUrl; },\n    get storedLocally() { return storedLocally; },\n    get storedToCloud() { return storedToCloud; },\n    get updated() { return updated; },\n    get timestamp() { return timestamp; }\n  };\n\n  return project;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Sets storage flags\n   * @param {object} flags\n   * @memberof Project#\n   */\n  function setFlags(flags) {\n    Object.assign({storedToCloud, storedLocally, modified}, flags);\n  }\n\n  /**\n   * Loads the scene state from the project\n   * @method\n   * @param {object} flags\n   * @returns {Promise} resolved when done.\n   * @memberof Project#\n   */\n  async function loadState() {\n    data = data || await fetchData();\n    modified = false;\n    await roomManager.addRoomToScene(data.roomDescription);\n    await sceneManager.setSceneState(data.sceneState);\n  }\n\n  /**\n   * Saves the scene state into the project\n   * @param {string} url screenshot URL\n   * @memberof Project#\n   */\n  function saveState(url = '') {\n    data = data || {};\n    data.sceneState = sceneManager.getSceneState();\n    data.roomDescription = roomManager.roomDescription;\n    localScreenshotUrl = url;\n    timestamp = Date.now();\n    modified = true;\n  }\n\n  /**\n   * Stores project to local permanent storage\n   * @method\n   * @returns {Promise} resolved when done.\n   * @memberof Project#\n   */\n  async function storeLocally() { \n    modified = false;\n\n    data = data || await fetchData();\n    storedLocally = true;\n\n    if (projectManager.online && cloudScreenshotUrl) {\n      localScreenshotUrl = '/CustomImages/' + id + '_screenshot.png';\n      await appUtils.prepareCustomImage(id + '_screenshot.png', cloudScreenshotUrl);\n    }\n\n    projectManager.projects.local[id] = project;\n    await projectManager.updateLocalProjectIndex();\n    await localStorage.write(`/Projects/${id}.json`,\n        JSON.stringify({id, name, info, timestamp, data, localScreenshotUrl, cloudScreenshotUrl}));\n\n    return true;\n  }\n\n  /**\n   * Removes project from local permanent storage\n   * @method\n   * @returns {Promise} resolved when done.\n   * @memberof Project#\n   */\n  async function removeLocally() {\n    if (storedLocally) {\n      storedLocally = false;\n      await projectManager.updateLocalProjectIndex();\n      await localStorage.remove(`/Projects/${id}.json`);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Stores project to cloud storage\n   * @method\n   * @returns {Promise} resolved when done.\n   * @memberof Project#\n   */\n  async function storeToCloud() {\n    modified = false;\n    storedToCloud = true;\n\n    if (localScreenshotUrl) {\n      let fields = {\n        storage: cloudStorage.storageKey\n      };\n      fields[id] = '@' + localScreenshotUrl;\n      await appUtils.httpPost('https://dev2.viewar.com/appstorage/uploadfiles', fields);\n      cloudScreenshotUrl = cloudStorage.createUrl('downloadfile') + '/file:' + id;\n    }\n\n    projectManager.projects.cloud[id] = project;\n    await projectManager.updateCloudProjectIndex();\n    await cloudStorage.write(`/public/Projects/${id}.json`,\n        JSON.stringify({id, name, info, timestamp, data, localScreenshotUrl, cloudScreenshotUrl})); \n\n    return true;\n  }\n\n  /**\n   * Removes project from cloud storage\n   * @method\n   * @returns {Promise} resolved when done.\n   * @memberof Project#\n   */\n  async function removeFromCloud() {\n    if (storedToCloud) {\n      storedToCloud = false;\n      await projectManager.updateCloudProjectIndex();\n      await cloudStorage.remove(`/public/Projects/${id}.json`);\n\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Creates a copy of this project and all data stored within. The copy is not automatically stored anywhere.\n   * @returns {Project}\n   * @memberof Project#\n   */\n  function clone(newSpecification) {\n    return createProject(Object.assign(newSpecification, deepCopy(specification), {id: generateId()}));\n  }\n\n//======================================================================================================================\n// PRIVILEGED INTERFACE\n//======================================================================================================================\n\n  function setSceneState(newSceneState) {\n    data.sceneState = newSceneState;\n    updated = true;\n  }\n\n  function setRoomDescription(newRoomDescription) {\n    data.roomDescription = newRoomDescription;\n    updated = true;\n  }\n\n  function setTimestamp(newTimestamp) {\n    timestamp = newTimestamp;\n    updated = true;\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  /**\n   * @private\n   */\n  async function fetchData() {\n    let provider = null;\n    if (storedLocally) {\n      provider = localStorage;\n      return data = (await provider.read(`/Projects/${id}.json`)).data;\n    } else if (storedToCloud) {\n      provider = cloudStorage;\n      return data = (await provider.read(`/public/Projects/${id}.json`)).data;\n    } else {\n      return data;\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/projects/project.js","import compose from 'stampit/compose';\nimport isEqual from 'lodash/isEqual';\n\nimport createNamespace from '../utils/namespace';\nimport { createAssignMembers } from '../utils/utils';\n\nimport { injector, $ } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\nimport { DEFAULT_POSE, DEFAULT_INTERACTION, DEFAULT_VISIBLE } from '../constants';\n\nimport { SceneNode } from '../components/scene-node/scene-node';\n\nconst _ = createNamespace();\nconst assignMembers = createAssignMembers(_, $);\n\nexport const Assembly = compose(SceneNode, {\n\n  initializers: [function (specification) {\n    const { model, containerProxy, content, coreInterface, modelManager } = specification;\n\n    this::assignMembers({\n      public: {\n        /**\n         * Model this object was instantiated from.\n         * @type {Model}\n         * @memberOf! Assembly#\n         */\n        model,\n      },\n      shared: {\n        insert: this::insert,\n        remove: this::remove,\n      },\n      private: {\n        coreInterface,\n        modelManager,\n        content,\n        containerProxy,\n        parts: [],\n      },\n    });\n  }],\n\n  methods: {\n    setPropertyValues,\n    toJSON,\n  },\n\n  propertyDescriptors: {\n    displayTemplate: { get() { return this::compileDisplayTemplate(); } },\n    properties: { get() { return this::getProperties(); } },\n    propertyValues: { get() { return this::getPropertyValues(); } },\n  },\n\n});\n\nexport const createAssembly = injector.wireFactory(Assembly, {\n  coreInterface: CoreInterface,\n});\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\nfunction getProperties() {\n  const properties = {};\n\n  _(this).containerProxy.children.forEach(child => {\n    Object.assign(properties, child.properties);\n  });\n\n  return properties;\n}\n\n/**\n * Sets values of given properties.\n * @param {object} newValues\n * @memberOf! {Assembly}\n */\nfunction setPropertyValues(newValues) {\n  return Promise.all(_(this).containerProxy.children.map(child => child.setPropertyValues(newValues)));\n}\n\nfunction getPropertyValues() {\n  const propertyValues = {};\n\n  _(this).containerProxy.children.forEach(child => {\n    Object.assign(propertyValues, child.propertyValues);\n  });\n\n  return propertyValues;\n}\n\nfunction compileDisplayTemplate() {\n  const displayTemplate = [];\n  for (const propertyId in this.properties) {\n    displayTemplate.push({\n      display: \"thumbnails\",\n      name: propertyId,\n      properties: [propertyId]\n    });\n  }\n  return displayTemplate;\n}\n\n//======================================================================================================================\n// SHARED INTERFACE\n//======================================================================================================================\n\n\nasync function insert() {\n  const {containerProxy} = _(this);\n  $(containerProxy).setParent(this.parent);\n  await $(containerProxy).insert();\n  await this::insertContent(_(this).containerProxy, _(this).content);\n  return this;\n}\n\nasync function insertContent(container, content) {\n  for (const childSpecification of content) {\n    _(this).parts.push(await $(childSpecification.model).instantiate({...childSpecification, parent: container}));\n  }\n}\n\nasync function remove() {\n  return _(this).coreInterface.call('deleteInstance', this.id);\n}\n\nfunction toJSON() {\n  const { model, propertyValues, pose, interaction, visible, id } = this;\n  return {\n    id,\n    model: model.foreignKey || model.id,\n    propertyValues,\n    pose: isEqual(pose, DEFAULT_POSE) ? undefined : pose,\n    interaction: isEqual(interaction, DEFAULT_INTERACTION) ? undefined : interaction,\n    visible: isEqual(visible, DEFAULT_VISIBLE) ? undefined : visible,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/assembly.js","import compose from 'stampit/compose';\nimport isEqual from 'lodash/isEqual';\nimport mergeWith from 'lodash/mergeWith';\nimport flatMap from 'lodash/flatMap';\nimport isArray from 'lodash/isArray';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport createNamespace from '../../utils/namespace';\nimport { wireFactory, $ } from '../../dependencies';\n\nimport { SceneNode } from '../../components/scene-node/scene-node';\nimport { DEFAULT_POSE, DEFAULT_INTERACTION, DEFAULT_VISIBLE } from '../../constants';\n\nimport { dictionarize, toValueObject, createAssignMembers } from '../../utils/utils';\nimport createValueCombinationIterator from './value-combination-iterator';\n\nconst _ = createNamespace();\nconst assignMembers = createAssignMembers(_, $);\n\nexport const Configuration = compose(SceneNode, {\n\n  initializers: [function (specification) {\n    const { model, properties, displayTemplate, containerProxy, parts, coreInterface } = specification;\n\n    this::assignMembers({\n      public: {\n        model,\n        properties: dictionarize(properties, 'name'),\n        displayTemplate,\n      },\n      shared: {\n        insert: this::insert,\n        remove: this::remove,\n      },\n      private: {\n        coreInterface,\n        containerProxy,\n        properties,\n        partsByKey: dictionarize(parts, 'foreignKey'),\n      }\n    });\n  }],\n\n  methods: {\n    setPropertyValues,\n    toJSON,\n  },\n\n  propertyDescriptors: {\n    propertyValues: { get() { return this::getPropertyValues(); }, enumerable: true, },\n    animations: { get() { return flatMap(_(this).containerProxy.children.map(child => child.animations)); }, enumerable: true, },\n    videos: { get() { return flatMap(_(this).containerProxy.children.map(child => child.videos)); }, enumerable: true, },\n  },\n\n});\n\nexport const createConfiguration = wireFactory(Configuration, {});\n\n//======================================================================================================================\n\nfunction getPropertyValues() {\n  return toValueObject(_(this).properties.map(({name, value: {key}}) => ({name, value: key})));\n}\n\nfunction setPropertyValues(newPropertyValues) {\n  return this::update(this::resolveValues(newPropertyValues));\n}\n\nfunction resolveValues(newPropertyValues) {\n  const resolvedValues = {};\n\n  Object.entries(newPropertyValues).forEach(([propertyName, value]) => {\n    if (this.properties[propertyName]) {    // KH: Check is necessary if assembly model sets property and not every child has this property.\n      const resolvedValue = this.properties[propertyName].resolveValue(value);\n      if (resolvedValue) {\n        resolvedValues[propertyName] = resolvedValue;\n      }\n    }\n  });\n\n  return resolvedValues;\n}\n\nfunction update(newPropertyValues, forceRebuild = false) {\n  const { keyPrefixes, properties } = _(this);\n\n  this::applyPropertyValues(newPropertyValues);\n\n  const insertionParams = compileInsertionParams(properties, this.propertyValues);\n\n  if (forceRebuild || !isEqual(this::getCurrentParts(), insertionParams.parts)) {\n    return this::updateInstances(insertionParams);\n  } else {\n    return this::updateParams(insertionParams);\n  }\n}\n\nfunction getCurrentParts() {\n  return _(this).containerProxy.children.map(child => child.model.foreignKey);\n}\n\nfunction applyPropertyValues(newPropertyValues) {\n  const oldValues = this.propertyValues;\n\n  const modifiedProperties = this::assignValues(newPropertyValues);\n\n  if (_(this).properties.every(property => property.hasValidValue(this))) {\n    return modifiedProperties;\n  }\n\n  const orderedProperties = [];\n  for (const property of _(this).properties.filter(property => property.valueType !== 'fixed')) {\n    if (property.hasValidValue(this)) {\n      orderedProperties.unshift(property);\n    } else {\n      orderedProperties.push(property);\n    }\n  }\n\n  for (const valueCombination of createValueCombinationIterator(orderedProperties, newPropertyValues)) {\n\n    this::assignValues(oldValues); //TODO: is there a better way of calculating modified properties?\n\n    const modifiedProperties = this::assignValues(toValueObject(valueCombination));\n\n    if (_(this).properties.every(property => property.hasValidValue(this))) {\n      return modifiedProperties;\n    }\n  }\n\n  throw new Error('Configuration conflicts could not be resolved!');\n}\n\nfunction assignValues(newValues) {\n  const modifiedProperties = Object.entries(newValues).map(([name, value]) => {\n    const property = this.properties[name];\n\n    if (value !== property.value) {\n      property.value = property.resolveValue(value);\n      return property;\n    } else {\n      return null;\n    }\n  }).filter(property => !!property);\n\n  return dictionarize(modifiedProperties, 'name');\n}\n\nfunction updateParams(params) {\n  return _(this).containerProxy.setPropertyValues(params.propertyValues);\n}\n\nasync function updateInstances({parts, propertyValues}) {\n  const { containerProxy, partsByKey, coreInterface } = _(this);\n\n  const oldInstances = [...containerProxy.children];\n\n  const instancesByModelId = {};\n  oldInstances.forEach(instance =>\n      (instancesByModelId[instance.model.id] = instancesByModelId[instance.model.id] || []).push(instance));\n\n  const models = parts\n      .map(key => partsByKey[key] || console.warn(`Warning! Missing part foreign key: ${key} for model ${this.model.id} (${this.model.name})!`))\n      .filter(model => !!model);\n\n  const parent = containerProxy;\n  const pose = SceneNode.DEFAULT_POSE;\n  const previousInstances = [];\n  const usedSnappingPoints = [];\n\n  for (const model of models) {\n    const plugPoint = getFirstSnappingPoint({model});\n    const {socketInstance, socketPoint} = getMatchingSnappingPoint(plugPoint, usedSnappingPoints, previousInstances);\n\n    if (instancesByModelId[model.id] && instancesByModelId[model.id].length) {\n      const instance = instancesByModelId[model.id].pop();\n      if (plugPoint && socketPoint) {\n        const connectionName = plugPoint.plugs[0].connection;\n        await coreInterface.call('snapTo', instance.id, plugPoint.name, socketInstance.id, socketPoint.name, connectionName);\n        usedSnappingPoints.push(socketPoint);\n      } else {\n        await instance.setPose(pose);\n      }\n      await instance.setPropertyValues(propertyValues);\n      previousInstances.push(instance);\n    } else {\n      if (plugPoint && socketPoint) {\n        const connectionName = plugPoint.plugs[0].connection;\n        const instance = await $(model).instantiate({propertyValues, parent, pose, visible: false});\n        await coreInterface.call('snapTo', instance.id, plugPoint.name, socketInstance.id, socketPoint.name, connectionName);\n        usedSnappingPoints.push(socketPoint);\n        await instance.setVisible(true);\n        previousInstances.push(instance);\n      } else {\n        previousInstances.push(await $(model).instantiate({propertyValues, parent, pose}));\n      }\n    }\n  }\n\n  await Promise.all(flatMap(Object.values(instancesByModelId)).map(async unusedInstance => {\n    $(containerProxy).removeChild(unusedInstance);\n    return $(unusedInstance).remove();\n  }));\n}\n\nfunction getFirstSnappingPoint(instance) {\n  return instance && instance.model.data.snappingpoints && instance.model.data.snappingpoints[0];\n}\n\nfunction getMatchingSnappingPoint(plugPoint, usedSnappingPoints, instances) {\n  const connectionName = plugPoint && plugPoint.plugs[0].connection;\n  for (const socketInstance of instances) {\n    const socketPoint = socketInstance.model.data.snappingpoints &&\n        socketInstance.model.data.snappingpoints.find(point =>\n            !usedSnappingPoints.includes(point) && point.sockets.find(socket => socket.connection === connectionName));\n    if (socketPoint) {\n      return {socketInstance, socketPoint};\n    }\n  }\n  return {};\n}\n\nfunction compileInsertionParams(properties, propertyValues) {\n  return mergeWith(\n      ...properties.map(property => property.getInsertionParams(propertyValues)),\n      (objValue, srcValue) => isArray(objValue) && objValue.concat(srcValue) || undefined);\n}\n\nasync function insert() {\n  const { containerProxy } = _(this);\n  $(containerProxy).setParent(this.parent);\n  await $(containerProxy).insert();\n  await this::update({}, true);\n  return this;\n}\n\nasync function remove() {\n  const { containerProxy } = _(this);\n  return containerProxy.remove();\n}\n\nfunction toJSON() {\n  const { model, propertyValues, pose, interaction, visible, id } = this;\n  return {\n    id,\n    model: model.foreignKey || model.id,\n    propertyValues,\n    pose: isEqual(pose, DEFAULT_POSE) ? undefined : pose,\n    interaction: isEqual(interaction, DEFAULT_INTERACTION) ? undefined : interaction,\n    visible: isEqual(visible, DEFAULT_VISIBLE) ? undefined : visible,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/configuration.js","import { Parser } from 'nearley';\nimport Grammar from './grammar.ne';\n\nexport function createParser() {\n  return new Parser(Grammar.ParserRules, Grammar.ParserStart);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/parser/parser.js","import compose from 'stampit/compose';\n\nimport { PATH_SEPARATOR } from '../../../constants';\n\nimport zip from 'lodash/zip';\nimport trim from 'lodash/trim';\n\nconst SEGMENT_WILDCARD = '*';\nconst REGEXP_DELIMITER = '/';\n\nexport const Pattern = compose({\n\n  initializers: [function ({expression}) {\n    this.expression = expression || this.expression;\n  }],\n\n  staticProperties: {\n    PATH_SEPARATOR,\n    SEGMENT_WILDCARD,\n    REGEXP_DELIMITER,\n  },\n\n  properties: {\n    expression: SEGMENT_WILDCARD,\n  },\n\n  methods: {\n    matches,\n  }\n\n});\n\nfunction matches(path) {\n  return (path === this.expression) || isPrefix(path, this.expression);\n}\n\nfunction isPrefix(path, expression) {\n  return zip(path.toString().split(Pattern.PATH_SEPARATOR), expression.split(Pattern.PATH_SEPARATOR))\n      .every(segmentMatchesPattern);\n}\n\nfunction segmentMatchesPattern([pathSegment, expressionSegment]) {\n  if (!pathSegment) return false;\n  if (pathSegment === expressionSegment) return true;\n  if (!expressionSegment || expressionSegment === Pattern.SEGMENT_WILDCARD) return true;\n  if (isRegExp(expressionSegment)) return parseRegExpSegment(expressionSegment).exec(pathSegment);\n\n  return false;\n}\n\nfunction isRegExp(patternSegment) {\n  return patternSegment[0] === Pattern.REGEXP_DELIMITER &&\n      patternSegment[patternSegment.length - 1] === Pattern.REGEXP_DELIMITER;\n}\n\nfunction parseRegExpSegment(expressionSegment) {\n  return new RegExp(trim(expressionSegment, Pattern.REGEXP_DELIMITER));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/parser/pattern.js","import compose from 'stampit/compose';\n\nexport const Range = compose({\n\n  initializers: [\n    initializer\n  ],\n\n  staticProperties: {\n    EXPRESSION_REGEXP: /([<\\[])(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)([>\\]])/,\n    fromRangeExpression\n  },\n\n  methods: {\n    matches,\n  }\n\n});\n\nfunction initializer({lowerBound = -Infinity, upperBound = Infinity, includeLowerBound, includeUpperBound}) {\n  this.lowerBound = lowerBound;\n  this.upperBound = upperBound;\n  this.includeLowerBound = includeLowerBound;\n  this.includeUpperBound = includeUpperBound;\n\n  this.compareLowerBound = includeLowerBound ?\n      value => value >= lowerBound :\n      value => value > lowerBound;\n\n  this.compareUpperBound = includeUpperBound ?\n      value => value <= upperBound :\n      value => value < upperBound;\n}\n\nfunction fromRangeExpression(expression) {\n  const matches = Range.EXPRESSION_REGEXP.exec(expression.trim());\n\n  const [, lowerBoundSymbol, lowerBound, upperBound, upperBoundSymbol] = matches;\n\n  return Range({\n    lowerBound,\n    upperBound,\n    includeLowerBound: lowerBoundSymbol === '[',\n    includeUpperBound: upperBoundSymbol === ']'\n  });\n}\n\nfunction matches(value) {\n  const castValue = typeof value === 'number' ? value : Number.parseFloat(value);\n\n  return this.compareLowerBound(castValue) && this.compareUpperBound(castValue);\n}\n\n\nfunction createRange(lowerBound, upperBound, includeLowerBound, includeUpperBound) {\n\n  const compareLowerBound = includeLowerBound ?\n      value => value >= lowerBound :\n      value => value > lowerBound;\n\n  const compareUpperBound = includeUpperBound ?\n      value => value <= upperBound :\n      value => value < upperBound;\n\n  return {\n    lowerBound,\n    upperBound,\n    includeLowerBound,\n    includeUpperBound,\n    matches,\n  };\n\n  function matches(value) {\n    const castValue = typeof value === 'number' ? value : Number.parseFloat(value);\n\n    return compareLowerBound(castValue) && compareUpperBound(castValue);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/parser/range.js","import compose from 'stampit/compose';\nimport isArray from 'lodash/isArray';\n\nimport { Option } from '../../option/option';\n\nexport const CategorizedProperty = compose({\n\n  initializers: [function ({values, value, rules}) {\n    this.rootOption = createOptions(values, rules) || (() => {throw new Error()})();\n    this.value = value || this.value;\n  }],\n\n  properties: {\n    valueType: 'categorized',\n  },\n\n  propertyDescriptors: {\n    values: { get() { return this.getValueIterator() } },\n  },\n\n  methods: {\n    getValueIterator,\n    resolveValue,\n  }\n\n});\n\nfunction resolveValue(key) {\n  return [...this.values].find(value => value === key || value.key === key || value.name === key);\n}\n\nfunction createOptions(optionsOrRootOption, rules) {\n  if (isArray(optionsOrRootOption)) {\n    return createOptionsRecursively({\n      name: '',\n      isValid: () => true,\n      children: optionsOrRootOption,\n    }, rules, []);\n  } else {\n    return createOptionsRecursively(optionsOrRootOption, rules, []);\n  }\n}\n\nfunction createOptionsRecursively(option, rules, parentPath) {\n  const path = [...parentPath, option.name];\n  if (option.children) {\n    return Object.assign(Option(option), {\n      isValid: createValidator(rules, path),\n      children: option.children.map(child => createOptionsRecursively(child, rules, path)),\n    });\n  } else {\n    return Option({...option, isValid: createValidator(rules, path)});\n  }\n}\n\nfunction createValidator(allRules, path) {\n  const rules = allRules.filter(rule => rule.match(path));\n  return configuration => rules.every(rule => rule.evaluate(configuration));\n}\n\nfunction* getValueIterator() {\n  if (this.children && this.children.length) {\n    for (const child of this.children) {\n      yield* child.getValueIterator();\n    }\n  } else {\n    yield this;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-options/categorized-property.js","import compose from 'stampit/compose';\n\nimport { Option } from '../../option/option';\n\nexport const EnumeratedProperty = compose({\n\n  initializers: [function ({values, value, rules}) {\n    this.options = createOptions(values, rules) || (() => {throw new Error()})();\n    this.value = value || this.value;\n  }],\n\n  properties: {\n    valueType: 'enumerated',\n  },\n\n  propertyDescriptors: {\n    values: { get() { return this.getValueIterator() } },\n  },\n\n  methods: {\n    getValueIterator,\n    resolveValue,\n  },\n\n});\n\nfunction* getValueIterator() {\n  yield* this.options[Symbol.iterator]();\n}\n\nfunction resolveValue(key) {\n  return key && this.options.find(value => value === key || value.key === key || value.key === key.key || value.name === key);\n}\n\nfunction createOptions(options, rules) {\n  return options.map(option => Option({...option, isValid: createValidator(rules, option.name)}));\n}\n\nfunction createValidator(allRules, path) {\n  const rules = allRules.filter(rule => rule.match(path));\n  return configuration => rules.every(rule => rule.evaluate(configuration));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-options/enumerated-property.js","import compose from 'stampit/compose';\nimport isInteger from 'lodash/isInteger';\nimport isString from 'lodash/isString';\nimport isObject from 'lodash/isObject';\nimport compact from 'lodash/compact';\n\nimport { Option } from '../../option/option';\n\nexport const RangeProperty = compose({\n\n  initializers: [function ({values: {min = 0, max = Number.MAX_SAFE_INTEGER, step = 1}, rules, value = 0}) {\n    this.min = min;\n    this.max = max;\n    this.step = step;\n    this.value = value;\n\n    this._rules = rules || this._rules;\n  }],\n\n  properties: {\n    valueType: 'range',\n  },\n\n  propertyDescriptors: {\n    values: { get() { return this::getValueIterator() } },\n    ranges: { get() { return this::getRanges() } },\n  },\n\n  deepProperties: {\n    _optionCache: [],\n    _rules: [],\n    _ranges: null,\n  },\n\n  methods: {\n    getRanges,\n    getValueIterator,\n    resolveValue,\n    hasValue,\n  }\n\n});\n\nfunction getRanges() {\n  if (this._ranges) return this._ranges;\n\n  const { min, max, step, _rules: rules } = this;\n\n  const startValues = [];\n\n  startValues[(min - min) / step] = {\n    value: min,\n    start: true,\n  };\n\n  startValues[(max - min) / step] = {\n    value: max,\n    end: true,\n  };\n\n  rules.forEach(({info: {lowerBound, upperBound, includeLowerBound, includeUpperBound}}) => {\n    const rangeMin = ((lowerBound - min) / step) + (includeLowerBound ? 0 : 1);\n    const rangeMax = ((upperBound - min) / step) - (includeUpperBound ? 0 : 1);\n\n    Object.assign((startValues[rangeMin] = startValues[rangeMin] || {}), {\n      value: Number.parseFloat(lowerBound) + (includeLowerBound ? 0 : step),\n      start: true,\n    });\n    if (lowerBound > min) {\n      Object.assign((startValues[rangeMin - 1] = startValues[rangeMin - 1] || {}), {\n        value: Number.parseFloat(lowerBound) - step + (includeLowerBound ? 0 : step),\n        end: true,\n      });\n    }\n    Object.assign((startValues[rangeMax] = startValues[rangeMax] || {}), {\n      value: Number.parseFloat(upperBound) - (includeUpperBound ? 0 : step),\n      end: true,\n    });\n    if (upperBound < max) {\n      Object.assign((startValues[rangeMax + 1] = startValues[rangeMax + 1] || {}), {\n        value: Number.parseFloat(upperBound) + step - (includeUpperBound ? 0 : step),\n        start: true,\n      });\n    }\n  });\n\n  const ranges = [];\n\n  const compactValues = compact(startValues);\n\n  while (compactValues.length) {\n    const start = compactValues.shift();\n    const isValid = createValidator(rules, start.value);\n    if (start.start && start.end) {\n      ranges.push({\n        min: start.value,\n        max: start.value,\n        isValid,\n      });\n    } else {\n      const end = compactValues.shift();\n      ranges.push({\n        min: start.value,\n        max: end.value,\n        isValid,\n      });\n    }\n  }\n\n  this._ranges = ranges;\n\n  return ranges;\n}\n\nfunction* getValueIterator() {\n  for (const range of this.getRanges()) {\n    if (this.value && (this.value.key >= range.min && this.value.key <= range.max)) {\n      yield this.value;\n    } else {\n      yield this.resolveValue(range.min);\n    }\n  }\n}\n\nfunction resolveValue(keyOrValue) {\n  if (isObject(keyOrValue) && this._optionCache[keyOrValue.key]) {\n    return this._optionCache[keyOrValue.key];\n  } else {\n    const numericKey = isString(keyOrValue) ? Number.parseFloat(keyOrValue) : keyOrValue;\n    if (isInteger((numericKey - this.min) / this.step)) {\n      this._optionCache[numericKey] = this._optionCache[numericKey] ||\n          Option({name: numericKey, key: numericKey, isValid: createValidator(this._rules, numericKey)});\n\n      return this._optionCache[numericKey];\n    }\n  }\n\n  return null;\n}\n\nfunction hasValue(value) {\n  return !!this._optionCache[value.key];\n}\n\nfunction createValidator(allRules, path) {\n  const rules = allRules.filter(rule => rule.match(path));\n  return configuration => rules.every(rule => rule.evaluate(configuration));\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-options/range-property.js","import compose from 'stampit/compose';\n\nexport const GeometricProperty = compose({\n\n  methods: {\n    getInsertionParams\n  },\n\n  properties: {\n    type: 'geometric',\n  },\n\n});\n\nfunction getInsertionParams(propertyValues, keyPrefixes = []) {\n  if (this.value.null) {\n    return {};\n  } else {\n    const parameters = this.aliases.map(parameterName => ({\n      [parameterName]: this.value.key,\n    }));\n\n    return {\n      propertyValues: Object.assign({}, ...parameters),\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-type/geometric-property.js","import compose from 'stampit/compose';\n\nexport const MaterialProperty = compose({\n\n  methods: {\n    getInsertionParams,\n  },\n\n  properties: {\n    type: 'material',\n  },\n\n});\n\nfunction getInsertionParams(propertyValues, keyPrefixes = []) {\n  if (this.value.null) {\n    return {};\n  } else {\n    const materials = this.aliases.map(materialName => ({\n      [materialName]: this.value.key,\n    }));\n\n    return {\n      propertyValues: Object.assign({}, ...materials),\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-type/material-property.js","import compose from 'stampit/compose';\n\nexport const NullProperty = compose({\n\n  methods: {\n    getInsertionParams,\n  },\n\n  properties: {\n    type: 'null',\n  },\n\n});\n\nfunction getInsertionParams(propertyValues, keyPrefixes = []) {\n  return {};\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-type/null-property.js","import compose from 'stampit/compose';\nimport { KEY_SEPARATOR } from '../../../../constants';\n\nexport const PartProperty = compose({\n\n  methods: {\n    getInsertionParams\n  },\n\n  properties: {\n    type: 'part',\n  },\n\n});\n\n\nfunction getInsertionParams() {\n  if (this.value.foreignKey) {\n    return {\n      parts: [this.value.foreignKey],\n    };\n  } else if (this.value.foreignKeys) {\n    return {\n      parts: this.value.foreignKeys,\n    };\n  } else if (this.value.null) {\n    return {\n      parts: [],\n    }\n  } else {\n    console.warn(`Warning! Part property ${this.name} missing foreign key for value ${this.value.name}!`);\n    return {\n      parts: [],\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/by-type/part-property.js","import compose from 'stampit/compose';\n\nexport const Constant = compose({\n\n  initializers: [function ({params}) {\n    this.params = params;\n  }],\n\n  methods: {\n    getInsertionParams,\n  }\n\n});\n\nfunction getInsertionParams() {\n  return this.params;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/constant.js","import compose from 'stampit/compose';\n\nimport { createParser } from '../parser/parser';\nimport { Pattern } from '../parser/pattern';\nimport { Range } from '../parser/range';\n\nimport { Property } from './property';\nimport { NullProperty } from './by-type/null-property';\nimport { MaterialProperty } from './by-type/material-property';\nimport { PartProperty } from './by-type/part-property';\nimport { GeometricProperty } from './by-type/geometric-property';\n\nimport { CategorizedProperty } from './by-options/categorized-property';\nimport { RangeProperty } from './by-options/range-property';\nimport { EnumeratedProperty } from './by-options/enumerated-property';\n\n//======================================================================================================================\n// PROPERTY FACTORY\n//======================================================================================================================\n\nexport function createProperty(jsonSpecification) {\n  const {type, valueType, optionType, values, options, rules = []} = jsonSpecification;\n  const factory = compose(\n      getPropertyByType(type),\n      getPropertyByValueType(valueType || optionType),\n      Property);\n\n  return factory({\n    ...jsonSpecification,\n    values: values || options,\n    rules: rules.map(createRule),\n  });\n}\n\nfunction getPropertyByType(type) {\n  switch (type) {\n    case 'part': return PartProperty;\n    case 'material': return MaterialProperty;\n    case 'geometric': return GeometricProperty;\n    case 'null': return NullProperty;\n    default : throw new Error(type + ' property type is not valid!');\n  }\n}\n\nfunction getPropertyByValueType(valueType) {\n  switch (valueType) {\n    case 'categorized': throw new Error(valueType + ' value type is not implemented yet!'); //return CategorizedProperty;\n    case 'range': return RangeProperty;\n    case 'enumerated': return EnumeratedProperty;\n    default: throw new Error(valueType + ' value type is not valid!');\n  }\n}\n\n//======================================================================================================================\n// RULE FACTORY\n//======================================================================================================================\n\nconst evaluatorMap = {};\nfunction parseCondition(condition) {\n  if (!evaluatorMap[condition]) {\n    const parser = createParser();\n    parser.feed(condition);\n    parser.finish();\n\n    if (parser.results.length !== 0) {\n      evaluatorMap[condition] = parser.results[0].fn;\n    } else {\n      throw new Error('Malformed condition: ' + condition);\n    }\n  }\n\n  return evaluatorMap[condition];\n}\n\nfunction createRule(rule) {\n  const evaluate = parseCondition(rule.condition);\n  let match = () => false;\n  let info = {};\n  const invert = rule.invert ? fn => (...args) => !fn(...args) : fn => fn;\n\n  if (rule.range || rule.matcherType === 'range') {\n    const range = Range.fromRangeExpression(rule.range);\n    info = range;\n    match = invert(range.matches.bind(range));\n  } else if (rule.value || rule.matcherType === 'value') {\n    match = invert(value => value && (value === rule.value || value === rule.matcher));\n    info = {\n      lowerBound: rule.value,\n      upperBound: rule.value,\n      includeUpperBound: true,\n      includeLowerBound: true,\n    };\n  } else if (rule.path || rule.matcherType === 'path') {\n    match = invert(value => value === (rule.path || rule.matcher));\n    info = {\n      path: rule.path,\n    };\n  } else if (rule.pattern || rule.matcherType === 'pattern') {\n    const pattern = Pattern({expression: rule.pattern || rule.matcher });\n    match = invert(pattern.matches.bind(pattern));\n  } else {\n    throw new Error('Unrecognized matcher type!');\n  }\n\n  return {\n    match,\n    info,\n    evaluate,\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/property.factory.js","import compose from 'stampit/compose';\nimport isObject from 'lodash/isObject';\n\nimport { KEY_SEPARATOR } from '../../../constants';\n\nexport const Property = compose({\n\n  initializers: [function ({name, aliases, keyPattern}) {\n    this.name = name || this.name;\n    this.keyPattern = keyPattern || [this.name];\n    this.aliases = aliases || [this.name];\n    this._value = [...this.values][0];\n  }],\n\n  staticProperties: {\n    KEY_SEPARATOR,\n  },\n\n  properties: {\n    name: '',\n    _value: null,\n  },\n\n  methods: {\n    hasValidValue,\n  },\n\n  propertyDescriptors: {\n    value: {\n      get() { return this._value; },\n      set(newValue) { this._value = this.resolveValue(isObject(newValue) && newValue.key || newValue) || this._value; },\n    },\n  },\n\n});\n\nfunction hasValidValue(configuration) {\n  return !this.value || this.value.isValid(configuration);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/property/property.js","export default function* createValueCombinationIterator([currentProperty, ...otherProperties], fixedValues = {}, combination = []) {\n  if (currentProperty) {\n    const fixedValue = fixedValues[currentProperty.name];\n\n    const values = fixedValue ? [fixedValue] : [...currentProperty.values];\n\n    const setValue = currentProperty.value;\n    const index = values.indexOf(setValue);\n    if (index !== -1) {\n      values.splice(index, 1);\n      values.unshift(setValue);\n    }\n\n    for (const value of values) {\n      yield* createValueCombinationIterator(otherProperties, fixedValues, [...combination, {name: currentProperty.name, value}]);\n    }\n  } else {\n    yield combination;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/value-combination-iterator.js","import compose from 'stampit/compose';\nimport isNil from 'lodash/isNil';\nimport isEqual from 'lodash/isEqual';\nimport mergeWith from 'lodash/mergeWith';\nimport deburr from 'lodash/deburr';\nimport pick from 'lodash/pick';\n\nimport createNamespace from '../utils/namespace';\nimport { dictionarize, toValueObject, createAssignMembers, sanitizePose, generateId } from '../utils/utils';\nimport { DEFAULT_POSE, DEFAULT_INTERACTION, DEFAULT_VISIBLE } from '../constants';\n\nimport { injector, $ } from '../dependencies';\nimport { CoreInterface } from '../interface/core-interface';\n\nimport { SceneNode } from '../components/scene-node/scene-node';\n\nconst _ = createNamespace();\nconst assignMembers = createAssignMembers(_, $);\n\n//======================================================================================================================\n// MODEL INSTANCE\n//======================================================================================================================\n\n/**\n * @typedef {Object.<string, string|number>} PropertyValues\n */\n\n/**\n * @interface Property\n */\n\n/**\n * name of the property. used when referencing the property\n * @member {string} name\n * @memberof Property#\n */\n\n/**\n * Represents an instance of a model in the scene.\n *\n * @interface ModelInstance\n * @extends SceneNode\n */\nexport const ModelInstance = compose(SceneNode, {\n\n  initializers: [function (specification) {\n    const { coreInterface } = specification;\n    const { model, animations, videos, properties, displayTemplate, parameterDescription, materialList } = specification;\n\n    this::assignMembers({\n      public: {\n        /**\n         * Model this object was instantiated from\n         * @member {Model} model\n         * @memberof ModelInstance#\n         */\n        model,\n        /**\n         * List of animations\n         * @member {Animation[]} animations\n         * @memberof ModelInstance#\n         */\n        animations,\n        /**\n         * List of videos\n         * @member {Video[]} video\n         * @memberof ModelInstance#\n         */\n        videos,\n        /**\n         * Template used for displaying instances properties\n         * @member {Array.<Object>} displayTemplate\n         * @memberof ModelInstance#\n         */\n        displayTemplate,\n        /**\n         * Dictionary of properties this instance has\n         * @member {Object.<string, Property>} properties\n         * @memberof ModelInstance#\n         */\n        properties: dictionarize(properties, 'name'),\n      },\n      shared: {\n        insert: this::insert,\n        remove: this::remove,\n      },\n      private: {\n        coreInterface,\n        properties,\n        parameterDescription,\n        materialList,\n      },\n    });\n  }],\n\n  methods: {\n    setPropertyValues,\n    toJSON,\n  },\n\n  propertyDescriptors: {\n    /**\n     * Dictionary of property values keyed by their names\n     * @member {PropertyValues} propertyValues\n     * @memberof ModelInstance#\n     */\n    propertyValues: { get() { return this::getPropertyValues(); } },\n  }\n\n});\n\nexport const createModelInstance = injector.wireFactory(ModelInstance, {\n  coreInterface: CoreInterface,\n});\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\nfunction getPropertyValues() {\n  return toValueObject(_(this).properties.map(({name, value: {key}}) => ({name, value: key})));\n}\n\n/**\n * Assigns values to one or more properties.\n * @param {PropertyValues} newValues\n * @returns {Promise.<void>} resolved when done.\n * @memberof ModelInstance#\n */\nfunction setPropertyValues(newValues) {\n  return Promise.resolve()\n      .then(() => this::updatePropertyValues(newValues))\n      .then((changedProperties) => Promise.all([\n        this::updateMaterialProperties(changedProperties),\n        this::updateGeometricProperties(changedProperties),\n      ]));\n}\n\nfunction updatePropertyValues(newPropertyValues) {\n  const currentPropertyValues = this.propertyValues;\n  const changedPropertyValues = {};\n\n  Object.entries(newPropertyValues).forEach(([name, valueKey]) => {\n    if (currentPropertyValues[name] && currentPropertyValues[name] !== valueKey) {\n      changedPropertyValues[name] = valueKey;\n    }\n  });\n\n  Object.entries(changedPropertyValues).forEach(([name, valueKey]) => {\n    const property = this.properties[name];\n    const resolvedValue =\n        property.resolveValue(deburr(valueKey).replace(/::/, '_').replace(/[^\\w_]+/g, '')) ||\n        property.resolveValue(valueKey);\n    if (resolvedValue) {\n      property.value = resolvedValue;\n    }\n  });\n\n  return changedPropertyValues;\n}\n\nfunction updateMaterialProperties(changedPropertyValues) {\n  const transferId = generateId();\n  const materialPropNames = _(this).properties.filter(property => property.type === 'material').map(prop => prop.name);\n  const values = pick(changedPropertyValues, materialPropNames);\n  console.log(this.model.foreignKey, values);\n  return _(this).coreInterface.call('applyMaterialOptions', {[this.id]: values}, '', transferId);\n}\n\nfunction updateGeometricProperties() {\n  const { parameters } = this::compilePropertyParams();\n  return _(this).coreInterface.call('setInstanceParameterGroupTransformations', this.id, parameters);\n}\n\n//======================================================================================================================\n// SHARED INTERFACE\n//======================================================================================================================\n\nasync function insert(pose, {snapTo} = {}) {\n  const transferId = generateId();\n\n  await _(this).coreInterface.call('insertModelNew', this.model.id, {\n    ...this::compileInsertionParams(),\n    pose: !snapTo && pose ? sanitizePose(pose) : undefined,\n    snapTo,\n  }, '', transferId);\n\n  $(this.model).registerInstance(this);\n  $(this).updatePose(await _(this).coreInterface.call('getInstancePose', this.id));\n  return this;\n}\n\nfunction remove() {\n  return _(this).coreInterface.call('deleteInstance', this.id);\n}\n\n//======================================================================================================================\n// PRIVATE INTERFACE\n//======================================================================================================================\n\nfunction compileInsertionParams() {\n  const { materialPickerInfo, parameters } = this::compilePropertyParams();\n\n  return {\n    instanceId: this.id,\n    highlight: this.highlight,\n    pose: this.pose,\n    materialPickerInfo,\n    parameters,\n    visible: this.visible,\n    interaction: this.interaction,\n    animations: dictionarize(this.animations.map(({name}) => ({name, state: 'stopped', loop: false, time: 0})), 'name'),\n    videos: dictionarize(this.videos.map(({name}) => ({name, state: 'stopped', loop: false, time: 0})), 'name'),\n    targetContainerId: this.parent.id,\n    shouldBeGrouped: this.parent.type !== 'ungrouped',\n  };\n}\n\nfunction compilePropertyParams() {\n  const {propertyValues: materials = {}} = mergeWith(..._(this).properties.filter(property => property.type === 'material')\n      .map(property => property.getInsertionParams(this.propertyValues)));\n  const {propertyValues: parameters = {}} = mergeWith(..._(this).properties.filter(property => property.type === 'geometric')\n      .map(property => property.getInsertionParams(this.propertyValues)));\n\n  return {\n    materialPickerInfo: Object.entries(materials).map(([name, value]) => ({groupId: name, optionId: value})),\n    parameters: this::compileParameterInfo(parameters, _(this).parameterDescription),\n  }\n}\n\nfunction compileParameterInfo(parameters, parameterDescription) {\n  const applyMapping = (newValue, {axis, scale = 1, offset = 0}) => ({[axis]: (newValue * scale + offset)});\n\n  const uvOffsetInfo = parameterDescription\n      .filter(({type}) => type === 'uvOffset')\n      .map(({mappings, name}) =>\n          mappings.reduce((object, key) =>\n              Object.assign(object, {[key]: parameters[name] || 0}), {}))\n      .reduce((object, part) => Object.assign(object, part), {});\n\n  const info = parameterDescription\n      .filter(({type}) => type === 'manipulation')\n      .map(parameter =>\n          parameter.mappings.map(mapping =>\n              ({mapping, value: parameters[parameter.name] || 0})))\n      .reduce((array, item) => array.concat(item), [])\n      .filter(({value}) => !isNil(value))\n      .reduce(function (object, {mapping: {group, translation, rotation, scaling}, value}) {\n        const param = object[group] = object[group] || {group};\n\n        param.translation = translation &&\n            Object.assign(param.translation || {}, ...translation.map(info => applyMapping(value, info)));\n        param.rotation = rotation &&\n            Object.assign(param.rotation || {}, ...rotation.map(info => applyMapping(value, info)));\n        param.scaling = scaling &&\n            Object.assign(param.scaling || {}, ...scaling.map(info => applyMapping(value, info)));\n\n        Object.assign(param, {textureOffset: uvOffsetInfo[group]});\n\n        return object;\n      }, {});\n\n  return Object.keys(info).reduce((array, key) => array.concat(info[key]), []);\n}\n\nfunction toJSON() {\n  const { model, propertyValues, pose, interaction, visible, id } = this;\n  return {\n    id,\n    model: model.foreignKey || model.id,\n    propertyValues,\n    pose: isEqual(pose, DEFAULT_POSE) ? undefined : pose,\n    interaction: isEqual(interaction, DEFAULT_INTERACTION) ? undefined : interaction,\n    visible: isEqual(visible, DEFAULT_VISIBLE) ? undefined : visible,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/model-instance.js","import createEmitter from '../../components/emitter.js';\n\nimport { injector } from '../../dependencies';\nimport { CoreInterface } from '../../interface/core-interface';\nimport { SceneManager } from '../scene-manager';\n\n/**\n * @interface Animation\n * @implements Playable\n */\nexport function Animation(specification) {\n  const { register = () => {}, coreInterface } = specification;\n\n  const { name, instanceId, duration } = specification;\n\n  let state = 'stopped';\n  let remainingDuration = -1;\n\n  const emitter = createEmitter();\n\n  const animation = Object.assign({\n    pause,\n    resume,\n    start,\n    stop,\n\n    /**\n     * Name of the animation.\n     * @type {string}\n     * @memberOf! Animation#\n     */\n    get name() { return name; },\n    /**\n     * State of the animation.\n     * @type {string}\n     * @memberOf! Animation#\n     */\n    get state() { return state; },\n    /**\n     * Duration of the animation in ms.\n     * @type {number}\n     * @memberOf! Animation#\n     */\n    get duration() { return duration; }\n  }, emitter);\n\n  register(instanceId, name, () => setAnimationState('stopped'));\n\n  return animation;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Pauses playing animation.\n   * @returns {Promise} resolved when done.\n   * @memberOf! Animation#\n   */\n  function pause() {\n    return coreInterface.call('pauseAnimation', instanceId, name).then(() => setAnimationState('paused'));\n  }\n\n  /**\n   * Resumes paused animation.\n   * @returns {Promise} resolved when done.\n   * @memberOf! Animation#\n   */\n  function resume() {\n    return coreInterface.call('resumeAnimation', instanceId, name).then(() => setAnimationState('playing'));\n  }\n\n  /**\n   * Starts the animation from specified time.\n   * @param {number?} timeInMs starting time\n   * @param {boolean?} loop whether or not the animation should loop\n   * @returns {Promise} resolved when done.\n   * @memberOf! Animation#\n   */\n  function start(timeInMs = 0, loop = false) {\n    return coreInterface.call('startAnimation', instanceId, name, timeInMs || 0, !!loop)\n        .then(function () {\n          setAnimationState('playing');\n          remainingDuration = duration * 1000 - timeInMs;\n          setTimeout(updateAnimationStatus, 100);\n          return animation;\n        });\n  }\n\n  /**\n   * Stops playing animation. Resets current time to zero.\n   * @returns {Promise} resolved when done.\n   * @memberOf! Animation#\n   */\n  function stop() {\n    return coreInterface.call('stopAnimation', instanceId, name).then(() => setAnimationState('stopped'));\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function setAnimationState(newState) {\n    state = newState;\n    animation.emit('stateChanged', state);\n\n    return animation;\n  }\n\n  function updateAnimationStatus() {\n    // TODO: Remove all logic related to remainingDuration (and the code block below) after the notification 'animationEnded' has been implemented in the UI [VCS-917].\n    if (state !== 'playing') {\n      return;\n    }\n    remainingDuration -= 100;\n    if (remainingDuration <= 0) {\n      coreInterface.emit('animationEnded', name, instanceId);\n    } else {\n      setTimeout(updateAnimationStatus, 100);\n    }\n  }\n\n}\n\nexport const createAnimation = injector.wireFactory(Animation, {\n  coreInterface: CoreInterface,\n});\n\n\n/**\n * Interface for objects that represent streamable content\n *\n * @interface Playable\n */\n\n/**\n * Starts the streaming.\n *\n * @function\n * @name Playable#start\n * @param timeInMs {number} timestamp to start from\n * @param loop {boolean} if true the streamable will restart after finishing\n * @returns {Promise} resolved when done.\n */\n\n/**\n * Stops the streaming.\n *\n * @function\n * @name Playable#stop\n * @returns {Promise} resolved when done.\n */\n\n/**\n * Resumes the streaming.\n *\n * @function\n * @name Playable#resume\n * @returns {Promise} resolved when done.\n */\n\n/**\n * Pauses the streaming.\n *\n * @function\n * @name Playable#pause\n * @returns {Promise} resolved when done.\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/playable/animation.js","import createEmitter from '../../components/emitter.js';\n\nimport { injector } from '../../dependencies';\nimport { CoreInterface } from '../../interface/core-interface';\nimport { SceneManager } from '../scene-manager';\n\n\n/**\n * @interface Video\n * @implements Playable\n */\nexport function Video(specification) {\n  const { register = () => {}, coreInterface } = specification;\n\n  const { name, instanceId } = specification;\n\n  let state = 'stopped';\n\n  const emitter = createEmitter();\n\n  const video = Object.assign({\n    pause,\n    resume,\n    start,\n    stop,\n\n    /**\n     * Name of the video.\n     * @type {string}\n     * @memberOf! Video#\n     */\n    get name() { return name; },\n    /**\n     * State of the video.\n     * @type {string}\n     * @memberOf! video#\n     */\n    get state() { return state; },\n  }, emitter);\n\n  register(instanceId, name, () => setVideoState('stopped'));\n\n  return video;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  function init() {\n    coreInterface.on('videoEnded', playableEnded);\n    coreInterface.on('animationEnded', playableEnded);\n  }\n\n  function playableEnded(name, instanceId) {\n    avRegistry[instanceId] && avRegistry[instanceId][name] && avRegistry[instanceId][name]();\n  }\n\n  /**\n   * Pauses playing animation.\n   * @returns {Promise} resolved when done.\n   * @memberOf! Video#\n   */\n  function pause() {\n    return coreInterface.call('pauseVideo', instanceId, name).then(() => setVideoState('paused'));\n  }\n\n  /**\n   * Resumes paused animation.\n   * @returns {Promise} resolved when done.\n   * @memberOf! Video#\n   */\n  function resume() {\n    return coreInterface.call('resumeVideo', instanceId, name).then(() => setVideoState('playing'));\n  }\n\n  /**\n   * Starts the animation from specified time.\n   * @param {number?} timeInMs starting time\n   * @param {boolean?} loop whether or not the animation should loop\n   * @returns {Promise} resolved when done.\n   * @memberOf! Video#\n   */\n  function start(timeInMs = 0, loop = false) {\n    return coreInterface.call('startVideo', instanceId, name, timeInMs, loop).then(() => setVideoState('playing'));\n  }\n\n  /**\n   * Stops playing animation. Resets current time to zero.\n   * @returns {Promise} resolved when done.\n   * @memberOf! Video#\n   */\n  function stop() {\n    return coreInterface.call('stopVideo', instanceId, name).then(() => setVideoState('stopped'));\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function setVideoState(newState) {\n    state = newState;\n    video.emit('stateChanged', state);\n\n    return video;\n  }\n\n}\n\nexport const createVideo = injector.wireFactory(Video, {\n  coreInterface: CoreInterface,\n});\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/playable/video.js","export function updateScene(oldScene, newScene, { addNode, removeNode, updateNode, moveNode }, emit = () => {}) {\n\n  const { nodesToAdd, nodesToUpdate, nodesToRemove, nodesToMove } = analyzeNodes(null, oldScene, newScene);\n\n  const totalCount = nodesToAdd.length + nodesToUpdate.length + nodesToRemove.length;\n\n  let currentItem = 0;\n  emit('sceneStateUpdateStarted', totalCount);\n\n  function updateCount() {\n    emit('sceneStateUpdateProgress', ++currentItem, totalCount);\n  }\n\n  return Promise.all([\n    Promise.all(nodesToUpdate.map(info => updateNode(info).then(updateCount))),\n    Promise.all(nodesToRemove.map(node => removeNode(node).then(updateCount))),\n    Promise.all(nodesToMove.map(node => moveNode(node).then(updateCount))),\n    Promise.all(nodesToAdd.map(node => addNode(node.parent, node.specification).then(updateCount))),\n  ]).then(() => emit('sceneStateUpdateCompleted'));\n\n}\n\nexport function analyzeNodes(parent, oldScene, newScene) {\n  const nodesToUpdate = {};\n  const nodesToAdd = {};\n  const nodesToRemove = {};\n  const nodesToMove = {};\n\n  compareNodes(parent, oldScene, newScene);\n\n  function compareNodes(parent, oldSceneNode, newSceneNode) {\n    if (oldSceneNode && newSceneNode) {\n      nodesToUpdate[oldSceneNode.id] = ({oldSceneNode, newSceneNode});\n      if (oldSceneNode.children && newSceneNode.children) {\n        const children = {};\n\n        oldSceneNode.children.forEach(oldChild => children[oldChild.id] = Object.assign({}, children[oldChild.id], {oldChild}));\n        newSceneNode.children.forEach(newChild => children[newChild.id] = Object.assign({}, children[newChild.id], {newChild}));\n\n        Object.values(children).forEach(({oldChild, newChild}) => compareNodes(oldSceneNode, oldChild, newChild));\n      }\n    } else if (!oldSceneNode && newSceneNode) {\n      if (nodesToRemove[newSceneNode.id]) {\n        nodesToMove[newSceneNode.id] = {node: nodesToRemove[newSceneNode.id], parent};\n        delete nodesToRemove[newSceneNode.id];\n      } else {\n        nodesToAdd[newSceneNode.id] = {parent, specification: newSceneNode};\n      }\n    } else if (!newSceneNode && oldSceneNode) {\n      if (nodesToAdd[oldSceneNode.id]) {\n        nodesToMove[oldSceneNode.id] = {node: nodesToAdd[oldSceneNode.id], parent: nodesToAdd[oldSceneNode.id].parent};\n        delete nodesToAdd[oldSceneNode.id];\n      } else {\n        nodesToRemove[oldSceneNode.id] = oldSceneNode;\n      }\n    }\n  }\n\n  return {\n    nodesToAdd: Object.values(nodesToAdd),\n    nodesToUpdate: Object.values(nodesToUpdate),\n    nodesToMove: Object.values(nodesToMove),\n    nodesToRemove: Object.values(nodesToRemove),\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/update-scene.js","import mixinEmitter from 'component-emitter';\n\n/**\n * @private\n * @interface ARKitProvider\n * @emits trackingTargetStatusChanged\n */\n\n/**\n * @private\n * @returns ARKitProvider\n */\nexport default function createARKitProvider(specification) {\n  const name = 'ARKit';\n  const { coreInterface, initiallyActive } = specification;\n\n  if (initiallyActive) {\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n  }\n\n  let active = initiallyActive;\n  let tracking = false;\n  let groundConfirmed = false;\n\n  const arKitProvider = Object.assign({\n    activate,\n    deactivate,\n    reset,\n    confirmGroundPosition,\n\n    get active() { return active; },\n    get tracking() { return tracking; },\n    get groundConfirmed() { return groundConfirmed; },\n  });\n\n  mixinEmitter(arKitProvider);\n\n  return arKitProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! ARKitProvider#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          tracking = false;\n          groundConfirmed = false;\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! ARKitProvider#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          tracking = false;\n          groundConfirmed = false;\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! ARKitProvider#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Confirms ground position to start feature tracking.\n   * @returns {Promise} resolved when done.\n   * @memberOf! ARKitProvider#\n   */\n  function confirmGroundPosition() {\n    return coreInterface.call('confirmGroundPosition', name).then(() => groundConfirmed = true);\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  async function handleTrackingTargetStatusChanged(targetName, event) {\n    tracking = event === 'found';\n\n    if (tracking) {\n      await confirmGroundPosition();\n    }\n    arKitProvider.emit('trackingTargetStatusChanged', tracking);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/arkit-provider.js","import mixinEmitter from 'component-emitter';\n\nconst defaults = {\n  name: 'GoogleTango'\n};\n\nexport default function createGoogleTangoProvider(specification) {\n\n  const {coreInterface, $privileged} = specification;\n\n  let {name} = Object.assign({}, defaults, specification);\n\n  const supportsSlam = false;  // No marker question from home, remove activate/deactivate use marker in toolbar,\n\n  let active = false;\n  let tracking = true;\n  let groundConfirmed = false;\n  let areaDefinitions = [];\n\n  const googleTangoProvider = {\n    activate,\n    deactivate,\n    confirmGroundPosition,\n    reset,\n    resetAreaDefintion,\n    saveAreaDefinition,\n    loadAreaDefinition,\n    deleteAreaDefinition,\n    readAreaDefinitions,\n\n    get areaDefinitions() { return areaDefinitions; },\n    get active() { return active; },\n    get groundConfirmed() { return groundConfirmed },\n    get name() { return name; },\n    get tracking() { return tracking; },\n    get targets() { return []; },\n    get supportsSlam() { return supportsSlam; }\n  };\n\n  mixinEmitter(googleTangoProvider);\n\n  return googleTangoProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          groundConfirmed = false;\n          tracking = false;\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          groundConfirmed = false;\n          tracking = false;\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  function resetAreaDefintion() {\n    return loadAreaDefinition('');\n  }\n\n  async function saveAreaDefinition(areaDefinitionName) {\n    const fileName = '';  // Ignored argument for google tango.\n    await coreInterface.call('saveFeaturetrackingMap', name, fileName, areaDefinitionName);\n  }\n\n  function loadAreaDefinition(areaDefinitionName) {\n    const fileName = '';  // Ignored argument for google tango.\n    return coreInterface.call('loadFeaturetrackingMap', name, fileName, areaDefinitionName);\n  }\n\n  function deleteAreaDefinition(areaDefinitionName) {\n    const fileName = '';  // Ignored argument for google tango.\n    return coreInterface.call('deleteFeaturetrackingMap', name, fileName, areaDefinitionName);\n  }\n\n  async function readAreaDefinitions() {\n    const areaDefinitionsJSON = await coreInterface.call('customTrackingCommand', name, 'getADFsInfo', '');\n    if (areaDefinitionsJSON) {\n      areaDefinitions = JSON.parse(areaDefinitionsJSON);\n    } else {\n      areaDefinitions = [];\n    }\n\n    return areaDefinitions;\n  }\n\n  function confirmGroundPosition() {\n    groundConfirmed = true;\n    return coreInterface.call('confirmGroundPosition', name);\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    tracking = event === 'found';\n    googleTangoProvider.emit('trackingTargetStatusChanged', tracking);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/google-tango-provider.js","import mixinEmitter from 'component-emitter';\n\n/**\n * @private\n * @interface KudanProvider\n * @emits trackingTargetStatusChanged\n */\n\n/**\n * @private\n * @returns KudanProvider\n */\nexport default function createKudanProvider(specification) {\n  const name = 'Kudan';\n  const { coreInterface, initiallyActive } = specification;\n\n  if (initiallyActive) {\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n  }\n\n  let active = initiallyActive;\n  let tracking = false;\n  let groundConfirmed = false;\n\n  let floorOffset = 1400;\n\n  const kudanProvider = Object.assign({\n    activate,\n    deactivate,\n    reset,\n    confirmGroundPosition,\n\n    get active() { return active; },\n    get tracking() { return tracking; },\n    get groundConfirmed() { return groundConfirmed; },\n\n    //===== CUSTOM MEMBERS =====\n\n    setFloorOffset,\n    getFloorOffset,\n\n    get floorOffset() { return floorOffset; },\n  });\n\n  mixinEmitter(kudanProvider);\n\n  return kudanProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! KudanProvider#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          tracking = false;\n          groundConfirmed = false;\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! KudanProvider#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          tracking = false;\n          groundConfirmed = false;\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! KudanProvider#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Confirms ground position to start feature tracking.\n   * @returns {Promise} resolved when done.\n   * @memberOf! KudanProvider#\n   */\n  function confirmGroundPosition() {\n    return coreInterface.call('confirmGroundPosition', name).then(() => groundConfirmed = true);\n  }\n\n  /**\n   * Sets the current floor offset. The scene will be adjusted vertically according to this offset.\n   * @param {number} height\n   * @returns {Promise} resolved when done.\n   * @memberOf! KudanProvider#\n   */\n  function setFloorOffset(height) {\n    if (typeof height === 'number') {\n      floorOffset = height;\n      return coreInterface.call('customTrackingCommand', name, 'setFloorOffset', JSON.stringify(height));\n    } else {\n      console.warn('Can\\'t set floor offset, given height is not a number.');\n      return Promise.resolve();\n    }\n  }\n\n  /**\n   * Retrieves the current floor offset.\n   * @returns {Promise.<number>} resolved when done.\n   * @memberOf! KudanProvider#\n   */\n  async function getFloorOffset() {\n    floorOffset = await coreInterface.call('customTrackingCommand', name, 'getFloorOffset', '{}');\n    return floorOffset;\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    tracking = event === 'found';\n    kudanProvider.emit('trackingTargetStatusChanged', tracking);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/kudan-provider.js","import mixinEmitter from 'component-emitter';\n\nexport default function createMockProvider() {\n\n  return mixinEmitter({\n    activate: () => Promise.resolve(),\n    deactivate: () => Promise.resolve(),\n    reset: () => Promise.resolve(),\n    confirmGroundPosition: () => Promise.resolve(),\n    setFloorOffset: () => Promise.resolve(),\n    startMeshScan: () => Promise.resolve(),\n    stopMeshScan: () => Promise.resolve(),\n    resetMeshScan: () => Promise.resolve(),\n    setScanVolume: () => Promise.resolve(),\n    getMeshList: () => Promise.resolve([]),\n    getFloorOffset: () => Promise.resolve(),\n    getStatus: () => Promise.resolve({}),\n    getTrackingQuality: () => Promise.resolve(0),\n\n    active: false,\n    groundConfirmed: false,\n    name: 'Mock',\n    tracking: false,\n    targets: [],\n    floorOffset: 0,\n    supportsSlam: false,\n    meshScanning: false,\n    quality: 0,\n    scanVolume: {},\n    sensorStatus: {}\n  });\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/mock-provider.js","import mixinEmitter from 'component-emitter';\nimport createMesh from './mesh.js';\n\n/**\n * @private\n * @interface RealSenseProvider\n * @emits trackingTargetStatusChanged\n */\n\n/**\n * @private\n * @returns RealSenseProvider\n */\nexport default function createRealSenseProvider(specification) {\n  const name = 'RealSense';\n  const { coreInterface, initiallyActive } = specification;\n\n  if (initiallyActive) {\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n    coreInterface.on('trackingFeedback', handleTrackingFeedback);\n  }\n\n  let active = initiallyActive;\n  let tracking = false;\n  let groundConfirmed = false;\n\n  let quality = 0;\n  let meshScanning = false;\n\n  const realSenseProvider = mixinEmitter({\n    activate,\n    deactivate,\n    reset,\n    confirmGroundPosition,\n\n    get active() { return active; },\n    get tracking() { return true; },\n    get groundConfirmed() { return groundConfirmed },\n\n    //===== CUSTOM MEMBERS =====\n\n    startMeshScan,\n    stopMeshScan,\n    resetMeshScan,\n    getMeshList,\n\n    get meshScanning() { return meshScanning; },\n\n    //===== CUSTOM MEMBERS =====\n\n    getStatus,\n    get quality() { return quality; },\n  });\n\n  return realSenseProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  function getStatus() {\n    return Promise.resolve({\n      sensorBatteryLevel: 1,\n      sensorConnected: true,\n      isStreaming: true\n    });\n  }\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        coreInterface.on('trackingFeedback', handleTrackingFeedback);\n        return coreInterface.call('startTracking', name).then(() => {\n          meshScanning = false;\n          groundConfirmed = false;\n          tracking = false;\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        coreInterface.off('trackingFeedback', handleTrackingFeedback);\n        return coreInterface.call('stopTracking', name).then(() => {\n          meshScanning = false;\n          groundConfirmed = false;\n          tracking = false;\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Starts mesh scan.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function startMeshScan() {\n    meshScanning = true;\n    return coreInterface.call('startMeshScan');\n  }\n\n  /**\n   * Stops mesh scan.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function stopMeshScan() {\n    meshScanning = false;\n    return coreInterface.call('stopMeshScan');\n  }\n\n  /**\n   * Resets mesh scan. Previously scanned mesh is lost.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function resetMeshScan() {\n    meshScanning = false;\n    return coreInterface.call('resetMeshScan');\n  }\n\n  /**\n   * Confirms ground position to start feature tracking.\n   * @returns {Promise} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function confirmGroundPosition() {\n    groundConfirmed = true;\n    return coreInterface.call('confirmGroundPosition', name);\n  }\n\n  /**\n   * Retrieves the list of stored meshes.\n   * @returns {Promise.<Array<Mesh>>} resolved when done.\n   * @memberOf! RealSenseProvider#\n   */\n  function getMeshList() {\n    return coreInterface.call('getMeshList')\n        .map(meshInfo => createMesh(Object.assign({}, meshInfo, {coreInterface})));\n  }\n\n  function handleTrackingFeedback(quality = 0) {\n    realSenseProvider.emit('trackingQualityChanged', quality);\n  }\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    tracking = event === 'found';\n    realSenseProvider.emit('trackingTargetStatusChanged', tracking);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/realsense-provider.js","import mixinEmitter from 'component-emitter';\nimport createMesh from './mesh.js';\n\n/**\n * @private\n * @interface StructureProvider\n * @emits trackingStatusChanged\n */\n\n/**\n * @private\n * @returns StructureProvider\n */\nexport default function createStructureProvider(specification) {\n  const name = 'Structure';\n  const { coreInterface, initiallyActive } = specification;\n\n  if (initiallyActive) {\n    coreInterface.on('customTrackingInfo', handleTrackingStatusUpdate);\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n  }\n\n  let active = initiallyActive;\n  let tracking = false;\n  let groundConfirmed = false;\n\n  let scanningMesh = false;\n  let scanInfo = {};\n  let sensorStatus = {\n    connected: false,\n    batteryLow: false,\n    movingTooFast: false\n  };\n\n  const structureProvider = mixinEmitter({\n    activate,\n    deactivate,\n    reset,\n    confirmGroundPosition,\n\n    /**\n     * activation status\n     * @type {boolean}\n     * @memberOf! StructureProvider#\n     */\n    get active() { return active; },\n    /**\n     * tracking status\n     * @type {boolean}\n     * @memberOf! StructureProvider#\n     */\n    get tracking() { return tracking },\n    /**\n     * ground origin status\n     * @type {boolean}\n     * @memberOf! StructureProvider#\n     */\n    get groundConfirmed() { return groundConfirmed },\n\n    //===== MESH SCANNING =====\n\n    resetMeshScan,\n    startMeshScan,\n    stopMeshScan,\n    getMeshList,\n\n    /**\n     * mesh scan status\n     * @type {boolean}\n     * @memberOf! StructureProvider#\n     */\n    get scanning() { return scanningMesh; },\n\n    //===== CUSTOM MEMBERS =====\n\n    setScanVolume,\n    getStatus,\n    getTrackingQuality,\n    get scanVolume() { return scanInfo; },\n    get sensorStatus() { return sensorStatus; },\n  });\n\n  return structureProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('customTrackingInfo', handleTrackingStatusUpdate);\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          scanningMesh = false;\n          groundConfirmed = false;\n          tracking = false;\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('customTrackingInfo', handleTrackingStatusUpdate);\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          scanningMesh = false;\n          groundConfirmed = false;\n          tracking = false;\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Starts mesh scan.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function startMeshScan() {\n    scanningMesh = true;\n    return coreInterface.call('startMeshScan');\n  }\n\n  /**\n   * Stops mesh scan.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function stopMeshScan() {\n    scanningMesh = false;\n    return coreInterface.call('stopMeshScan');\n  }\n\n  /**\n   * Resets mesh scan. Previously scanned mesh is lost.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function resetMeshScan() {\n    scanningMesh = false;\n    return coreInterface.call('resetMeshScan');\n  }\n\n  /**\n   * Confirms ground position to start feature tracking.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function confirmGroundPosition() {\n    groundConfirmed = true;\n    return coreInterface.call('confirmGroundPosition', name);\n  }\n\n  /**\n   *\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function colorizeMesh() {\n    return coreInterface.call('colorizeMesh');\n  }\n\n  /**\n   * Fills any holes in the scanned mesh, creating a closed body.\n   * @returns {Promise} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function fillMeshHoles() {\n    return coreInterface.call('fillMeshHoles');\n  }\n\n  /**\n   * Retrieves the list of stored meshes.\n   * @returns {Promise.<Array<Mesh>>} resolved when done.\n   * @memberOf! StructureProvider#\n   */\n  function getMeshList() {\n    return coreInterface.call('getMeshList')\n        .map(meshInfo => createMesh(Object.assign({}, meshInfo, {coreInterface})));\n  }\n\n  /**\n   * TODO\n   * @param newScanInfo\n   * @param resetTracking\n   * @returns {Promise.<TResult>}\n   */\n  function setScanVolume(newScanInfo, resetTracking) {\n    return Promise.resolve()\n      .then(() => coreInterface.call('customTrackingCommand',\n          name, 'setInitialVolumeSize', JSON.stringify(newScanInfo.size)))\n      .then(() => coreInterface.call('customTrackingCommand',\n          name, 'setInitialVolumeResolution', JSON.stringify(newScanInfo.resolution)))\n      .then(() => coreInterface.call('customTrackingCommand',\n          name, 'setInitialVolumeOffset', JSON.stringify(newScanInfo.offset)))\n      .then(() => resetTracking && reset())\n      .then(() => Object.assign(scanInfo, newScanInfo));\n  }\n\n  /**\n   * Retrieves current tracker status\n   * @returns Promise.<Object> resolves with status info object\n   * @memberOf! StructureProvider#\n   */\n  function getStatus() {\n    return coreInterface.call('customTrackingCommand', name, 'getStatus', '');\n  }\n\n  /**\n   * Retrieves current quality of tracking. Quality declines in environments with a lot of sunlight.\n   * @returns Promise.<string> resolves with string describing quality\n   * @memberOf! StructureProvider#\n   */\n  function getTrackingQuality() {\n    return coreInterface.call('trackingFeedback');\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    tracking = event === 'found';\n    structureProvider.emit('trackingTargetStatusChanged', tracking);\n  }\n\n  function handleTrackingStatusUpdate(target, info) {\n    if (info !== undefined) {\n      switch (info.type) {\n        case 'showHoldDeviceStill':\n          if (info.data === true) {\n            structureProvider.emit('trackingSpeedHigh', target);\n            sensorStatus.movingTooFast = true;\n          } else {\n            structureProvider.emit('trackingSpeedNormal', target);\n            sensorStatus.movingTooFast = false;\n          }\n          break;\n        case 'showBatteryNeedsCharging':\n          if (info.data === true) {\n            structureProvider.emit('trackingBatteryNeedsCharging', target);\n            sensorStatus.batteryLow = true;\n          } else {\n            structureProvider.emit('trackingBatteryNeedsNoCharging', target);\n            sensorStatus.batteryLow = false;\n          }\n          break;\n        case 'showConnectSensor':\n          if (info.data === true) {\n            structureProvider.emit('trackingSensorDisconnected', target);\n            sensorStatus.connected = true;\n          } else {\n            structureProvider.emit('trackingSensorConnected', target);\n            sensorStatus.connected = false;\n          }\n          break;\n        case 'skinningProgress':\n          structureProvider.emit('skinningProgressUpdate', info.data);\n          break;\n        case 'holeFillProgress':\n          structureProvider.emit('holeFillProgressUpdate', info.data);\n          break;\n        case 'skinningFinished':\n          structureProvider.emit('skinningFinished', target);\n          break;\n        case 'holeFillFinished':\n          structureProvider.emit('holeFillFinished', target);\n          break;\n      }\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/structure-provider.js","import mixinEmitter from 'component-emitter';\nimport { createTrackingTarget } from './tracking-target.js';\n\n/**\n * @interface VisionLibTracker\n * @extends ProtectedEmitter\n * @emits VisionLibTracker#trackingStatusChanged\n * @emits VisionLibTracker#trackingTargetStatusChanged\n */\n\n/**\n * @private\n * @returns VisionLibTracker\n */\nexport default function createVisionLibProvider(specification) {\n  const name = 'VisionLib';\n  const { coreInterface } = specification;\n  const { targets: rawTargets = [], initiallyActive } = specification;\n\n  const targets = rawTargets.map(createTrackingTarget);\n  targets.push(createTrackingTarget({name: \"UserTarget\"}));\n\n  if (initiallyActive) {\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n  }\n\n  let active = initiallyActive;\n\n  const visionLibProvider = mixinEmitter({\n    activate,\n    deactivate,\n    reset,\n\n    captureUserTarget,\n    removeUserTarget,\n\n    /**\n     * @type {boolean}\n     * @memberOf! VisionlibTracker#\n     */\n    get active() { return active; },\n    /**\n     * @type {boolean}\n     * @memberOf! VisionlibTracker#\n     */\n    get tracking() { return targets.some(target => target.tracked); },\n    /**\n     * @type {Array<TrackingTarget>}\n     * @memberOf! VisionlibTracker#\n     */\n    get targets() { return targets; },\n  });\n\n  return visionLibProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VisionlibTracker#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VisionlibTracker#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker. Resets all tracking targets.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VisionlibTracker#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Captures a user target from the current camera input.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VisionlibTracker#\n   */\n  function captureUserTarget(size) {\n    return new Promise(function(resolve) {\n      coreInterface.on('customTrackingInfo', function (target, event) {\n        if ((target === name || target === 'Qualcomm') && event !== undefined) {\n          const info = event;\n          switch (info.status) {\n            case 'userTargetCaptured':\n              resolve(true);\n              break;\n            case 'userTargetFailed':\n              resolve(false);\n              break;\n            case 'userTargetLowFrameQualityWarning':\n              visionLibProvider.emit('userTargetLowQuality');\n              break;\n          }\n        }\n      });\n      return coreInterface.call('customTrackingCommand', name, 'captureUserTarget', JSON.stringify(size));\n    });\n  }\n\n  /**\n   * Removes the previously captures user target.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VisionlibTracker#\n   */\n  function removeUserTarget() {\n    return coreInterface.call('customTrackingCommand', name, 'removeUserTarget', '');\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    let target = targets.find(target => target.name === targetName);\n\n    if (target) {\n      target._setTracked(event);\n\n      let trackedTargets = targets.filter(target => target.tracked);\n      let untrackedTargets = targets.filter(target => !target.tracked);\n\n      visionLibProvider.emit('trackingTargetStatusChanged', target);\n      visionLibProvider.emit('trackingStatusChanged', {target, trackedTargets, untrackedTargets});\n    } else {\n      console.warn('Unrecognized tracking target: %s', targetName);\n    }\n  }\n\n}\n\n/**\n * @event VisionlibTracker#trackingTargetStatusChanged\n * @param {TrackingTarget} target\n */\n\n\n/**\n * @event VisionlibTracker#trackingStatusChanged\n * @param {object} info\n * @param {TrackingTarget} info.target\n * @param {Array<TrackingTarget>} info.trackedTargets\n * @param {Array<TrackingTarget>} info.untrackedTargets\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/vision-lib-provider.js","import mixinEmitter from 'component-emitter';\nimport { createTrackingTarget } from './tracking-target.js';\n\n/**\n * @interface VuforiaTracker\n * @extends ProtectedEmitter\n * @emits VuforiaTracker#trackingStatusChanged\n * @emits VuforiaTracker#trackingTargetStatusChanged\n */\n\n/**\n * @private\n * @returns VuforiaTracker\n */\nexport default function createVuforiaProvider(specification) {\n  const name = 'Vuforia';\n  const { coreInterface } = specification;\n  const { targets: rawTargets = [], initiallyActive } = specification;\n\n  const targets = rawTargets.map(createTrackingTarget);\n  targets.push(createTrackingTarget({name: \"UserTarget\"}));\n\n  if (initiallyActive) {\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n  }\n\n  let active = initiallyActive;\n\n  const vuforiaProvider = mixinEmitter({\n    activate,\n    deactivate,\n    reset,\n\n    captureUserTarget,\n    removeUserTarget,\n\n    /**\n     * @type {boolean}\n     * @memberOf! VuforiaTracker#\n     */\n    get active() { return active; },\n    /**\n     * @type {boolean}\n     * @memberOf! VuforiaTracker#\n     */\n    get tracking() { return targets.some(target => target.tracked); },\n    /**\n     * @type {Array<TrackingTarget>}\n     * @memberOf! VuforiaTracker#\n     */\n    get targets() { return targets; },\n  });\n\n  return vuforiaProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VuforiaTracker#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VuforiaTracker#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker. Resets all tracking targets.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VuforiaTracker#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Captures a user target from the current camera input.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VuforiaTracker#\n   */\n  function captureUserTarget(size) {\n    return new Promise(function(resolve) {\n      coreInterface.on('customTrackingInfo', function (target, event) {\n        if ((target === name || target === 'Qualcomm') && event !== undefined) {\n          const info = event;\n          switch (info.status) {\n            case 'userTargetCaptured':\n              resolve(true);\n              break;\n            case 'userTargetFailed':\n              resolve(false);\n              break;\n            case 'userTargetLowFrameQualityWarning':\n              vuforiaProvider.emit('userTargetLowQuality');\n              break;\n          }\n        }\n      });\n      return coreInterface.call('customTrackingCommand', name, 'captureUserTarget', JSON.stringify(size));\n    });\n  }\n\n  /**\n   * Removes the previously captures user target.\n   * @returns {Promise} resolved when done.\n   * @memberOf! VuforiaTracker#\n   */\n  function removeUserTarget() {\n    return coreInterface.call('customTrackingCommand', name, 'removeUserTarget', '');\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    let target = targets.find(target => target.name === targetName);\n\n    if (target) {\n      target._setTracked(event);\n\n      let trackedTargets = targets.filter(target => target.tracked);\n      let untrackedTargets = targets.filter(target => !target.tracked);\n\n      vuforiaProvider.emit('trackingTargetStatusChanged', target);\n      vuforiaProvider.emit('trackingStatusChanged', {target, trackedTargets, untrackedTargets});\n    } else {\n      console.warn('Unrecognized tracking target: %s', targetName);\n    }\n  }\n\n}\n\n/**\n * @event VuforiaTracker#trackingTargetStatusChanged\n * @param {TrackingTarget} target\n */\n\n\n/**\n * @event VuforiaTracker#trackingStatusChanged\n * @param {object} info\n * @param {TrackingTarget} info.target\n * @param {Array<TrackingTarget>} info.trackedTargets\n * @param {Array<TrackingTarget>} info.untrackedTargets\n */\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/vuforia-provider.js","import mixinEmitter from 'component-emitter';\n\n/**\n * @private\n * @interface WikitudeProvider\n * @emits trackingTargetStatusChanged\n */\n\n/**\n * @private\n * @returns WikitudeProvider\n */\nexport default function createWikitudeProvider(specification) {\n  const name = 'Wikitude';\n  const { coreInterface, initiallyActive } = specification;\n\n  if (initiallyActive) {\n    coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n  }\n\n  let active = initiallyActive;\n  let tracking = false;\n  let groundConfirmed = false;\n\n  let floorOffset = 1400;\n\n  const wikitudeProvider = Object.assign({\n    activate,\n    deactivate,\n    reset,\n    confirmGroundPosition,\n\n    get active() { return active; },\n    get tracking() { return tracking; },\n    get groundConfirmed() { return groundConfirmed; },\n\n    //===== CUSTOM MEMBERS =====\n\n    setFloorOffset,\n    getFloorOffset,\n\n    get floorOffset() { return floorOffset; },\n  });\n\n  mixinEmitter(wikitudeProvider);\n\n  return wikitudeProvider;\n\n//======================================================================================================================\n// PUBLIC INTERFACE\n//======================================================================================================================\n\n  /**\n   * Activates the tracker. Does not guarantee that the tracking will begin before promise is fulfilled.\n   * @returns {Promise} resolved when done.\n   * @memberOf! WikitudeProvider#\n   */\n  function activate() {\n    return Promise.resolve().then(function () {\n      if (!active) {\n        coreInterface.on('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('startTracking', name).then(() => {\n          tracking = false;\n          groundConfirmed = false;\n          return active = true;\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Deactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! WikitudeProvider#\n   */\n  function deactivate() {\n    return Promise.resolve().then(function () {\n      if (active) {\n        coreInterface.off('trackingTargetStatusChanged', handleTrackingTargetStatusChanged);\n        return coreInterface.call('stopTracking', name).then(() => {\n          tracking = false;\n          groundConfirmed = false;\n          return !(active = false);\n        });\n      } else {\n        return false;\n      }\n    })\n  }\n\n  /**\n   * Reactivates the tracker.\n   * @returns {Promise} resolved when done.\n   * @memberOf! WikitudeProvider#\n   */\n  function reset() {\n    return Promise.resolve().then(deactivate).then(activate);\n  }\n\n  /**\n   * Confirms ground position to start feature tracking.\n   * @returns {Promise} resolved when done.\n   * @memberOf! WikitudeProvider#\n   */\n  function confirmGroundPosition() {\n    return coreInterface.call('confirmGroundPosition', name).then(() => groundConfirmed = true);\n  }\n\n  /**\n   * Sets the current floor offset. The scene will be adjusted vertically according to this offset.\n   * @param {number} height\n   * @returns {Promise} resolved when done.\n   * @memberOf! WikitudeProvider#\n   */\n  function setFloorOffset(height) {\n    if (typeof height === 'number') {\n      floorOffset = height;\n      return coreInterface.call('customTrackingCommand', name, 'setFloorOffset', JSON.stringify(height));\n    } else {\n      console.warn('Can\\'t set floor offset, given height is not a number.');\n      return Promise.resolve();\n    }\n  }\n\n  /**\n   * Retrieves the current floor offset.\n   * @returns {Promise.<number>} resolved when done.\n   * @memberOf! WikitudeProvider#\n   */\n  async function getFloorOffset() {\n    floorOffset = await coreInterface.call('customTrackingCommand', name, 'getFloorOffset', '{}');\n    return floorOffset;\n  }\n\n//======================================================================================================================\n// PRIVATE FUNCTIONS\n//======================================================================================================================\n\n  function handleTrackingTargetStatusChanged(targetName, event) {\n    tracking = event === 'found';\n    wikitudeProvider.emit('trackingTargetStatusChanged', tracking);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tracking/wikitude-provider.js","import semver from 'semver';\nimport versionInfo from './version-info';\n\nexport default function ifCore(query) {\n  for (const [versionQuery, thunk] of Object.entries(query)) {\n    if (semver.satisfies(versionInfo.core, versionQuery)) {\n      return thunk();\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/if-core.js","import createNamespace from './namespace';\n\nexport default createNamespace();\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/shared.js","\n//======================================================================================================================\n// UI STYLES\n//======================================================================================================================\n\nexport const WAIT_FOR_DEBUGGER_BUTTON_STYLE = {\n  position: 'absolute',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  webkitTransform: 'translate(-50%, -50%)',\n  msTransform: 'translate(-50%, -50%)',\n  mozTransform: 'translate(-50%, -50%)',\n  zIndex: '1000000'\n};\n\nexport const UPDATE_POPUP_STYLE = {\n  position: 'absolute',\n  backgroundColor: 'white',\n  top: '50%',\n  left: '50%',\n  transform: 'translate(-50%, -50%)',\n  webkitTransform: 'translate(-50%, -50%)',\n  msTransform: 'translate(-50%, -50%)',\n  mozTransform: 'translate(-50%, -50%)',\n  zIndex: '1000000',\n  fontSize: '20px',\n  textAlign: 'center',\n  padding: '40px',\n  borderRadius: '5px'\n};\n\nexport const UPDATE_POPUP_LABEL_STYLE = {\n  fontSize: '1.2em',\n  lineHeight: '2em',\n  margin: 'auto',\n  textDecoration: 'underline'\n};\n\nexport const UPDATE_POPUP_UPDATE_LABEL_STYLE = {\n  fontSize: '1em',\n  lineHeight: '1em',\n  margin: 'auto',\n  whiteSpace: 'nowrap'\n};\n\nexport const CONFIRM_BUTTON_STYLE = {\n  display: 'inline-block',\n  margin: '20px auto 0 auto',\n  color: 'white',\n  backgroundRepeat: 'repeat-x',\n  backgroundColor: '#a21612;',\n  background: 'linear-gradient(30deg,#a21612 0%,#cf0f13 50%)',\n  filter: \"progid:DXImageTransform.Microsoft.gradient(startColorstr='#CC1E1E', endColorstr='#730F0F', GradientType=0)\",\n  padding: '10px 25px 10px',\n  textShadow: '0 -1px 0 rgba(0, 0, 0, 0.25)',\n  fontSize: '0.8em',\n  lineHeight: 'normal',\n  border: '1px solid #ccc',\n  borderColor: 'rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.1) rgba(0, 0, 0, 0.25)',\n  borderRadius: '4px',\n  boxShadow: 'inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05)'\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/ui-styles.js","// Generated automatically by nearley\n// http://github.com/Hardmath123/nearley\n(function () {\nfunction id(x) {return x[0]; }\n\nfunction mergeInfo(...objects) {\n  const result = {};\n  objects.forEach(object => object && Object.keys(object).forEach(key => {\n    result[key] = result[key] || [];\n    result[key].push(...object[key]);\n  }));\n  return result;\n}\n\nconst parseUnary = ([op,,r]) => ({ info: r.info, fn: op(r.fn) });\nconst parseBinary = ([l,,op,,r]) => ({ info: mergeInfo(l.info, r.info), fn: op(l.fn, r.fn) });\nconst parseComparison = ([l,,op,,r]) => ({ info: mapComparison(l.info, r.info), fn: op(l.fn, r.fn) });\n\nconst propertyToProperty = (l, r) => ({\n  comparisons: [{\n\ttype: 'propertyToProperty',\n\tpropertyName: l.propertyName,\n\totherPropertyName: r.propertyName,\n  }],\n});\n\nconst propertyToNumber = (l, r) => ({\n  comparisons: [\n  \tObject.assign({type: 'propertyToNumber'}, l, r),\n  ],\n});\n\nconst propertyToValue = (l, r) => ({\n  comparisons: [\n  \tObject.assign({type: 'propertyToValue'}, l, r),\n  ],\n});\n\nconst propertyToList = (l, r) => ({\n  comparisons: [\n  \tObject.assign({type: 'propertyToList'}, l, r),\n  ],\n});\n\nconst propertyToPattern = (l, r) => ({\n  comparisons: [\n  \tObject.assign({type: 'propertyToPattern'}, l, r),\n  ],\n});\n\nconst propertyToRange = (l, r) => ({\n  comparisons: [\n  \tObject.assign({type: 'propertyToRange'}, l, r),\n  ],\n});\n\nconst parse = (merge) => ([l,,op,,r]) => ({ info: merge(l.info, r.info), fn: op(l.fn, r.fn) });\n\nconst mapComparison = (l, r) => ({\n  comparisons: [Object.assign({}, l, r)],\n});\n\nfunction createRange(lowerBound, upperBound, includeLowerBound, includeUpperBound) {\n\tconst compareLowerBound = includeLowerBound ?\n\t  value => value >= lowerBound :\n\t  value => value > lowerBound;\n\n\tconst compareUpperBound = includeUpperBound ?\n\t  value => value <= upperBound :\n\t  value => value < upperBound;\n\n\treturn {\n\t  lowerBound,\n\t  upperBound,\n\t  includeLowerBound,\n\t  includeUpperBound,\n\t  includes,\n\t};\n\n\tfunction includes(value) {\n\t  const castValue = typeof value === 'number' ? value : Number.parseFloat(value);\n\t  return compareLowerBound(castValue) && compareUpperBound(castValue);\n\t}\n}\n\n  const unwrap = ([,expr,]) => expr;\n  const trueConst = () => ({\n    info: {},\n    fn: () => true,\n  });\n  const falseConst = () => ({\n    info: {},\n    fn: () => false,\n  });\nvar grammar = {\n    Lexer: undefined,\n    ParserRules: [\n    {\"name\": \"Main\", \"symbols\": [\"Rule\"], \"postprocess\": id},\n    {\"name\": \"Rule\", \"symbols\": [\"_\", \"OrExpression\", \"_\"], \"postprocess\": unwrap},\n    {\"name\": \"OrExpression\", \"symbols\": [\"AndExpression\", \"__\", \"Or\", \"__\", \"OrExpression\"], \"postprocess\": parseBinary},\n    {\"name\": \"OrExpression\", \"symbols\": [\"AndExpression\"], \"postprocess\": id},\n    {\"name\": \"AndExpression\", \"symbols\": [\"XorExpression\", \"__\", \"And\", \"__\", \"AndExpression\"], \"postprocess\": parseBinary},\n    {\"name\": \"AndExpression\", \"symbols\": [\"XorExpression\"], \"postprocess\": id},\n    {\"name\": \"XorExpression\", \"symbols\": [\"NotExpression\", \"__\", \"Xor\", \"__\", \"XorExpression\"], \"postprocess\": parseBinary},\n    {\"name\": \"XorExpression\", \"symbols\": [\"NotExpression\"], \"postprocess\": id},\n    {\"name\": \"NotExpression\", \"symbols\": [\"Not\", \"__\", \"NotExpression\"], \"postprocess\": parseUnary},\n    {\"name\": \"NotExpression\", \"symbols\": [\"Expression\"], \"postprocess\": id},\n    {\"name\": \"Expression\", \"symbols\": [\"Comparison\"], \"postprocess\": id},\n    {\"name\": \"Expression\", \"symbols\": [{\"literal\":\"(\"}, \"Rule\", {\"literal\":\")\"}], \"postprocess\": unwrap},\n    {\"name\": \"Expression$string$1\", \"symbols\": [{\"literal\":\"t\"}, {\"literal\":\"r\"}, {\"literal\":\"u\"}, {\"literal\":\"e\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"Expression\", \"symbols\": [\"Expression$string$1\"], \"postprocess\": trueConst},\n    {\"name\": \"Expression$string$2\", \"symbols\": [{\"literal\":\"f\"}, {\"literal\":\"a\"}, {\"literal\":\"l\"}, {\"literal\":\"s\"}, {\"literal\":\"e\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"Expression\", \"symbols\": [\"Expression$string$2\"], \"postprocess\": falseConst},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"NumericComparisonOperator\", \"__\", \"Number\"], \"postprocess\": parse(propertyToNumber)},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"NumericComparisonOperator\", \"__\", \"PropertyName\"], \"postprocess\": parse(propertyToProperty)},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"PropertyComparisonOperator\", \"__\", \"PropertyName\"], \"postprocess\": parse(propertyToProperty)},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"PathComparisonOperator\", \"__\", \"Value\"], \"postprocess\": parse(propertyToValue)},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"PathMatchOperator\", \"__\", \"Pattern\"], \"postprocess\": parse(propertyToPattern)},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"InclusionOperator\", \"__\", \"Range\"], \"postprocess\": parse(propertyToRange)},\n    {\"name\": \"Comparison\", \"symbols\": [\"PropertyName\", \"__\", \"InclusionOperator\", \"__\", \"ValueList\"], \"postprocess\": parse(propertyToList)},\n    {\"name\": \"Or$string$1\", \"symbols\": [{\"literal\":\"o\"}, {\"literal\":\"r\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"Or\", \"symbols\": [\"Or$string$1\"], \"postprocess\": () =>   (l, r) => (c) => l(c) || r(c)},\n    {\"name\": \"And$string$1\", \"symbols\": [{\"literal\":\"a\"}, {\"literal\":\"n\"}, {\"literal\":\"d\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"And\", \"symbols\": [\"And$string$1\"], \"postprocess\": () =>   (l, r) => (c) => l(c) && r(c)},\n    {\"name\": \"Xor$string$1\", \"symbols\": [{\"literal\":\"x\"}, {\"literal\":\"o\"}, {\"literal\":\"r\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"Xor\", \"symbols\": [\"Xor$string$1\"], \"postprocess\": () =>   (l, r) => (c) => !!(l(c) ^ r(c))},\n    {\"name\": \"Not$string$1\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"o\"}, {\"literal\":\"t\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"Not\", \"symbols\": [\"Not$string$1\"], \"postprocess\": () =>      (r) => (c) => !r(c)},\n    {\"name\": \"NumericComparisonOperator$string$1\", \"symbols\": [{\"literal\":\"=\"}, {\"literal\":\"=\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"NumericComparisonOperator\", \"symbols\": [\"NumericComparisonOperator$string$1\"], \"postprocess\": () =>   (l, r) => (c) => l(c) === r(c)},\n    {\"name\": \"NumericComparisonOperator$string$2\", \"symbols\": [{\"literal\":\"<\"}, {\"literal\":\">\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"NumericComparisonOperator\", \"symbols\": [\"NumericComparisonOperator$string$2\"], \"postprocess\": () =>   (l, r) => (c) => l(c) !== r(c)},\n    {\"name\": \"NumericComparisonOperator$string$3\", \"symbols\": [{\"literal\":\">\"}, {\"literal\":\"=\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"NumericComparisonOperator\", \"symbols\": [\"NumericComparisonOperator$string$3\"], \"postprocess\": () =>   (l, r) => (c) => l(c) >=  r(c)},\n    {\"name\": \"NumericComparisonOperator\", \"symbols\": [{\"literal\":\">\"}], \"postprocess\": () =>   (l, r) => (c) => l(c) >   r(c)},\n    {\"name\": \"NumericComparisonOperator$string$4\", \"symbols\": [{\"literal\":\"<\"}, {\"literal\":\"=\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"NumericComparisonOperator\", \"symbols\": [\"NumericComparisonOperator$string$4\"], \"postprocess\": () =>   (l, r) => (c) => l(c) <=  r(c)},\n    {\"name\": \"NumericComparisonOperator\", \"symbols\": [{\"literal\":\"<\"}], \"postprocess\": () =>   (l, r) => (c) => l(c) <   r(c)},\n    {\"name\": \"InclusionOperator$string$1\", \"symbols\": [{\"literal\":\"i\"}, {\"literal\":\"n\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"InclusionOperator\", \"symbols\": [\"InclusionOperator$string$1\"], \"postprocess\": () =>   (l, r) => (c) => r(c).includes(l(c))},\n    {\"name\": \"InclusionOperator$string$2\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"o\"}, {\"literal\":\"t\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"InclusionOperator$string$3\", \"symbols\": [{\"literal\":\"i\"}, {\"literal\":\"n\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"InclusionOperator\", \"symbols\": [\"InclusionOperator$string$2\", \"__\", \"InclusionOperator$string$3\"], \"postprocess\": () =>   (l, r) => (c) => !r(c).includes(l(c))},\n    {\"name\": \"PropertyComparisonOperator$string$1\", \"symbols\": [{\"literal\":\"e\"}, {\"literal\":\"q\"}, {\"literal\":\"u\"}, {\"literal\":\"a\"}, {\"literal\":\"l\"}, {\"literal\":\"s\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PropertyComparisonOperator\", \"symbols\": [\"PropertyComparisonOperator$string$1\"], \"postprocess\": () =>   (l, r) => (c) => l(c) === r(c)},\n    {\"name\": \"PropertyComparisonOperator$string$2\", \"symbols\": [{\"literal\":\"d\"}, {\"literal\":\"o\"}, {\"literal\":\"e\"}, {\"literal\":\"s\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PropertyComparisonOperator$string$3\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"o\"}, {\"literal\":\"t\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PropertyComparisonOperator$string$4\", \"symbols\": [{\"literal\":\"e\"}, {\"literal\":\"q\"}, {\"literal\":\"u\"}, {\"literal\":\"a\"}, {\"literal\":\"l\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PropertyComparisonOperator\", \"symbols\": [\"PropertyComparisonOperator$string$2\", \"__\", \"PropertyComparisonOperator$string$3\", \"__\", \"PropertyComparisonOperator$string$4\"], \"postprocess\": () =>   (l, r) => (c) => l(c) !== r(c)},\n    {\"name\": \"PathComparisonOperator$string$1\", \"symbols\": [{\"literal\":\"i\"}, {\"literal\":\"s\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathComparisonOperator$string$2\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"o\"}, {\"literal\":\"t\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathComparisonOperator\", \"symbols\": [\"PathComparisonOperator$string$1\", \"__\", \"PathComparisonOperator$string$2\"], \"postprocess\": () =>   (l, r) => (c) => l(c) !== r(c)},\n    {\"name\": \"PathComparisonOperator$string$3\", \"symbols\": [{\"literal\":\"i\"}, {\"literal\":\"s\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathComparisonOperator\", \"symbols\": [\"PathComparisonOperator$string$3\"], \"postprocess\": () =>   (l, r) => (c) => l(c) === r(c)},\n    {\"name\": \"PathMatchOperator$string$1\", \"symbols\": [{\"literal\":\"m\"}, {\"literal\":\"a\"}, {\"literal\":\"t\"}, {\"literal\":\"c\"}, {\"literal\":\"h\"}, {\"literal\":\"e\"}, {\"literal\":\"s\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathMatchOperator\", \"symbols\": [\"PathMatchOperator$string$1\"], \"postprocess\": () =>   (l, r) => (c) => !!l(c).match(r(c))},\n    {\"name\": \"PathMatchOperator$string$2\", \"symbols\": [{\"literal\":\"d\"}, {\"literal\":\"o\"}, {\"literal\":\"e\"}, {\"literal\":\"s\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathMatchOperator$string$3\", \"symbols\": [{\"literal\":\"n\"}, {\"literal\":\"o\"}, {\"literal\":\"t\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathMatchOperator$string$4\", \"symbols\": [{\"literal\":\"m\"}, {\"literal\":\"a\"}, {\"literal\":\"t\"}, {\"literal\":\"c\"}, {\"literal\":\"h\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"PathMatchOperator\", \"symbols\": [\"PathMatchOperator$string$2\", \"__\", \"PathMatchOperator$string$3\", \"__\", \"PathMatchOperator$string$4\"], \"postprocess\": () =>   (l, r) => (c) => !l(c).match(r(c))},\n    {\"name\": \"_$ebnf$1\", \"symbols\": []},\n    {\"name\": \"_$ebnf$1\", \"symbols\": [\"_$ebnf$1\", /[ ]/], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"_\", \"symbols\": [\"_$ebnf$1\"], \"postprocess\": () => null},\n    {\"name\": \"__$ebnf$1\", \"symbols\": [/[ ]/]},\n    {\"name\": \"__$ebnf$1\", \"symbols\": [\"__$ebnf$1\", /[ ]/], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"__\", \"symbols\": [\"__$ebnf$1\"], \"postprocess\": () => null},\n    {\"name\": \"Value\", \"symbols\": [\"ValueLiteral\"], \"postprocess\":  ([value]) => {\n        \treturn {\n        \t  info: {\n        \t    value,\n        \t  },\n        \t  fn: (c) => value,\n        \t}\n        } },\n    {\"name\": \"ValueLiteral$ebnf$1\", \"symbols\": [\"Char\"]},\n    {\"name\": \"ValueLiteral$ebnf$1\", \"symbols\": [\"ValueLiteral$ebnf$1\", \"Char\"], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"ValueLiteral\", \"symbols\": [\"ValueLiteral$ebnf$1\"], \"postprocess\": ([expr]) => expr.join('')},\n    {\"name\": \"ValueLiteral$ebnf$2$subexpression$1\", \"symbols\": [\"QuotedChar\"]},\n    {\"name\": \"ValueLiteral$ebnf$2$subexpression$1\", \"symbols\": [\"EscapedQuote\"]},\n    {\"name\": \"ValueLiteral$ebnf$2\", \"symbols\": [\"ValueLiteral$ebnf$2$subexpression$1\"]},\n    {\"name\": \"ValueLiteral$ebnf$2$subexpression$2\", \"symbols\": [\"QuotedChar\"]},\n    {\"name\": \"ValueLiteral$ebnf$2$subexpression$2\", \"symbols\": [\"EscapedQuote\"]},\n    {\"name\": \"ValueLiteral$ebnf$2\", \"symbols\": [\"ValueLiteral$ebnf$2\", \"ValueLiteral$ebnf$2$subexpression$2\"], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"ValueLiteral\", \"symbols\": [{\"literal\":\"\\\"\"}, \"ValueLiteral$ebnf$2\", {\"literal\":\"\\\"\"}], \"postprocess\":  ([,expr,]) => {\n        \treturn expr.join('');\n        } },\n    {\"name\": \"PropertyName$ebnf$1$subexpression$1\", \"symbols\": [\"BracketedChar\"]},\n    {\"name\": \"PropertyName$ebnf$1$subexpression$1\", \"symbols\": [\"EscapedLeftBracket\"]},\n    {\"name\": \"PropertyName$ebnf$1$subexpression$1\", \"symbols\": [\"EscapedRightBracket\"]},\n    {\"name\": \"PropertyName$ebnf$1\", \"symbols\": [\"PropertyName$ebnf$1$subexpression$1\"]},\n    {\"name\": \"PropertyName$ebnf$1$subexpression$2\", \"symbols\": [\"BracketedChar\"]},\n    {\"name\": \"PropertyName$ebnf$1$subexpression$2\", \"symbols\": [\"EscapedLeftBracket\"]},\n    {\"name\": \"PropertyName$ebnf$1$subexpression$2\", \"symbols\": [\"EscapedRightBracket\"]},\n    {\"name\": \"PropertyName$ebnf$1\", \"symbols\": [\"PropertyName$ebnf$1\", \"PropertyName$ebnf$1$subexpression$2\"], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"PropertyName\", \"symbols\": [{\"literal\":\"[\"}, \"PropertyName$ebnf$1\", {\"literal\":\"]\"}], \"postprocess\":  ([,expr,]) => {\n        \tconst propertyName = expr.join('');\n        \treturn {\n        \t  info: {\n        \t    propertyName,\n        \t  },\n        \t  fn: (c) => c.propertyValues[propertyName],\n        \t}\n        } },\n    {\"name\": \"Pattern$ebnf$1$subexpression$1\", \"symbols\": [\"RegexChar\"]},\n    {\"name\": \"Pattern$ebnf$1$subexpression$1\", \"symbols\": [\"EscapedRegexChar\"]},\n    {\"name\": \"Pattern$ebnf$1\", \"symbols\": [\"Pattern$ebnf$1$subexpression$1\"]},\n    {\"name\": \"Pattern$ebnf$1$subexpression$2\", \"symbols\": [\"RegexChar\"]},\n    {\"name\": \"Pattern$ebnf$1$subexpression$2\", \"symbols\": [\"EscapedRegexChar\"]},\n    {\"name\": \"Pattern$ebnf$1\", \"symbols\": [\"Pattern$ebnf$1\", \"Pattern$ebnf$1$subexpression$2\"], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"Pattern\", \"symbols\": [{\"literal\":\"/\"}, \"Pattern$ebnf$1\", {\"literal\":\"/\"}], \"postprocess\":  ([,expr,]) => {\n        \tconst pattern = createPattern(expr.join(''));\n        \treturn {\n        \t  info: {\n        \t    pattern,\n        \t  },\n        \t  fn: (c) => pattern,\n        \t}\n        } },\n    {\"name\": \"Char\", \"symbols\": [/[^\"[\\]\\s]/], \"postprocess\": id},\n    {\"name\": \"QuotedChar\", \"symbols\": [/[^\"\\b\\t\\r\\n]/], \"postprocess\": id},\n    {\"name\": \"BracketedChar\", \"symbols\": [/[^[\\]\\b\\t\\r\\n]/], \"postprocess\": id},\n    {\"name\": \"RegexChar\", \"symbols\": [/[^\\/\\b\\t\\r\\n]/], \"postprocess\": id},\n    {\"name\": \"EscapedQuote$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"\\\"\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"EscapedQuote\", \"symbols\": [\"EscapedQuote$string$1\"], \"postprocess\": () => '\"'},\n    {\"name\": \"EscapedLeftBracket$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"[\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"EscapedLeftBracket\", \"symbols\": [\"EscapedLeftBracket$string$1\"], \"postprocess\": () => '['},\n    {\"name\": \"EscapedRightBracket$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"]\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"EscapedRightBracket\", \"symbols\": [\"EscapedRightBracket$string$1\"], \"postprocess\": () => ']'},\n    {\"name\": \"EscapedRegexChar$string$1\", \"symbols\": [{\"literal\":\"\\\\\"}, {\"literal\":\"/\"}], \"postprocess\": function joiner(d) {return d.join('');}},\n    {\"name\": \"EscapedRegexChar\", \"symbols\": [\"EscapedRegexChar$string$1\"], \"postprocess\": () => '/'},\n    {\"name\": \"ValueList$ebnf$1\", \"symbols\": []},\n    {\"name\": \"ValueList$ebnf$1$subexpression$1\", \"symbols\": [\"ValueLiteral\", \"_\", {\"literal\":\",\"}, \"_\"], \"postprocess\": id},\n    {\"name\": \"ValueList$ebnf$1\", \"symbols\": [\"ValueList$ebnf$1\", \"ValueList$ebnf$1$subexpression$1\"], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"ValueList\", \"symbols\": [{\"literal\":\"(\"}, \"_\", \"ValueList$ebnf$1\", \"ValueLiteral\", \"_\", {\"literal\":\")\"}], \"postprocess\": ([,,rest,last]) =>  {\n           const list = [...rest, last];\n           return {\n             info: {\n               list,\n             },\n             fn: (c) => list,\n           }\n        } },\n    {\"name\": \"Range\", \"symbols\": [\"LowerBoundType\", \"_\", \"NumberLiteral\", \"_\", {\"literal\":\",\"}, \"_\", \"NumberLiteral\", \"_\", \"UpperBoundType\"], \"postprocess\":  ([il,,lb,,,,ub,,iu]) => {\n        \tconst range = createRange(lb, ub, il, iu);\n        \treturn {\n        \t  info: {\n        \t    range,\n        \t  },\n        \t  fn: () => range,\n        \t}\n        } },\n    {\"name\": \"LowerBoundType\", \"symbols\": [/[[<]/], \"postprocess\": ([symbol]) => symbol === '['},\n    {\"name\": \"UpperBoundType\", \"symbols\": [/[>\\]]/], \"postprocess\": ([symbol]) => symbol === ']'},\n    {\"name\": \"Number\", \"symbols\": [\"NumberLiteral\"], \"postprocess\":  ([value]) => {\n        \treturn {\n        \t  info: {\n        \t    value,\n        \t  },\n        \t  fn: (c) => value,\n        \t}\n        } },\n    {\"name\": \"NumberLiteral$ebnf$1\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"NumberLiteral$ebnf$1\", \"symbols\": [], \"postprocess\": function(d) {return null;}},\n    {\"name\": \"NumberLiteral$ebnf$2\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"NumberLiteral$ebnf$2\", \"symbols\": [\"NumberLiteral$ebnf$2\", /[0-9]/], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"NumberLiteral\", \"symbols\": [\"NumberLiteral$ebnf$1\", \"NumberLiteral$ebnf$2\"], \"postprocess\": ([minus, digits]) => Number.parseInt((minus || '') + digits.join(''))},\n    {\"name\": \"NumberLiteral$ebnf$3\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"NumberLiteral$ebnf$3\", \"symbols\": [], \"postprocess\": function(d) {return null;}},\n    {\"name\": \"NumberLiteral$ebnf$4\", \"symbols\": [/[0-9]/]},\n    {\"name\": \"NumberLiteral$ebnf$4\", \"symbols\": [\"NumberLiteral$ebnf$4\", /[0-9]/], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"NumberLiteral$ebnf$5\", \"symbols\": []},\n    {\"name\": \"NumberLiteral$ebnf$5\", \"symbols\": [\"NumberLiteral$ebnf$5\", /[0-9]/], \"postprocess\": function arrpush(d) {return d[0].concat([d[1]]);}},\n    {\"name\": \"NumberLiteral\", \"symbols\": [\"NumberLiteral$ebnf$3\", \"NumberLiteral$ebnf$4\", {\"literal\":\".\"}, \"NumberLiteral$ebnf$5\"], \"postprocess\": ([minus, a, b, c]) => Number.parseFloat((minus || '') + a.join('') + b + ((c || []).join('')))}\n]\n  , ParserStart: \"Main\"\n}\nif (typeof module !== 'undefined'&& typeof module.exports !== 'undefined') {\n   module.exports = grammar;\n} else {\n   window.Grammar = grammar;\n}\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/scene/configuration/parser/grammar.ne","var isString = require('lodash/isString');\nvar isArray = require('lodash/isArray');\nvar isObject = require('lodash/isObject');\nvar isSymbol = require('lodash/isSymbol');\nvar isFunction = require('lodash/isFunction');\nvar isUndefined = require('lodash/isUndefined');\n\nvar UNINSTANTIATED = Symbol();\n\nmodule.exports = function createInjector() {\n  var dependencies = {};\n\n  return {\n    register: register,\n    resolve: resolve,\n    resolveDictionary: resolveDictionary,\n    resolveArray: resolveArray,\n  };\n\n  function register(token, factory, args) {\n    args = isUndefined(args) ? {} : args;\n    assertTokenValid(token);\n    assertTokenUnused(token);\n    assertFactoryIsFunction(factory);\n\n    if (isArray(args)) {\n      dependencies[token] = {\n        instance: UNINSTANTIATED,\n        resolve: function () {\n          return factory.apply(null, resolveArray(args));\n        }\n      };\n    } else if (isObject(args)) {\n      dependencies[token] = {\n        instance: UNINSTANTIATED,\n        resolve: function () {\n          return factory(resolveDictionary(args));\n        }\n      };\n    } else {\n      throw new Error('Factory arguments must be passed as either a dictionary (plain object) or an array!');\n    }\n  }\n\n  function resolve(token) {\n    assertTokenValid(token);\n    assertTokenUsed(token);\n\n    if (dependencies[token].instance === UNINSTANTIATED) {\n      dependencies[token].instance = dependencies[token].resolve();\n    }\n\n    return dependencies[token].instance;\n  }\n\n  function resolveDictionary(dictionary) {\n    return Object.keys(dictionary)\n        .map(function (token) {\n          var object = {};\n          object[token] = resolve(dictionary[token]);\n          return object;\n        })\n        .reduce(function (object, part) {\n          return Object.assign(object, part);\n        }, {});\n  }\n\n  function resolveArray(array) {\n    return array.map(function (token) {\n      return resolve(token)\n    });\n  }\n\n//======================================================================================================================\n// ASSERTIONS\n//======================================================================================================================\n\n  function fail(message) {\n    throw new Error(message);\n  }\n\n  function assertTokenValid(token) {\n    !isString(token) && !isSymbol(token) && fail('Token \"' + token.toString() + '\" must be either a string or a symbol!');\n  }\n\n  function assertTokenUnused(token) {\n    dependencies[token] && fail('Token \"' + token.toString() + '\" is already registered!');\n  }\n\n  function assertTokenUsed(token) {\n    !dependencies[token] && fail('Token \"' + token.toString() + '\" is not registered!');\n  }\n\n  function assertFactoryIsFunction(factory) {\n    !isFunction(factory) && fail('Factory \"' + factory.toString() + '\" must be a function!');\n  }\n\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/dependency-injector/index.js\n// module id = 200\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_DataView.js\n// module id = 201\n// module chunks = 0","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Hash.js\n// module id = 202\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_Promise.js\n// module id = 203\n// module chunks = 0","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_WeakMap.js\n// module id = 204\n// module chunks = 0","/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\nmodule.exports = addMapEntry;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_addMapEntry.js\n// module id = 205\n// module chunks = 0","/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\nmodule.exports = addSetEntry;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_addSetEntry.js\n// module id = 206\n// module chunks = 0","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arrayEach.js\n// module id = 207\n// module chunks = 0","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_arraySome.js\n// module id = 208\n// module chunks = 0","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_asciiToArray.js\n// module id = 209\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseAssign.js\n// module id = 210\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseAssignIn.js\n// module id = 211\n// module chunks = 0","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseCreate.js\n// module id = 212\n// module chunks = 0","var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseEach.js\n// module id = 213\n// module chunks = 0","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseFindIndex.js\n// module id = 214\n// module chunks = 0","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseForOwn.js\n// module id = 215\n// module chunks = 0","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseHasIn.js\n// module id = 216\n// module chunks = 0","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIntersection.js\n// module id = 217\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsArguments.js\n// module id = 218\n// module chunks = 0","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsEqualDeep.js\n// module id = 219\n// module chunks = 0","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsMatch.js\n// module id = 220\n// module chunks = 0","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsNaN.js\n// module id = 221\n// module chunks = 0","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsNative.js\n// module id = 222\n// module chunks = 0","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIsTypedArray.js\n// module id = 223\n// module chunks = 0","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseIteratee.js\n// module id = 224\n// module chunks = 0","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseKeys.js\n// module id = 225\n// module chunks = 0","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseKeysIn.js\n// module id = 226\n// module chunks = 0","var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMap.js\n// module id = 227\n// module chunks = 0","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMatches.js\n// module id = 228\n// module chunks = 0","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMatchesProperty.js\n// module id = 229\n// module chunks = 0","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = object[key],\n      srcValue = source[key],\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || (srcIndex && isFunction(objValue))) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseMergeDeep.js\n// module id = 230\n// module chunks = 0","var basePickBy = require('./_basePickBy'),\n    hasIn = require('./hasIn');\n\n/**\n * The base implementation of `_.pick` without support for individual\n * property identifiers.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @returns {Object} Returns the new object.\n */\nfunction basePick(object, paths) {\n  return basePickBy(object, paths, function(value, path) {\n    return hasIn(object, path);\n  });\n}\n\nmodule.exports = basePick;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePick.js\n// module id = 231\n// module chunks = 0","var baseGet = require('./_baseGet'),\n    baseSet = require('./_baseSet'),\n    castPath = require('./_castPath');\n\n/**\n * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The source object.\n * @param {string[]} paths The property paths to pick.\n * @param {Function} predicate The function invoked per property.\n * @returns {Object} Returns the new object.\n */\nfunction basePickBy(object, paths, predicate) {\n  var index = -1,\n      length = paths.length,\n      result = {};\n\n  while (++index < length) {\n    var path = paths[index],\n        value = baseGet(object, path);\n\n    if (predicate(value, path)) {\n      baseSet(result, castPath(path, object), value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = basePickBy;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePickBy.js\n// module id = 232\n// module chunks = 0","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePropertyDeep.js\n// module id = 233\n// module chunks = 0","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_basePropertyOf.js\n// module id = 234\n// module chunks = 0","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseSet.js\n// module id = 235\n// module chunks = 0","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseSetToString.js\n// module id = 236\n// module chunks = 0","var castPath = require('./_castPath'),\n    last = require('./last'),\n    parent = require('./_parent'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.unset`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The property path to unset.\n * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n */\nfunction baseUnset(object, path) {\n  path = castPath(path, object);\n  object = parent(object, path);\n  return object == null || delete object[toKey(last(path))];\n}\n\nmodule.exports = baseUnset;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseUnset.js\n// module id = 237\n// module chunks = 0","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var length = arrays.length;\n  if (length < 2) {\n    return length ? baseUniq(arrays[0]) : [];\n  }\n  var index = -1,\n      result = Array(length);\n\n  while (++index < length) {\n    var array = arrays[index],\n        othIndex = -1;\n\n    while (++othIndex < length) {\n      if (othIndex != index) {\n        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n      }\n    }\n  }\n  return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n}\n\nmodule.exports = baseXor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_baseXor.js\n// module id = 238\n// module chunks = 0","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_castArrayLikeObject.js\n// module id = 239\n// module chunks = 0","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_castSlice.js\n// module id = 240\n// module chunks = 0","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the last unmatched string symbol.\n */\nfunction charsEndIndex(strSymbols, chrSymbols) {\n  var index = strSymbols.length;\n\n  while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nmodule.exports = charsEndIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_charsEndIndex.js\n// module id = 241\n// module chunks = 0","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n * that is not found in the character symbols.\n *\n * @private\n * @param {Array} strSymbols The string symbols to inspect.\n * @param {Array} chrSymbols The character symbols to find.\n * @returns {number} Returns the index of the first unmatched string symbol.\n */\nfunction charsStartIndex(strSymbols, chrSymbols) {\n  var index = -1,\n      length = strSymbols.length;\n\n  while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n  return index;\n}\n\nmodule.exports = charsStartIndex;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_charsStartIndex.js\n// module id = 242\n// module chunks = 0","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneDataView.js\n// module id = 243\n// module chunks = 0","var addMapEntry = require('./_addMapEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    mapToArray = require('./_mapToArray');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), CLONE_DEEP_FLAG) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\nmodule.exports = cloneMap;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneMap.js\n// module id = 244\n// module chunks = 0","/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneRegExp.js\n// module id = 245\n// module chunks = 0","var addSetEntry = require('./_addSetEntry'),\n    arrayReduce = require('./_arrayReduce'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1;\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), CLONE_DEEP_FLAG) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\nmodule.exports = cloneSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneSet.js\n// module id = 246\n// module chunks = 0","var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_cloneSymbol.js\n// module id = 247\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_copySymbols.js\n// module id = 248\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_copySymbolsIn.js\n// module id = 249\n// module chunks = 0","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_coreJsData.js\n// module id = 250\n// module chunks = 0","var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createBaseEach.js\n// module id = 251\n// module chunks = 0","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createBaseFor.js\n// module id = 252\n// module chunks = 0","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_createSet.js\n// module id = 253\n// module chunks = 0","var eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n * of source objects to the destination object for all destination properties\n * that resolve to `undefined`.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to assign.\n * @param {Object} object The parent object of `objValue`.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsAssignIn(objValue, srcValue, key, object) {\n  if (objValue === undefined ||\n      (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n    return srcValue;\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsAssignIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_customDefaultsAssignIn.js\n// module id = 254\n// module chunks = 0","var baseMerge = require('./_baseMerge'),\n    isObject = require('./isObject');\n\n/**\n * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n * objects into destination objects that are passed thru.\n *\n * @private\n * @param {*} objValue The destination value.\n * @param {*} srcValue The source value.\n * @param {string} key The key of the property to merge.\n * @param {Object} object The parent object of `objValue`.\n * @param {Object} source The parent object of `srcValue`.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n * @returns {*} Returns the value to assign.\n */\nfunction customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n  if (isObject(objValue) && isObject(srcValue)) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, objValue);\n    baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n    stack['delete'](srcValue);\n  }\n  return objValue;\n}\n\nmodule.exports = customDefaultsMerge;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_customDefaultsMerge.js\n// module id = 255\n// module chunks = 0","var isPlainObject = require('./isPlainObject');\n\n/**\n * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n * objects.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {string} key The key of the property to inspect.\n * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n */\nfunction customOmitClone(value) {\n  return isPlainObject(value) ? undefined : value;\n}\n\nmodule.exports = customOmitClone;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_customOmitClone.js\n// module id = 256\n// module chunks = 0","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_deburrLetter.js\n// module id = 257\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalByTag.js\n// module id = 258\n// module chunks = 0","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Assume cyclic values are equal.\n  var stacked = stack.get(object);\n  if (stacked && stack.get(other)) {\n    return stacked == other;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_equalObjects.js\n// module id = 259\n// module chunks = 0","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getMatchData.js\n// module id = 260\n// module chunks = 0","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getRawTag.js\n// module id = 261\n// module chunks = 0","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_getValue.js\n// module id = 262\n// module chunks = 0","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hasPath.js\n// module id = 263\n// module chunks = 0","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hasUnicode.js\n// module id = 264\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashClear.js\n// module id = 265\n// module chunks = 0","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashDelete.js\n// module id = 266\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashGet.js\n// module id = 267\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashHas.js\n// module id = 268\n// module chunks = 0","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_hashSet.js\n// module id = 269\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_initCloneArray.js\n// module id = 270\n// module chunks = 0","var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneMap = require('./_cloneMap'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSet = require('./_cloneSet'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_initCloneByTag.js\n// module id = 271\n// module chunks = 0","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isFlattenable.js\n// module id = 272\n// module chunks = 0","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isIterateeCall.js\n// module id = 273\n// module chunks = 0","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isKeyable.js\n// module id = 274\n// module chunks = 0","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_isMasked.js\n// module id = 275\n// module chunks = 0","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheClear.js\n// module id = 276\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheDelete.js\n// module id = 277\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheGet.js\n// module id = 278\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheHas.js\n// module id = 279\n// module chunks = 0","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_listCacheSet.js\n// module id = 280\n// module chunks = 0","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheClear.js\n// module id = 281\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheDelete.js\n// module id = 282\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheGet.js\n// module id = 283\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheHas.js\n// module id = 284\n// module chunks = 0","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_mapCacheSet.js\n// module id = 285\n// module chunks = 0","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_memoizeCapped.js\n// module id = 286\n// module chunks = 0","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeKeys.js\n// module id = 287\n// module chunks = 0","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nativeKeysIn.js\n// module id = 288\n// module chunks = 0","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_nodeUtil.js\n// module id = 289\n// module chunks = 0","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_objectToString.js\n// module id = 290\n// module chunks = 0","var baseGet = require('./_baseGet'),\n    baseSlice = require('./_baseSlice');\n\n/**\n * Gets the parent value at `path` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array} path The path to get the parent value of.\n * @returns {*} Returns the parent value.\n */\nfunction parent(object, path) {\n  return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n}\n\nmodule.exports = parent;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_parent.js\n// module id = 291\n// module chunks = 0","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setCacheAdd.js\n// module id = 292\n// module chunks = 0","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_setCacheHas.js\n// module id = 293\n// module chunks = 0","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_shortOut.js\n// module id = 294\n// module chunks = 0","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackClear.js\n// module id = 295\n// module chunks = 0","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackDelete.js\n// module id = 296\n// module chunks = 0","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackGet.js\n// module id = 297\n// module chunks = 0","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackHas.js\n// module id = 298\n// module chunks = 0","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stackSet.js\n// module id = 299\n// module chunks = 0","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_strictIndexOf.js\n// module id = 300\n// module chunks = 0","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stringToArray.js\n// module id = 301\n// module chunks = 0","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar reLeadingDot = /^\\./,\n    rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (reLeadingDot.test(string)) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_stringToPath.js\n// module id = 302\n// module chunks = 0","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/_unicodeToArray.js\n// module id = 303\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    createAssigner = require('./_createAssigner'),\n    keysIn = require('./keysIn');\n\n/**\n * This method is like `_.assignIn` except that it accepts `customizer`\n * which is invoked to produce the assigned values. If `customizer` returns\n * `undefined`, assignment is handled by the method instead. The `customizer`\n * is invoked with five arguments: (objValue, srcValue, key, object, source).\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @alias extendWith\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} sources The source objects.\n * @param {Function} [customizer] The function to customize assigned values.\n * @returns {Object} Returns `object`.\n * @see _.assignWith\n * @example\n *\n * function customizer(objValue, srcValue) {\n *   return _.isUndefined(objValue) ? srcValue : objValue;\n * }\n *\n * var defaults = _.partialRight(_.assignInWith, customizer);\n *\n * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n * // => { 'a': 1, 'b': 2 }\n */\nvar assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n  copyObject(source, keysIn(source), object, customizer);\n});\n\nmodule.exports = assignInWith;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/assignInWith.js\n// module id = 304\n// module chunks = 0","var isArray = require('./isArray');\n\n/**\n * Casts `value` as an array if it's not one.\n *\n * @static\n * @memberOf _\n * @since 4.4.0\n * @category Lang\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast array.\n * @example\n *\n * _.castArray(1);\n * // => [1]\n *\n * _.castArray({ 'a': 1 });\n * // => [{ 'a': 1 }]\n *\n * _.castArray('abc');\n * // => ['abc']\n *\n * _.castArray(null);\n * // => [null]\n *\n * _.castArray(undefined);\n * // => [undefined]\n *\n * _.castArray();\n * // => []\n *\n * var array = [1, 2, 3];\n * console.log(_.castArray(array) === array);\n * // => true\n */\nfunction castArray() {\n  if (!arguments.length) {\n    return [];\n  }\n  var value = arguments[0];\n  return isArray(value) ? value : [value];\n}\n\nmodule.exports = castArray;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/castArray.js\n// module id = 305\n// module chunks = 0","/**\n * Creates an array with all falsey values removed. The values `false`, `null`,\n * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to compact.\n * @returns {Array} Returns the new array of filtered values.\n * @example\n *\n * _.compact([0, 1, false, 2, '', 3]);\n * // => [1, 2, 3]\n */\nfunction compact(array) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (value) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = compact;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/compact.js\n// module id = 306\n// module chunks = 0","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/constant.js\n// module id = 307\n// module chunks = 0","var apply = require('./_apply'),\n    baseRest = require('./_baseRest'),\n    customDefaultsMerge = require('./_customDefaultsMerge'),\n    mergeWith = require('./mergeWith');\n\n/**\n * This method is like `_.defaults` except that it recursively assigns\n * default properties.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.10.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @see _.defaults\n * @example\n *\n * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n * // => { 'a': { 'b': 2, 'c': 3 } }\n */\nvar defaultsDeep = baseRest(function(args) {\n  args.push(undefined, customDefaultsMerge);\n  return apply(mergeWith, undefined, args);\n});\n\nmodule.exports = defaultsDeep;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/defaultsDeep.js\n// module id = 308\n// module chunks = 0","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of `array` values not included in the other given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * **Note:** Unlike `_.pullAll`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...Array} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.without, _.xor\n * @example\n *\n * _.difference([2, 1], [2, 3]);\n * // => [1]\n */\nvar difference = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n    : [];\n});\n\nmodule.exports = difference;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/difference.js\n// module id = 309\n// module chunks = 0","var baseFlatten = require('./_baseFlatten');\n\n/**\n * Flattens `array` a single level deep.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flatten([1, [2, [3, [4]], 5]]);\n * // => [1, 2, [3, [4]], 5]\n */\nfunction flatten(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? baseFlatten(array, 1) : [];\n}\n\nmodule.exports = flatten;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/flatten.js\n// module id = 310\n// module chunks = 0","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/get.js\n// module id = 311\n// module chunks = 0","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/intersection.js\n// module id = 312\n// module chunks = 0","var toInteger = require('./toInteger');\n\n/**\n * Checks if `value` is an integer.\n *\n * **Note:** This method is based on\n * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n * @example\n *\n * _.isInteger(3);\n * // => true\n *\n * _.isInteger(Number.MIN_VALUE);\n * // => false\n *\n * _.isInteger(Infinity);\n * // => false\n *\n * _.isInteger('3');\n * // => false\n */\nfunction isInteger(value) {\n  return typeof value == 'number' && value == toInteger(value);\n}\n\nmodule.exports = isInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isInteger.js\n// module id = 313\n// module chunks = 0","/**\n * Checks if `value` is `null` or `undefined`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n * @example\n *\n * _.isNil(null);\n * // => true\n *\n * _.isNil(void 0);\n * // => true\n *\n * _.isNil(NaN);\n * // => false\n */\nfunction isNil(value) {\n  return value == null;\n}\n\nmodule.exports = isNil;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isNil.js\n// module id = 314\n// module chunks = 0","/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nmodule.exports = isUndefined;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/isUndefined.js\n// module id = 315\n// module chunks = 0","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/last.js\n// module id = 316\n// module chunks = 0","var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/map.js\n// module id = 317\n// module chunks = 0","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/memoize.js\n// module id = 318\n// module chunks = 0","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/noop.js\n// module id = 319\n// module chunks = 0","var arrayMap = require('./_arrayMap'),\n    baseClone = require('./_baseClone'),\n    baseUnset = require('./_baseUnset'),\n    castPath = require('./_castPath'),\n    copyObject = require('./_copyObject'),\n    customOmitClone = require('./_customOmitClone'),\n    flatRest = require('./_flatRest'),\n    getAllKeysIn = require('./_getAllKeysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * The opposite of `_.pick`; this method creates an object composed of the\n * own and inherited enumerable property paths of `object` that are not omitted.\n *\n * **Note:** This method is considerably slower than `_.pick`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to omit.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.omit(object, ['a', 'c']);\n * // => { 'b': '2' }\n */\nvar omit = flatRest(function(object, paths) {\n  var result = {};\n  if (object == null) {\n    return result;\n  }\n  var isDeep = false;\n  paths = arrayMap(paths, function(path) {\n    path = castPath(path, object);\n    isDeep || (isDeep = path.length > 1);\n    return path;\n  });\n  copyObject(object, getAllKeysIn(object), result);\n  if (isDeep) {\n    result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n  }\n  var length = paths.length;\n  while (length--) {\n    baseUnset(result, paths[length]);\n  }\n  return result;\n});\n\nmodule.exports = omit;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/omit.js\n// module id = 320\n// module chunks = 0","var basePick = require('./_basePick'),\n    flatRest = require('./_flatRest');\n\n/**\n * Creates an object composed of the picked `object` properties.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The source object.\n * @param {...(string|string[])} [paths] The property paths to pick.\n * @returns {Object} Returns the new object.\n * @example\n *\n * var object = { 'a': 1, 'b': '2', 'c': 3 };\n *\n * _.pick(object, ['a', 'c']);\n * // => { 'a': 1, 'c': 3 }\n */\nvar pick = flatRest(function(object, paths) {\n  return object == null ? {} : basePick(object, paths);\n});\n\nmodule.exports = pick;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/pick.js\n// module id = 321\n// module chunks = 0","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/property.js\n// module id = 322\n// module chunks = 0","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/stubFalse.js\n// module id = 323\n// module chunks = 0","var toNumber = require('./toNumber');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nmodule.exports = toFinite;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toFinite.js\n// module id = 324\n// module chunks = 0","var toFinite = require('./toFinite');\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nmodule.exports = toInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toInteger.js\n// module id = 325\n// module chunks = 0","var isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toNumber.js\n// module id = 326\n// module chunks = 0","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/toPlainObject.js\n// module id = 327\n// module chunks = 0","var baseToString = require('./_baseToString'),\n    castSlice = require('./_castSlice'),\n    charsEndIndex = require('./_charsEndIndex'),\n    charsStartIndex = require('./_charsStartIndex'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/**\n * Removes leading and trailing whitespace or specified characters from `string`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to trim.\n * @param {string} [chars=whitespace] The characters to trim.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {string} Returns the trimmed string.\n * @example\n *\n * _.trim('  abc  ');\n * // => 'abc'\n *\n * _.trim('-_-abc-_-', '_-');\n * // => 'abc'\n *\n * _.map(['  foo  ', '  bar  '], _.trim);\n * // => ['foo', 'bar']\n */\nfunction trim(string, chars, guard) {\n  string = toString(string);\n  if (string && (guard || chars === undefined)) {\n    return string.replace(reTrim, '');\n  }\n  if (!string || !(chars = baseToString(chars))) {\n    return string;\n  }\n  var strSymbols = stringToArray(string),\n      chrSymbols = stringToArray(chars),\n      start = charsStartIndex(strSymbols, chrSymbols),\n      end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n  return castSlice(strSymbols, start, end).join('');\n}\n\nmodule.exports = trim;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/trim.js\n// module id = 328\n// module chunks = 0","var arrayFilter = require('./_arrayFilter'),\n    arrayMap = require('./_arrayMap'),\n    baseProperty = require('./_baseProperty'),\n    baseTimes = require('./_baseTimes'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * This method is like `_.zip` except that it accepts an array of grouped\n * elements and creates an array regrouping the elements to their pre-zip\n * configuration.\n *\n * @static\n * @memberOf _\n * @since 1.2.0\n * @category Array\n * @param {Array} array The array of grouped elements to process.\n * @returns {Array} Returns the new array of regrouped elements.\n * @example\n *\n * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n *\n * _.unzip(zipped);\n * // => [['a', 'b'], [1, 2], [true, false]]\n */\nfunction unzip(array) {\n  if (!(array && array.length)) {\n    return [];\n  }\n  var length = 0;\n  array = arrayFilter(array, function(group) {\n    if (isArrayLikeObject(group)) {\n      length = nativeMax(group.length, length);\n      return true;\n    }\n  });\n  return baseTimes(length, function(index) {\n    return arrayMap(array, baseProperty(index));\n  });\n}\n\nmodule.exports = unzip;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/unzip.js\n// module id = 329\n// module chunks = 0","var arrayFilter = require('./_arrayFilter'),\n    baseRest = require('./_baseRest'),\n    baseXor = require('./_baseXor'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = baseRest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nmodule.exports = xor;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/xor.js\n// module id = 330\n// module chunks = 0","var baseRest = require('./_baseRest'),\n    unzip = require('./unzip');\n\n/**\n * Creates an array of grouped elements, the first of which contains the\n * first elements of the given arrays, the second of which contains the\n * second elements of the given arrays, and so on.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to process.\n * @returns {Array} Returns the new array of grouped elements.\n * @example\n *\n * _.zip(['a', 'b'], [1, 2], [true, false]);\n * // => [['a', 1, true], ['b', 2, false]]\n */\nvar zip = baseRest(unzip);\n\nmodule.exports = zip;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/lodash/zip.js\n// module id = 331\n// module chunks = 0","(function(root, factory) {\n    if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.nearley = factory();\n    }\n}(this, function() {\n\nfunction Rule(name, symbols, postprocess) {\n    this.id = ++Rule.highestId;\n    this.name = name;\n    this.symbols = symbols;        // a list of literal | regex class | nonterminal\n    this.postprocess = postprocess;\n    return this;\n}\nRule.highestId = 0;\n\nRule.prototype.toString = function(withCursorAt) {\n    function stringifySymbolSequence (e) {\n        return e.literal ? JSON.stringify(e.literal) :\n               e.type ? '%' + e.type : e.toString();\n    }\n    var symbolSequence = (typeof withCursorAt === \"undefined\")\n                         ? this.symbols.map(stringifySymbolSequence).join(' ')\n                         : (   this.symbols.slice(0, withCursorAt).map(stringifySymbolSequence).join(' ')\n                             + \"  \"\n                             + this.symbols.slice(withCursorAt).map(stringifySymbolSequence).join(' ')     );\n    return this.name + \"  \" + symbolSequence;\n}\n\n\n// a State is a rule at a position from a given starting point in the input stream (reference)\nfunction State(rule, dot, reference, wantedBy) {\n    this.rule = rule;\n    this.dot = dot;\n    this.reference = reference;\n    this.data = [];\n    this.wantedBy = wantedBy;\n    this.isComplete = this.dot === rule.symbols.length;\n}\n\nState.prototype.toString = function() {\n    return \"{\" + this.rule.toString(this.dot) + \"}, from: \" + (this.reference || 0);\n};\n\nState.prototype.nextState = function(child) {\n    var state = new State(this.rule, this.dot + 1, this.reference, this.wantedBy);\n    state.left = this;\n    state.right = child;\n    if (state.isComplete) {\n        state.data = state.build();\n    }\n    return state;\n};\n\nState.prototype.build = function() {\n    var children = [];\n    var node = this;\n    do {\n        children.push(node.right.data);\n        node = node.left;\n    } while (node.left);\n    children.reverse();\n    return children;\n};\n\nState.prototype.finish = function() {\n    if (this.rule.postprocess) {\n        this.data = this.rule.postprocess(this.data, this.reference, Parser.fail);\n    }\n};\n\n\nfunction Column(grammar, index) {\n    this.grammar = grammar;\n    this.index = index;\n    this.states = [];\n    this.wants = {}; // states indexed by the non-terminal they expect\n    this.scannable = []; // list of states that expect a token\n    this.completed = {}; // states that are nullable\n}\n\n\nColumn.prototype.process = function(nextColumn) {\n    var states = this.states;\n    var wants = this.wants;\n    var completed = this.completed;\n\n    for (var w = 0; w < states.length; w++) { // nb. we push() during iteration\n        var state = states[w];\n\n        if (state.isComplete) {\n            state.finish();\n            if (state.data !== Parser.fail) {\n                // complete\n                var wantedBy = state.wantedBy;\n                for (var i = wantedBy.length; i--; ) { // this line is hot\n                    var left = wantedBy[i];\n                    this.complete(left, state);\n                }\n\n                // special-case nullables\n                if (state.reference === this.index) {\n                    // make sure future predictors of this rule get completed.\n                    var exp = state.rule.name;\n                    (this.completed[exp] = this.completed[exp] || []).push(state);\n                }\n            }\n\n        } else {\n            // queue scannable states\n            var exp = state.rule.symbols[state.dot];\n            if (typeof exp !== 'string') {\n                this.scannable.push(state);\n                continue;\n            }\n\n            // predict\n            if (wants[exp]) {\n                wants[exp].push(state);\n\n                if (completed.hasOwnProperty(exp)) {\n                    var nulls = completed[exp];\n                    for (var i = 0; i < nulls.length; i++) {\n                        var right = nulls[i];\n                        this.complete(state, right);\n                    }\n                }\n            } else {\n                wants[exp] = [state];\n                this.predict(exp);\n            }\n        }\n    }\n}\n\nColumn.prototype.predict = function(exp) {\n    var rules = this.grammar.byName[exp] || [];\n\n    for (var i = 0; i < rules.length; i++) {\n        var r = rules[i];\n        var wantedBy = this.wants[exp];\n        var s = new State(r, 0, this.index, wantedBy);\n        this.states.push(s);\n    }\n}\n\nColumn.prototype.complete = function(left, right) {\n    var inp = right.rule.name;\n    if (left.rule.symbols[left.dot] === inp) {\n        var copy = left.nextState(right);\n        this.states.push(copy);\n    }\n}\n\n\nfunction Grammar(rules, start) {\n    this.rules = rules;\n    this.start = start || this.rules[0].name;\n    var byName = this.byName = {};\n    this.rules.forEach(function(rule) {\n        if (!byName.hasOwnProperty(rule.name)) {\n            byName[rule.name] = [];\n        }\n        byName[rule.name].push(rule);\n    });\n}\n\n// So we can allow passing (rules, start) directly to Parser for backwards compatibility\nGrammar.fromCompiled = function(rules, start) {\n    var lexer = rules.Lexer;\n    if (rules.ParserStart) {\n      start = rules.ParserStart;\n      rules = rules.ParserRules;\n    }\n    var rules = rules.map(function (r) { return (new Rule(r.name, r.symbols, r.postprocess)); });\n    var g = new Grammar(rules, start);\n    g.lexer = lexer; // nb. storing lexer on Grammar is iffy, but unavoidable\n    return g;\n}\n\n\nfunction StreamLexer() {\n  this.reset(\"\");\n}\n\nStreamLexer.prototype.reset = function(data, state) {\n    this.buffer = data;\n    this.index = 0;\n    this.line = state ? state.line : 1;\n    this.lastLineBreak = state ? -state.col : 0;\n}\n\nStreamLexer.prototype.next = function() {\n    if (this.index < this.buffer.length) {\n        var ch = this.buffer[this.index++];\n        if (ch === '\\n') {\n          this.line += 1;\n          this.lastLineBreak = this.index;\n        }\n        return {value: ch};\n    }\n}\n\nStreamLexer.prototype.save = function() {\n  return {\n    line: this.line,\n    col: this.index - this.lastLineBreak,\n  }\n}\n\nStreamLexer.prototype.formatError = function(token, message) {\n    // nb. this gets called after consuming the offending token,\n    // so the culprit is index-1\n    var buffer = this.buffer;\n    if (typeof buffer === 'string') {\n        var nextLineBreak = buffer.indexOf('\\n', this.index);\n        if (nextLineBreak === -1) nextLineBreak = buffer.length;\n        var line = buffer.substring(this.lastLineBreak, nextLineBreak)\n        var col = this.index - this.lastLineBreak;\n        message += \" at line \" + this.line + \" col \" + col + \":\\n\\n\";\n        message += \"  \" + line + \"\\n\"\n        message += \"  \" + Array(col).join(\" \") + \"^\"\n        return message;\n    } else {\n        return message + \" at index \" + (this.index - 1);\n    }\n}\n\n\nfunction Parser(rules, start, options) {\n    if (rules instanceof Grammar) {\n        var grammar = rules;\n        var options = start;\n    } else {\n        var grammar = Grammar.fromCompiled(rules, start);\n    }\n    this.grammar = grammar;\n\n    // Read options\n    this.options = {\n        keepHistory: false,\n        lexer: grammar.lexer || new StreamLexer,\n    };\n    for (var key in (options || {})) {\n        this.options[key] = options[key];\n    }\n\n    // Setup lexer\n    this.lexer = this.options.lexer;\n    this.lexerState = undefined;\n\n    // Setup a table\n    var column = new Column(grammar, 0);\n    var table = this.table = [column];\n\n    // I could be expecting anything.\n    column.wants[grammar.start] = [];\n    column.predict(grammar.start);\n    // TODO what if start rule is nullable?\n    column.process();\n    this.current = 0; // token index\n}\n\n// create a reserved token for indicating a parse fail\nParser.fail = {};\n\nParser.prototype.feed = function(chunk) {\n    var lexer = this.lexer;\n    lexer.reset(chunk, this.lexerState);\n\n    var token;\n    while (token = lexer.next()) {\n        // We add new states to table[current+1]\n        var column = this.table[this.current];\n\n        // GC unused states\n        if (!this.options.keepHistory) {\n            delete this.table[this.current - 1];\n        }\n\n        var n = this.current + 1;\n        var nextColumn = new Column(this.grammar, n);\n        this.table.push(nextColumn);\n\n        // Advance all tokens that expect the symbol\n        var literal = token.value;\n        var value = lexer.constructor === StreamLexer ? token.value : token;\n        var scannable = column.scannable;\n        for (var w = scannable.length; w--; ) {\n            var state = scannable[w];\n            var expect = state.rule.symbols[state.dot];\n            // Try to consume the token\n            // either regex or literal\n            if (expect.test ? expect.test(value) :\n                expect.type ? expect.type === token.type\n                            : expect.literal === literal) {\n                // Add it\n                var next = state.nextState({data: value, token: token, isToken: true, reference: n - 1});\n                nextColumn.states.push(next);\n            }\n        }\n\n        // Next, for each of the rules, we either\n        // (a) complete it, and try to see if the reference row expected that\n        //     rule\n        // (b) predict the next nonterminal it expects by adding that\n        //     nonterminal's start state\n        // To prevent duplication, we also keep track of rules we have already\n        // added\n\n        nextColumn.process();\n\n        // If needed, throw an error:\n        if (nextColumn.states.length === 0) {\n            // No states at all! This is not good.\n            var message = this.lexer.formatError(token, \"invalid syntax\") + \"\\n\";\n            message += \"Unexpected \" + (token.type ? token.type + \" token: \" : \"\");\n            message += JSON.stringify(token.value !== undefined ? token.value : token) + \"\\n\";\n            var err = new Error(message);\n            err.offset = this.current;\n            err.token = token;\n            throw err;\n        }\n\n        // maybe save lexer state\n        if (this.options.keepHistory) {\n          column.lexerState = lexer.save()\n        }\n\n        this.current++;\n    }\n    if (column) {\n      this.lexerState = lexer.save()\n    }\n\n    // Incrementally keep track of results\n    this.results = this.finish();\n\n    // Allow chaining, for whatever it's worth\n    return this;\n};\n\nParser.prototype.save = function() {\n    var column = this.table[this.current];\n    column.lexerState = this.lexerState;\n    return column;\n};\n\nParser.prototype.restore = function(column) {\n    var index = column.index;\n    this.current = index;\n    this.table[index] = column;\n    this.table.splice(index + 1);\n    this.lexerState = column.lexerState;\n\n    // Incrementally keep track of results\n    this.results = this.finish();\n};\n\n// nb. deprecated: use save/restore instead!\nParser.prototype.rewind = function(index) {\n    if (!this.options.keepHistory) {\n        throw new Error('set option `keepHistory` to enable rewinding')\n    }\n    // nb. recall column (table) indicies fall between token indicies.\n    //        col 0   --   token 0   --   col 1\n    this.restore(this.table[index]);\n};\n\nParser.prototype.finish = function() {\n    // Return the possible parsings\n    var considerations = [];\n    var start = this.grammar.start;\n    var column = this.table[this.table.length - 1]\n    column.states.forEach(function (t) {\n        if (t.rule.name === start\n                && t.dot === t.rule.symbols.length\n                && t.reference === 0\n                && t.data !== Parser.fail) {\n            considerations.push(t);\n        }\n    });\n    return considerations.map(function(c) {return c.data; });\n};\n\nreturn {\n    Parser: Parser,\n    Grammar: Grammar,\n    Rule: Rule,\n};\n\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/nearley/lib/nearley.js\n// module id = 332\n// module chunks = 0","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/setimmediate/setImmediate.js\n// module id = 333\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst\n * @param src\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) { return dst; }\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) { return (isArray(dst) ? dst : []).concat(src); }\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) { return src; }\n\n  // See if 'dst' is allowed to be mutated. If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nvar merge = function (dst) {\n  var srcs = [], len = arguments.length - 1;\n  while ( len-- > 0 ) srcs[ len ] = arguments[ len + 1 ];\n\n  return srcs.reduce(mergeOne, dst);\n};\n\nfunction isFunction(obj) {\n  return typeof obj === 'function';\n}\n\nfunction isObject(obj) {\n  var type = typeof obj;\n  return !!obj && (type === 'object' || type === 'function');\n}\n\nvar assign = Object.assign || function assign(to) {\n  var args = arguments;\n  for (var s = 1; s < args.length; s += 1) {\n    var from = args[s];\n    if (from) {\n      var keys = Object.keys(from);\n      for (var i = 0; i < keys.length; i += 1) {\n        var key = keys[i];\n        to[key] = from[key];\n      }\n    }\n  }\n\n  return to;\n};\n\nvar isArray = Array.isArray;\n\nfunction isPlainObject(value) {\n  return !!value && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n}\n\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) { return; }\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) { return; }\n  if (!isObject(dstObject[propName])) { dstObject[propName] = {}; }\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Converts stampit extended descriptor to a standard one.\n * @param [methods]\n * @param [properties]\n * @param [props]\n * @param [refs]\n * @param [initializers]\n * @param [init]\n * @param [deepProperties]\n * @param [deepProps]\n * @param [propertyDescriptors]\n * @param [staticProperties]\n * @param [statics]\n * @param [staticDeepProperties]\n * @param [deepStatics]\n * @param [staticPropertyDescriptors]\n * @param [configuration]\n * @param [conf]\n * @param [deepConfiguration]\n * @param [deepConf]\n * @param [composers]\n * @returns {Descriptor}\n */\nvar standardiseDescriptor = function (ref) {\n  if ( ref === void 0 ) ref = {};\n  var methods = ref.methods;\n  var properties = ref.properties;\n  var props = ref.props;\n  var refs = ref.refs;\n  var initializers = ref.initializers;\n  var init = ref.init;\n  var composers = ref.composers;\n  var deepProperties = ref.deepProperties;\n  var deepProps = ref.deepProps;\n  var propertyDescriptors = ref.propertyDescriptors;\n  var staticProperties = ref.staticProperties;\n  var statics = ref.statics;\n  var staticDeepProperties = ref.staticDeepProperties;\n  var deepStatics = ref.deepStatics;\n  var staticPropertyDescriptors = ref.staticPropertyDescriptors;\n  var configuration = ref.configuration;\n  var conf = ref.conf;\n  var deepConfiguration = ref.deepConfiguration;\n  var deepConf = ref.deepConf;\n\n  var p = isObject(props) || isObject(refs) || isObject(properties) ?\n    assign({}, props, refs, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var dsp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  dsp = isObject(staticDeepProperties) ? merge(dsp, staticDeepProperties) : dsp;\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var composerFunctions = extractFunctions(composers);\n  if (composerFunctions) {\n    dc = dc || {};\n    concatAssignFunctions(dc, composerFunctions, 'composers');\n  }\n\n  var descriptor = {};\n  if (methods) { descriptor.methods = methods; }\n  if (p) { descriptor.properties = p; }\n  if (ii) { descriptor.initializers = ii; }\n  if (dp) { descriptor.deepProperties = dp; }\n  if (sp) { descriptor.staticProperties = sp; }\n  if (methods) { descriptor.methods = methods; }\n  if (dsp) { descriptor.staticDeepProperties = dsp; }\n  if (propertyDescriptors) { descriptor.propertyDescriptors = propertyDescriptors; }\n  if (staticPropertyDescriptors) { descriptor.staticPropertyDescriptors = staticPropertyDescriptors; }\n  if (c) { descriptor.configuration = c; }\n  if (dc) { descriptor.deepConfiguration = dc; }\n\n  return descriptor;\n};\n\n/**\n * Creates new factory instance.\n * @param {Descriptor} descriptor The information about the object the factory will be creating.\n * @returns {Function} The new factory function.\n */\nfunction createFactory(descriptor) {\n  return function Stamp(options) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = Object.create(descriptor.methods || null);\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) { return obj; }\n\n    if (options === undefined) { options = {}; }\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: [options].concat(args)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory(descriptor);\n\n  merge(Stamp, descriptor.staticDeepProperties);\n  assign(Stamp, descriptor.staticProperties);\n  Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors || {});\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return composeImplementation.apply(this, args);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n * @returns {Descriptor} Returns the dstDescriptor argument.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n  if (!isObject(srcDescriptor)) { return dstDescriptor; }\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n\n  return dstDescriptor;\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [composables] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nfunction compose() {\n  var composables = [], len = arguments.length;\n  while ( len-- ) composables[ len ] = arguments[ len ];\n\n  var descriptor = [this]\n    .concat(composables)\n    .filter(isObject)\n    .reduce(mergeComposable, {});\n  return createStamp(descriptor, compose);\n}\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n/**\n * Returns true if argument is a stamp.\n * @param {*} obj\n * @returns {Boolean}\n */\nfunction isStamp(obj) {\n  return isFunction(obj) && isFunction(obj.compose);\n}\n\nfunction createUtilityFunction(propName, action) {\n  return function composeUtil() {\n    var i = arguments.length, argsArray = Array(i);\n    while ( i-- ) argsArray[i] = arguments[i];\n\n    return ((this && this.compose) || stampit).call(this, ( obj = {}, obj[propName] = action.apply(void 0, [ {} ].concat( argsArray )), obj ));\n    var obj;\n  };\n}\n\nvar methods = createUtilityFunction('methods', assign);\n\nvar properties = createUtilityFunction('properties', assign);\nfunction initializers() {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return ((this && this.compose) || stampit).call(this, {\n    initializers: extractFunctions.apply(void 0, args)\n  });\n}\nfunction composers() {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return ((this && this.compose) || stampit).call(this, {\n    composers: extractFunctions.apply(void 0, args)\n  });\n}\n\nvar deepProperties = createUtilityFunction('deepProperties', merge);\nvar staticProperties = createUtilityFunction('staticProperties', assign);\nvar staticDeepProperties = createUtilityFunction('staticDeepProperties', merge);\nvar configuration = createUtilityFunction('configuration', assign);\nvar deepConfiguration = createUtilityFunction('deepConfiguration', merge);\nvar propertyDescriptors = createUtilityFunction('propertyDescriptors', assign);\n\nvar staticPropertyDescriptors = createUtilityFunction('staticPropertyDescriptors', assign);\n\nvar allUtilities = {\n  methods: methods,\n\n  properties: properties,\n  refs: properties,\n  props: properties,\n\n  initializers: initializers,\n  init: initializers,\n\n  composers: composers,\n\n  deepProperties: deepProperties,\n  deepProps: deepProperties,\n\n  staticProperties: staticProperties,\n  statics: staticProperties,\n\n  staticDeepProperties: staticDeepProperties,\n  deepStatics: staticDeepProperties,\n\n  configuration: configuration,\n  conf: configuration,\n\n  deepConfiguration: deepConfiguration,\n  deepConf: deepConfiguration,\n\n  propertyDescriptors: propertyDescriptors,\n\n  staticPropertyDescriptors: staticPropertyDescriptors\n};\n\n/**\n * Infected stamp. Used as a storage of the infection metadata\n * @type {Function}\n * @return {Stamp}\n */\nvar baseStampit = compose(\n  {staticProperties: allUtilities},\n  {\n    staticProperties: {\n      create: function create() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        return this.apply(void 0, args);\n      },\n      compose: stampit // infecting\n    }\n  }\n);\n\n/**\n * Infected compose\n * @param {...(Composable)} [args] The list of composables.\n * @return {Stamp}\n */\nfunction stampit() {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  var composables = args.filter(isObject)\n    .map(function (arg) { return isStamp(arg) ? arg : standardiseDescriptor(arg); });\n\n  // Calling the standard pure compose function here.\n  var stamp = compose.apply(this || baseStampit, composables);\n\n  var composerFunctions = stamp.compose.deepConfiguration &&\n    stamp.compose.deepConfiguration.composers;\n  if (isArray(composerFunctions) && composerFunctions.length > 0) {\n    var uniqueComposers = [];\n    for (var i = 0; i < composerFunctions.length; i += 1) {\n      var composer = composerFunctions[i];\n      if (isFunction(composer) && uniqueComposers.indexOf(composer) < 0) {\n        uniqueComposers.push(composer);\n      }\n    }\n    stamp.compose.deepConfiguration.composers = uniqueComposers;\n\n    if (isStamp(this)) { composables.unshift(this); }\n    for (var i$1 = 0; i$1 < uniqueComposers.length; i$1 += 1) {\n      var composer$1 = uniqueComposers[i$1];\n      var returnedValue = composer$1({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n}\n\nvar exportedCompose = stampit.bind(); // bind to 'undefined'\nstampit.compose = exportedCompose;\n\n// Setting up the shortcut functions\nvar stampit$1 = assign(stampit, allUtilities);\n\nexports.methods = methods;\nexports.properties = properties;\nexports.refs = properties;\nexports.props = properties;\nexports.initializers = initializers;\nexports.init = initializers;\nexports.composers = composers;\nexports.deepProperties = deepProperties;\nexports.deepProps = deepProperties;\nexports.staticProperties = staticProperties;\nexports.statics = staticProperties;\nexports.staticDeepProperties = staticDeepProperties;\nexports.deepStatics = staticDeepProperties;\nexports.configuration = configuration;\nexports.conf = configuration;\nexports.deepConfiguration = deepConfiguration;\nexports.deepConf = deepConfiguration;\nexports.propertyDescriptors = propertyDescriptors;\nexports.staticPropertyDescriptors = staticPropertyDescriptors;\nexports.compose = exportedCompose;\nexports['default'] = stampit$1;\nmodule.exports = exports['default'];\n//# sourceMappingURL=stampit.full.js.map\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stampit/dist/stampit.full.js\n// module id = 334\n// module chunks = 0","var apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/timers-browserify/main.js\n// module id = 335\n// module chunks = 0"],"sourceRoot":""}